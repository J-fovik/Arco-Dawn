import{a as R,n as l,p as _,O as b,P as f,d as h,s as M,v as $,b as A,r as s,o as B,e as K,g as a,w as n,c as t,i as L,k as O}from"./index-8a2cb146.js";import{_ as P}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{F as U}from"./finance-4d2c7da5.js";import"./index-2bbe694f.js";const E=()=>{const{getDictionaryItem:d}=R();return[{title:"团号",dataIndex:"groupNo",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.groupNo)},{title:"付款账户",dataIndex:"payNum",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.payNum)},{title:"收款账户",dataIndex:"receiveNum",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.receiveNum)},{title:"结算金额",dataIndex:"money",show:!0,ellipsis:!0,tooltip:!0,align:"right",render:({record:e})=>_("span",{class:"text-red text-price"},b(f(e.money)))},{title:"手续费",dataIndex:"sxf",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>_("span",{class:"text-red text-price"},b(f(e.sxf)))},{title:"费用分类",dataIndex:"costType",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.costType=="1"?"订单费用":e.costType=="2"?"保险费用":"")},{title:"结算状态",dataIndex:"settleType",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(d("signupSettleType",e.settleType).detailName)},{title:"结算方式",dataIndex:"setMode",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.setMode=="1"?"自动":"手动")},{title:"交易流水号",dataIndex:"pylsh",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.pylsh)},{title:"交易时间",dataIndex:"createTime",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.createTime)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}]},q=h({name:"FinanceSettlementRecord"}),W=h({...q,setup(d){const{form:e,resetForm:x}=M(()=>({groupNo:"",supName:""}),()=>p()),{columnsData:y,visibleColumnsData:N,tableBaseOptions:o,resetData:p,extendTableList:T,changeTableColumn:w,changeTableSize:C}=$(E(),()=>z()),{data:S,loading:I,initData:z}=A(async()=>{const{res:u,err:r}=await O(()=>U.getSettleRecordList({...e.value,currentPage:o.pagination.current,pageSize:o.pagination.pageSize,pagingOrNot:"1"}));return r?[]:(o.pagination.total=u.data.totalCount,T(u.data.dataList))});return(u,r)=>{const c=s("a-input"),m=s("a-form-item"),g=s("a-grid-item"),k=s("a-grid"),v=s("a-form"),D=s("a-button"),V=s("a-button-group"),F=s("a-table");return B(),K("div",null,[a(P,{"table-columns":t(y),"table-size":t(o).size,onResetSearch:t(x),onSearch:t(p),onChangeTableSize:t(C),onChangeTableColumn:t(w)},{form:n(()=>[a(v,{model:t(e),"label-align":"left",size:"large","auto-label-width":""},{default:n(()=>[a(k,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:n(()=>[a(g,null,{default:n(()=>[a(m,{field:"groupNo",label:"团号:"},{default:n(()=>[a(c,{modelValue:t(e).groupNo,"onUpdate:modelValue":r[0]||(r[0]=i=>t(e).groupNo=i),modelModifiers:{trim:!0},placeholder:"请输入团号"},null,8,["modelValue"])]),_:1})]),_:1}),a(g,null,{default:n(()=>[a(m,{field:"supName",label:"供应商名称:"},{default:n(()=>[a(c,{modelValue:t(e).supName,"onUpdate:modelValue":r[1]||(r[1]=i=>t(e).supName=i),modelModifiers:{trim:!0},placeholder:"请输入供应商名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),table:n(()=>[a(F,{"selected-keys":t(o).selectedKeys,"onUpdate:selectedKeys":r[2]||(r[2]=i=>t(o).selectedKeys=i),class:"zs-table","row-key":"id",data:t(S),"row-selection":t(o).rowSelection,bordered:t(o).bordered,pagination:t(o).pagination,size:t(o).size,columns:t(N),stripe:t(o).stripe,loading:t(I)},{operate:n(({record:i})=>[a(V,null,{default:n(()=>[a(D,{type:"text",onClick:j=>u.$router.push(`/finance/settlementRecord/operate?id=${i.id}`)},{default:n(()=>[L("详情")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{W as default};

import{n as c,p as F,T as j,d as x,q as G,E as H,s as J,v as Q,x as W,y as X,r as s,o as m,e as Y,g as o,w as t,c as e,z as b,l as y,i as g,k as C,A as Z}from"./index-8a2cb146.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{L as v}from"./landscape-a6fd59d7.js";import"./index-2bbe694f.js";const te=()=>[{title:"景区名称",dataIndex:"scenicName",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:n})=>c(n.scenicName)},{title:"景区等级",dataIndex:"scenicLevel",show:!0,align:"center",render:({record:n})=>F(j,{color:"blue"},{default:()=>c(n.scenicLevel)})},{title:"景区电话",dataIndex:"scenicPhone",show:!0,align:"center",render:({record:n})=>c(n.scenicPhone)},{title:"所属国家",dataIndex:"country",show:!0,align:"center",render:({record:n})=>c(n.country)},{title:"所属省",dataIndex:"province",show:!0,align:"center",render:({record:n})=>c(n.province)},{title:"所属市",dataIndex:"city",show:!0,align:"center",render:({record:n})=>c(n.city)},{title:"地理位置",dataIndex:"position",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:n})=>c(n.position)},{title:"景区介绍",dataIndex:"scenicInfo",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:n})=>c(n.scenicInfo)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],ne=x({name:"ScenicSpotInfoManage"}),ue=x({...ne,setup(n){const{vAuthority:_}=G(),{warningModal:I}=Z(),[z,ae]=H(null),{form:u,resetForm:T}=J(()=>({country:"",scenicName:""}),()=>S()),{selectRow:oe,columnsData:k,visibleColumnsData:N,tableBaseOptions:a,resetData:S,setSelectRow:le,extendTableList:$,changeTableColumn:M,changeTableSize:A}=Q(te(),()=>f()),D=i=>{I(`确定操作选中的${a.selectedKeys.length}数据吗？`,async l=>{const{res:d}=await C(()=>v[i]({idList:a.selectedKeys}),{successMsg:"操作成功"});l(!0),d&&(a.selectedKeys=[],f())})},{data:K,loading:L,initData:f}=W(async()=>{const{res:i,err:l}=await C(()=>v.getScenicSpotList({...u.value,currentPage:a.pagination.current,pageSize:a.pagination.pageSize,pagingOrNot:"1"}));return l?[]:(a.pagination.total=i.data.totalCount,$(i==null?void 0:i.data.scenicList))});return X(f),(i,l)=>{const d=s("a-input"),h=s("a-form-item"),w=s("a-grid-item"),V=s("a-grid"),R=s("a-form"),B=s("icon-plus"),p=s("a-button"),P=s("icon-close"),E=s("a-space"),U=s("a-button-group"),O=s("a-table");return m(),Y("div",null,[o(ee,{"table-columns":e(k),"table-size":e(a).size,onResetSearch:e(T),onSearch:e(S),onChangeTableSize:e(A),onChangeTableColumn:e(M)},{form:t(()=>[o(R,{model:e(u),"label-align":"left",size:"large","auto-label-width":""},{default:t(()=>[o(V,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:t(()=>[o(w,null,{default:t(()=>[o(h,{field:"scenicName",label:"景区名称:"},{default:t(()=>[o(d,{modelValue:e(u).scenicName,"onUpdate:modelValue":l[0]||(l[0]=r=>e(u).scenicName=r),placeholder:"请输入景区名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(w,null,{default:t(()=>[o(h,{field:"country",label:"所属国家:"},{default:t(()=>[o(d,{modelValue:e(u).country,"onUpdate:modelValue":l[1]||(l[1]=r=>e(u).country=r),placeholder:"请输入所属国家"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),operate:t(()=>[o(E,null,{default:t(()=>[b((m(),y(p,{type:"outline",onClick:l[2]||(l[2]=r=>i.$router.push("/scenicSpot/infoManage/operate"))},{icon:t(()=>[o(B)]),default:t(()=>[g(" 新增 ")]),_:1})),[[e(_),"ScenicSpotInfoManageAdd"]]),b((m(),y(p,{type:"outline",status:"danger",disabled:!e(a).selectedKeys.length,loading:e(z)==="删除",onClick:l[3]||(l[3]=r=>D("deleteScenicSpot"))},{icon:t(()=>[o(P)]),default:t(()=>[g(" 删除 ")]),_:1},8,["disabled","loading"])),[[e(_),"ScenicSpotInfoManageDelete"]])]),_:1})]),table:t(()=>[o(O,{"selected-keys":e(a).selectedKeys,"onUpdate:selectedKeys":l[4]||(l[4]=r=>e(a).selectedKeys=r),class:"zs-table","row-key":"id",data:e(K),"row-selection":e(a).rowSelection,bordered:e(a).bordered,pagination:e(a).pagination,size:e(a).size,columns:e(N),stripe:e(a).stripe,loading:e(L)},{operate:t(({record:r})=>[o(U,null,{default:t(()=>[o(p,{type:"text",status:"success",onClick:q=>i.$router.push(`/scenicSpot/infoManage/operate?id=${r.id}&isReadOnly=true`)},{default:t(()=>[g("详情")]),_:2},1032,["onClick"]),b((m(),y(p,{type:"text",onClick:q=>i.$router.push(`/scenicSpot/infoManage/operate?id=${r.id}`)},{default:t(()=>[g("编辑")]),_:2},1032,["onClick"])),[[e(_),"ScenicSpotInfoManageEdit"]])]),_:2},1024)]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{ue as default};

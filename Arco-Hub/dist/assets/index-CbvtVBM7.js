import{_ as g}from"./index-IDTj6fKF.js";import{d as i,z as k,l as w,r as c,o as _,m,w as r,a as p,b as t,Y as C,Z as K,u as N,e as S,B as $}from"./index-BQ5eCX9Z.js";const x=i({name:"ZsDistributionPower"}),D=i({...x,props:{data:{default:()=>({})}},emits:["close","success"],setup(y,{emit:u}){const s=u,[a,v]=k(null),{data:e}=w(async()=>{const n=localStorage.getItem("roleList");return n?JSON.parse(n):[]}),d=async()=>{localStorage.setItem("roleList",JSON.stringify(e.value)),s("success"),s("close")};return(n,o)=>{const l=c("a-tree"),b=c("a-drawer");return _(),m(b,{title:"权限分配",visible:"","unmount-on-close":"",width:500,"mask-closable":!1,"ok-loading":t(a)==="okLoading",onCancel:o[1]||(o[1]=f=>s("close")),onOk:d},{default:r(()=>[p(l,{"checked-keys":t(e),"onUpdate:checkedKeys":o[0]||(o[0]=f=>C(e)?e.value=f:null),checkable:"","show-line":"","only-check-leaf":"",fieldNames:{key:"name",title:"title",children:"children",icon:""},data:t(K)},null,8,["checked-keys","data"])]),_:1},8,["ok-loading"])}}}),Z=i({name:"MenuRoleMenu"}),L=i({...Z,setup(y){const u=N(),[s,a]=k(null);return(v,e)=>{const d=c("a-button"),n=c("a-card"),o=g;return _(),m(o,null,{default:r(()=>[p(n,{title:"菜单权限",bordered:!1},{default:r(()=>[p(d,{type:"primary",onClick:e[0]||(e[0]=l=>t(a)("ZsDistributionPower"))},{default:r(()=>[S("分配权限")]),_:1})]),_:1}),t(s)==="ZsDistributionPower"?(_(),m(D,{key:0,onClose:e[1]||(e[1]=l=>t(a)(null)),data:{},onSuccess:e[2]||(e[2]=l=>t(u).go(0))})):$("",!0)]),_:1})}}});export{L as default};

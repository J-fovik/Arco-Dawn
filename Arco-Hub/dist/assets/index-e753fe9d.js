import{d as h,h as B,i as R,n as F,j as U,r,o as p,c as f,a,w as l,b as e,l as E,m as K}from"./index-d007178a.js";import{f as _,_ as L}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import{V as P}from"./vip-3bf0329d.js";import"./index-13860ba0.js";const M=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"用户昵称",dataIndex:"nickname",show:!0,align:"center",render:({record:i})=>_(i.nickname)},{title:"用户手机号",dataIndex:"phone",show:!0,align:"center",render:({record:i})=>_(i.phone)},{title:"上传时间",dataIndex:"uploadtime",show:!0,align:"center",render:({record:i})=>_(i.uploadtime)},{title:"图片",dataIndex:"uploadpicture",show:!0,tooltip:!0,ellipsis:!0,align:"center",slotName:"uploadpicture"}],O={key:1},j=h({name:"FreeVip"}),W=h({...j,setup(i){B(null);const{form:o,resetForm:T}=R(()=>({createTimeArr:[],createStartTime:"",createEndTime:"",userName:"",phone:""}),()=>g()),{selectRow:q,columnsData:w,visibleColumnsData:S,tableBaseOptions:t,resetData:g,extendTableList:x,setSelectRow:$,changeTableColumn:V,changeTableSize:z}=F(M(),()=>y()),{data:C,loading:k,initData:y}=U(async()=>{const{res:u,err:n}=await K(()=>P.getFreeVipList({...o.value,createStartTime:o.value.createTimeArr[0],createEndTime:o.value.createTimeArr[1],currentPage:t.pagination.current,pageSize:t.pagination.pageSize,pagingOrNot:"1"}));return n?[]:(t.pagination.total=u.data.totalCount,x(u.data.resultList))});return(u,n)=>{const b=r("a-input"),c=r("a-form-item"),m=r("a-grid-item"),v=r("a-range-picker"),A=r("a-grid"),I=r("a-form"),N=r("a-image"),D=r("a-table");return p(),f("div",null,[a(L,{"table-columns":e(w),"table-size":e(t).size,onResetSearch:e(T),onSearch:e(g),onChangeTableSize:e(z),onChangeTableColumn:e(V)},{form:l(({collapsed:s})=>[a(I,{model:e(o),"label-align":"left",size:"large","auto-label-width":""},{default:l(()=>[a(A,{cols:{md:3,lg:3,xl:3,xxl:3},"col-gap":12,collapsed:!s},{default:l(()=>[a(m,null,{default:l(()=>[a(c,{label:"用户昵称:"},{default:l(()=>[a(b,{modelValue:e(o).userName,"onUpdate:modelValue":n[0]||(n[0]=d=>e(o).userName=d),modelModifiers:{trim:!0},placeholder:"请输入用户昵称"},null,8,["modelValue"])]),_:1})]),_:1}),a(m,null,{default:l(()=>[a(c,{label:"用户手机号:"},{default:l(()=>[a(b,{modelValue:e(o).phone,"onUpdate:modelValue":n[1]||(n[1]=d=>e(o).phone=d),modelModifiers:{trim:!0},placeholder:"请输入用户手机号"},null,8,["modelValue"])]),_:1})]),_:1}),a(m,null,{default:l(()=>[a(c,{label:"上传日期范围:"},{default:l(()=>[a(v,{class:"flex1",modelValue:e(o).createTimeArr,"onUpdate:modelValue":n[2]||(n[2]=d=>e(o).createTimeArr=d)},null,8,["modelValue"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),table:l(()=>[a(D,{"selected-keys":e(t).selectedKeys,"onUpdate:selectedKeys":n[3]||(n[3]=s=>e(t).selectedKeys=s),class:"zs-table","row-key":"id",data:e(C),"row-selection":e(t).rowSelection,bordered:e(t).bordered,pagination:e(t).pagination,size:e(t).size,columns:e(S),stripe:e(t).stripe,loading:e(k)},{uploadpicture:l(({record:s})=>[s.uploadpicture?(p(),E(N,{key:0,src:s.uploadpicture,width:"100"},null,8,["src"])):(p(),f("div",O,"--"))]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{W as default};

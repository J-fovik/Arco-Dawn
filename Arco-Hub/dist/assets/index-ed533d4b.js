import{d as w,h as E,i as A,z as F,n as U,j as K,r as d,o as r,c as u,a as n,w as a,b as e,v as L,l as g,m as O}from"./index-d007178a.js";import{f as _,_ as P}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import{D as j}from"./data-30d5a842.js";import"./index-13860ba0.js";const q=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"手机号",dataIndex:"phone",show:!0,align:"center",render:({record:c})=>_(c.phone)},{title:"用户反馈时间",dataIndex:"feedbacktime",show:!0,ellipsis:!0,align:"center",render:({record:c})=>_(c.feedbacktime)},{title:"用户反馈内容",dataIndex:"feedbackcontent",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:c})=>_(c.feedbackcontent)},{title:"用户反馈图片1",dataIndex:"feedbackimgone",show:!0,tooltip:!0,ellipsis:!0,align:"center",slotName:"feedbackimgone"},{title:"用户反馈图片2",dataIndex:"feedbackimgtwo",show:!0,tooltip:!0,ellipsis:!0,align:"center",slotName:"feedbackimgtwo"},{title:"用户反馈图片3",dataIndex:"feedbackimgthree",show:!0,tooltip:!0,ellipsis:!0,align:"center",slotName:"feedbackimgthree"},{title:"用户反馈图片4",dataIndex:"feedbackimgfour",show:!0,tooltip:!0,ellipsis:!0,align:"center",slotName:"feedbackimgfour"}],M={key:1},$={key:1},G={key:1},H={key:1},J=w({name:"DataFeedback"}),ae=w({...J,setup(c){E(null);const{form:o,resetForm:T}=A(()=>({phone:"",feedbackcontent:"",createStartTime:"",createEndTime:""}),()=>k()),f=F({get(){return o.value.createStartTime&&o.value.createEndTime?[o.value.createStartTime,o.value.createEndTime]:[]},set(s){o.value.createStartTime=s[0],o.value.createEndTime=s[1]}}),{selectRow:Q,columnsData:x,visibleColumnsData:y,tableBaseOptions:l,resetData:k,extendTableList:S,createRowNo:W,setSelectRow:X,changeTableColumn:v,changeTableSize:z}=U(q(),()=>D()),{data:C,loading:V,initData:D}=K(async()=>{const{res:s,err:i}=await O(()=>j.getFeedbackList({...o.value,currentPage:l.pagination.current,pageSize:l.pagination.pageSize,pagingOrNot:"1"}));return i?[]:(l.pagination.total=s.data.totalCount,S(s==null?void 0:s.data.resultList))});return(s,i)=>{const h=d("a-input"),p=d("a-form-item"),b=d("a-grid-item"),I=d("a-range-picker"),N=d("a-grid"),R=d("a-form"),m=d("a-image"),B=d("a-table");return r(),u("div",null,[n(P,{"table-columns":e(x),"table-size":e(l).size,onResetSearch:e(T),onSearch:e(k),onChangeTableSize:e(z),onChangeTableColumn:e(v)},{form:a(()=>[n(R,{model:e(o),"label-align":"left",size:"large","auto-label-width":""},{default:a(()=>[n(N,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:a(()=>[n(b,null,{default:a(()=>[n(p,{label:"手机号:"},{default:a(()=>[n(h,{modelValue:e(o).phone,"onUpdate:modelValue":i[0]||(i[0]=t=>e(o).phone=t),placeholder:"请输入用户手机号"},null,8,["modelValue"])]),_:1})]),_:1}),n(b,null,{default:a(()=>[n(p,{label:"反馈内容:"},{default:a(()=>[n(h,{modelValue:e(o).feedbackcontent,"onUpdate:modelValue":i[1]||(i[1]=t=>e(o).feedbackcontent=t),modelModifiers:{trim:!0},placeholder:"请输入反馈内容"},null,8,["modelValue"])]),_:1})]),_:1}),n(b,null,{default:a(()=>[n(p,{label:"反馈时间:"},{default:a(()=>[n(I,{class:"flex1",modelValue:e(f),"onUpdate:modelValue":i[2]||(i[2]=t=>L(f)?f.value=t:null)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),table:a(()=>[n(B,{"selected-keys":e(l).selectedKeys,"onUpdate:selectedKeys":i[3]||(i[3]=t=>e(l).selectedKeys=t),class:"zs-table","row-key":"id",data:e(C),"row-selection":e(l).rowSelection,bordered:e(l).bordered,pagination:e(l).pagination,size:e(l).size,columns:e(y),stripe:e(l).stripe,loading:e(V)},{feedbackimgone:a(({record:t})=>[t.feedbackimgone?(r(),g(m,{key:0,src:t.feedbackimgone,width:"100"},null,8,["src"])):(r(),u("div",M,"--"))]),feedbackimgtwo:a(({record:t})=>[t.feedbackimgtwo?(r(),g(m,{key:0,src:t.feedbackimgtwo,width:"100"},null,8,["src"])):(r(),u("div",$,"--"))]),feedbackimgthree:a(({record:t})=>[t.feedbackimgthree?(r(),g(m,{key:0,src:t.feedbackimgthree,width:"100"},null,8,["src"])):(r(),u("div",G,"--"))]),feedbackimgfour:a(({record:t})=>[t.feedbackimgfour?(r(),g(m,{key:0,src:t.feedbackimgfour,width:"100"},null,8,["src"])):(r(),u("div",H,"--"))]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{ae as default};

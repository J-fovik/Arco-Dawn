import{n as c,p as v,O as f,P as I,X as d,d as b,E as R,s as U,v as B,b as P,r as i,o as H,e as L,g as t,w as s,c as e,f as E,k as F}from"./index-8a2cb146.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{S as O}from"./supplier-c338fe4b.js";import"./index-2bbe694f.js";const A=()=>[{title:"供应商",dataIndex:"supName",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:r})=>c(r.supName)},{title:"结算比率(%)",dataIndex:"ratio",show:!0,ellipsis:!0,tooltip:!0,align:"right",render:({record:r})=>v("span",{class:"text-green"},f(I(r.ratio)))},{title:"利率生效时间",dataIndex:"startTime",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:r})=>c(d(r.startTime,"YYYY-MM-DD"))},{title:"利率失效时间",dataIndex:"endTime",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:r})=>c(d(r.endTime,"YYYY-MM-DD"))}],q=E("span",{class:"mx-3"},"-",-1),X=b({name:"SupplierInterestRateManage"}),Z=b({...X,setup(r){R(null);const{form:l,resetForm:T}=U(()=>({supName:"",ratio:void 0,startTime:"",endTime:""}),()=>_()),{selectRow:$,columnsData:x,visibleColumnsData:S,tableBaseOptions:o,resetData:_,setSelectRow:j,extendTableList:h,changeTableColumn:Y,changeTableSize:D}=B(A(),()=>z()),{data:w,loading:V,initData:z}=P(async()=>{const{res:u,err:n}=await F(()=>O.getSupplierList({...l.value,startTime:d(l.value.startTime,"YYYY-MM-DDTHH:mm:ss",""),endTime:d(l.value.endTime,"YYYY-MM-DDTHH:mm:ss",""),currentPage:o.pagination.current,pageSize:o.pagination.pageSize,pagingOrNot:"1"}));return n?[]:(o.pagination.total=u.data.totalCount,h(u==null?void 0:u.data.rateList))});return(u,n)=>{const C=i("a-input"),m=i("a-form-item"),p=i("a-grid-item"),g=i("a-date-picker"),M=i("a-input-number"),y=i("a-grid"),N=i("a-form"),k=i("a-table");return H(),L("div",null,[t(K,{"table-columns":e(x),"table-size":e(o).size,onResetSearch:e(T),onSearch:e(_),onChangeTableSize:e(D),onChangeTableColumn:e(Y)},{form:s(()=>[t(N,{model:e(l),"label-align":"left",size:"large","auto-label-width":""},{default:s(()=>[t(y,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:s(()=>[t(p,null,{default:s(()=>[t(m,{label:"供应商名称:"},{default:s(()=>[t(C,{modelValue:e(l).supName,"onUpdate:modelValue":n[0]||(n[0]=a=>e(l).supName=a),modelModifiers:{trim:!0},placeholder:"请选择供应商"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:s(()=>[t(m,{label:"选择时间:"},{default:s(()=>[t(g,{modelValue:e(l).startTime,"onUpdate:modelValue":n[1]||(n[1]=a=>e(l).startTime=a),class:"flex1",placeholder:"请选择生效时间"},null,8,["modelValue"]),q,t(g,{modelValue:e(l).endTime,"onUpdate:modelValue":n[2]||(n[2]=a=>e(l).endTime=a),class:"flex1",placeholder:"请选择失效时间"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:s(()=>[t(m,{label:"结算比率(%):"},{default:s(()=>[t(M,{modelValue:e(l).ratio,"onUpdate:modelValue":n[3]||(n[3]=a=>e(l).ratio=a),placeholder:"请输入结算比率",formatter:a=>e(f)(a,""),parser:a=>a.replace(/,/g,""),precision:2,max:100,min:0},null,8,["modelValue","formatter","parser"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),table:s(()=>[t(k,{"selected-keys":e(o).selectedKeys,"onUpdate:selectedKeys":n[4]||(n[4]=a=>e(o).selectedKeys=a),class:"zs-table","row-key":"id",data:e(w),"row-selection":e(o).rowSelection,bordered:e(o).bordered,pagination:e(o).pagination,size:e(o).size,columns:e(S),stripe:e(o).stripe,loading:e(V)},null,8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{Z as default};

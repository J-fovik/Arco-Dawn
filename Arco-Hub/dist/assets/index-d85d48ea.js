import{d as v,a as T,u as R,C as A,E,s as O,r as i,o as b,l as N,w as d,g as t,c as e,W as j,f as I,i as y,h as K,k as D,G as M,H as Z,S as z,_ as F}from"./index-8a2cb146.js";import{Z as G}from"./index-2bbe694f.js";import{B as H}from"./business-b0ce0e8a.js";const L=p=>(M("data-v-a028da99"),p=p(),Z(),p),W=L(()=>I("div",{style:{height:"100px"}},null,-1)),Y={class:"orderSubmit-footer box-flex jc-fe"},J=v({name:"BusinessContractDockingOperate"}),Q=v({...J,setup(p){const{getDictionaryInfo:S}=T(),m=R(),{jumpTabName:x}=A(),[h,c]=E(null),{form:l,formRef:f,formPlaceholder:n}=O(()=>({contractNumber:"",groupNo:"",routeName:"",startDate:"",departName:"",signingName:"",signingIDNumber:"",signingIDPhone:"",state:"",contractDesc:"",remark:""})),U={},k=()=>{f.value.validate(r=>{r||(m.query.id?_("editUser"):_("addUser"))})},C=async()=>{const{res:r,err:a}=await D(()=>H.getContractDetail({id:m.query.id}));a||(l.value=r==null?void 0:r.data.detail,l.value.contractTypeName=(r==null?void 0:r.data.detail.contractType)=="0"?"补充协议":"合同")};m.query.id&&C();const _=async r=>{const{err:a}=await D(()=>z[r](l.value),{before:()=>c("okLoading"),after:()=>c(null)})};return(r,a)=>{const s=i("a-input"),u=i("a-form-item"),q=i("a-select"),g=i("a-textarea"),w=i("a-form"),B=i("a-card"),V=i("a-button"),P=i("a-space");return b(),N(G,null,{default:d(()=>[t(B,{title:e(j)("合同对接",!!e(m).query.id),bordered:!1,class:"general-card"},{default:d(()=>[t(w,{ref_key:"formRef",ref:f,model:e(l),"label-align":"left",size:"large",style:{width:"800px","padding-left":"100px"},"auto-label-width":"",disabled:!!e(m).query.isReadOnly,rules:U},{default:d(()=>[t(u,{field:"contractNumber",label:"合同编号:"},{default:d(()=>[t(s,{modelValue:e(l).contractNumber,"onUpdate:modelValue":a[0]||(a[0]=o=>e(l).contractNumber=o),placeholder:e(n)("请输入合同编号")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"groupNo",label:"团号:"},{default:d(()=>[t(s,{modelValue:e(l).groupNo,"onUpdate:modelValue":a[1]||(a[1]=o=>e(l).groupNo=o),placeholder:e(n)("请输入团号")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"routeName",label:"线路名称:"},{default:d(()=>[t(s,{modelValue:e(l).routeName,"onUpdate:modelValue":a[2]||(a[2]=o=>e(l).routeName=o),placeholder:e(n)("请输入线路名称")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"departName",label:"营业部名称:"},{default:d(()=>[t(s,{modelValue:e(l).departName,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).departName=o),placeholder:e(n)("请输入营业部名称")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"startDate",label:"出团日期:"},{default:d(()=>[t(s,{modelValue:e(l).startDate,"onUpdate:modelValue":a[4]||(a[4]=o=>e(l).startDate=o),placeholder:e(n)("请输入出团日期")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"signingName",label:"签署代表名称:"},{default:d(()=>[t(s,{modelValue:e(l).signingName,"onUpdate:modelValue":a[5]||(a[5]=o=>e(l).signingName=o),placeholder:e(n)("请输入签署代表名称")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"signingIDNumber",label:"签署代表身份证号码:"},{default:d(()=>[t(s,{modelValue:e(l).signingIDNumber,"onUpdate:modelValue":a[6]||(a[6]=o=>e(l).signingIDNumber=o),placeholder:e(n)("请输入签署代表身份证号码")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"signingIDPhone",label:"签署代表手机号:"},{default:d(()=>[t(s,{modelValue:e(l).signingIDPhone,"onUpdate:modelValue":a[7]||(a[7]=o=>e(l).signingIDPhone=o),placeholder:e(n)("请输入签署代表手机号")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"state",label:"状态:"},{default:d(()=>[t(q,{modelValue:e(l).state,"onUpdate:modelValue":a[8]||(a[8]=o=>e(l).state=o),placeholder:e(n)("请选择合同状态"),options:e(S)("contractState"),"field-names":{label:"detailName",value:"detailCode"}},null,8,["modelValue","placeholder","options"])]),_:1}),t(u,{field:"contractDesc",label:"合同详情说明:"},{default:d(()=>[t(g,{modelValue:e(l).contractDesc,"onUpdate:modelValue":a[9]||(a[9]=o=>e(l).contractDesc=o),placeholder:e(n)("请输入合同详情说明")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{field:"remark",label:"备注:"},{default:d(()=>[t(g,{modelValue:e(l).remark,"onUpdate:modelValue":a[10]||(a[10]=o=>e(l).remark=o),placeholder:e(n)("请输入备注")},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["title"]),W,I("div",Y,[t(P,null,{default:d(()=>[e(m).query.isReadOnly?K("",!0):(b(),N(V,{key:0,type:"primary",loading:e(h)==="确定",onClick:k},{default:d(()=>[y("确定")]),_:1},8,["loading"])),t(V,{onClick:a[11]||(a[11]=()=>e(x)())},{default:d(()=>[y("返回")]),_:1})]),_:1})])]),_:1})}}});const ae=F(Q,[["__scopeId","data-v-a028da99"]]);export{ae as default};

import{n as c,p as f,O as g,P as _,d as T,u as A,C as B,E as M,b as Q,k as q,r as d,o as w,l as R,w as t,g as a,i as s,t as l,c as r,X as y,f as D,h as V}from"./index-8a2cb146.js";import{Z}from"./index-2bbe694f.js";import{_ as j}from"./zsPreviewDumplingDate.vue_vue_type_script_setup_true_name_ZsPreviewDumplingDate_lang-410dbbba.js";import{Q as G}from"./quitGroup-313e3abb.js";import"./zsRoutePrice-e3a5f38b.js";import"./line-7661aa01.js";const L=e=>{if(e.otherType==="1"){if(e.diffPrice==="1")switch(e.priceType){case"0":return"成人单房差其他价格";case"3":return"老人单房差其他价格";case"6":return"儿童单房差其他价格";case"10":return"占床儿童单房差其他价格";default:return"未知单房差其他价格"}if(e.diffPrice==="0")switch(e.priceType){case"0":return"成人其他价格";case"3":return"老人其他价格";case"6":return"儿童其他价格";case"10":return"占床儿童其他价格";default:return"未知其他价格"}}if(e.otherType==="0"){if(e.diffPrice==="1")switch(e.priceType){case"0":return"成人单房差价格";case"3":return"老人单房差价格";case"6":return"儿童单房差价格";case"10":return"占床儿童单房差价格";default:return"未知单房差价格"}if(e.diffPrice==="0")switch(e.priceType){case"0":return"成人同行价格";case"3":return"老人同行价格";case"6":return"儿童同行价格";case"10":return"占床儿童同行价格";default:return"未知同行价格"}}return"未知价格"},O=[{title:"姓名",dataIndex:"name",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>c(e.name)},{title:"性别",dataIndex:"gender",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>c(e.gender)},{title:"联系电话",dataIndex:"phone",show:!0,align:"center",render:({record:e})=>c(e.phone)},{title:"证件类型",dataIndex:"idType",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>c(e.idType)},{title:"证件号码",dataIndex:"idNumber",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>c(e.idNumber)},{title:"年龄",dataIndex:"age",show:!0,align:"right",render:({record:e})=>c(e.age)},{title:"类别",dataIndex:"priceType",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>c(e.name==="总计"?"-":L(e))},{title:"实收旅行费",dataIndex:"actualSignCost",show:!0,align:"right",render:({record:e})=>f("span",{class:"text-red text-price"},g(_(e.actualSignCost)))},{title:"订单保险费",dataIndex:"insuranceCost",show:!0,align:"right",render:({record:e})=>f("span",{class:"text-red text-price"},g(_(e.insuranceCost)))},{title:"实收保险费",dataIndex:"actualInsuraCost",show:!0,align:"right",render:({record:e})=>f("span",{class:"text-red text-price"},g(_(e.actualInsuraCost)))},{title:"订单总费用",dataIndex:"allCost",show:!0,align:"right",render:({record:e})=>f("span",{class:"text-red text-price"},g(_(e.allCost)))},{title:"实收总费用",dataIndex:"allActCost",show:!0,align:"right",render:({record:e})=>f("span",{class:"text-red text-price"},g(_(e.allActCost)))}],z=D("div",{style:{height:"100px"}},null,-1),K={class:"orderSubmit-footer box-flex jc-fe"},U=T({name:"QuitGroupPlatformQuitConfirm"}),ee=T({...U,setup(e){const m=A(),{jumpTabName:v}=B(),[N,x]=M(null),{data:n,loading:P}=Q(async()=>{const{res:p,err:o}=await q(()=>G.getBusinessQuitGroupDetail({groupId:m.query.groupId,state:m.query.state,id:m.query.id}));return o?{}:p==null?void 0:p.data},{touristsInfoList:[],signupRecord:{},signoutRecord:{}});return(p,o)=>{const u=d("a-tag"),i=d("a-descriptions-item"),k=d("a-descriptions"),h=d("a-button"),b=d("a-space"),I=d("a-card"),Y=d("a-alert"),$=d("a-table"),S=d("a-typography-title");return w(),R(Z,null,{default:t(()=>[a(I,{title:"基本信息",loading:r(P),bordered:!1,class:"general-card"},{default:t(()=>[a(k,{column:{xs:1,md:2,lg:4},size:"large"},{default:t(()=>[a(i,{label:"线路名称："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.routeName),1)]),_:1})]),_:1}),a(i,{label:"供应商名称："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.supName),1)]),_:1})]),_:1}),a(i,{label:"营业部名称："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.departName),1)]),_:1})]),_:1}),a(i,{label:"团号："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.groupId),1)]),_:1})]),_:1}),a(i,{label:"所属地区："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.areaName),1)]),_:1})]),_:1}),a(i,{label:"目的地："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.arrival),1)]),_:1})]),_:1}),a(i,{label:"集合地点："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(c)(r(n).signupRecord.aggregatePlace,"--")),1)]),_:1})]),_:1}),a(i,{label:"旅行时间："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(y)(r(n).signupRecord.startDate,"YYYY-MM-DD"))+"至"+l(r(y)(r(n).signupRecord.endDate,"YYYY-MM-DD")),1)]),_:1})]),_:1}),a(i,{label:"旅行天数/天："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.travelDays),1)]),_:1})]),_:1}),a(i,{label:"旅行类型："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.travelType),1)]),_:1})]),_:1}),a(i,{label:"成团类别："},{default:t(()=>[a(u,null,{default:t(()=>[s(l(r(n).signupRecord.groupType==1?"单团":"散客"),1)]),_:1})]),_:1})]),_:1}),a(b,{class:"margin-top"},{default:t(()=>[a(h,{type:"primary",onClick:o[0]||(o[0]=C=>r(x)("ZsPreviewDumplingDate"))},{default:t(()=>[s("信息价格")]),_:1}),a(h,{type:"primary",onClick:o[1]||(o[1]=C=>p.$router.push(`/line/addTourismManage/operate?mark=2&id=${r(n).signupRecord.routeId}&isReadOnly=true&name=${p.$route.name}`))},{default:t(()=>[s("查看行程")]),_:1})]),_:1})]),_:1},8,["loading"]),a(I,{title:"游客信息",bordered:!1,class:"general-card margin-top"},{default:t(()=>[a(Y,null,{default:t(()=>[s(" 当前订单总计是每个游客价格的汇总，若订单有过退团或订单调账操作，可能与实际订单金额有出入，请以订单管理页面中金额为准。 ")]),_:1}),a($,{size:"large",class:"margin-top",columns:r(O),data:r(n).touristsInfoList,pagination:!1,bordered:!1},null,8,["columns","data"]),a(S,{heading:6,class:"box-flex jc-fe margin-top"},{default:t(()=>[s("退团游客共计： "+l(r(n).touristsInfoList.length-1)+"位",1)]),_:1})]),_:1}),z,D("div",K,[a(b,null,{default:t(()=>[a(h,{onClick:o[2]||(o[2]=()=>r(v)())},{default:t(()=>[s("返回")]),_:1})]),_:1})]),r(N)==="ZsPreviewDumplingDate"?(w(),R(j,{key:0,data:{id:r(n).signupRecord.routeId},"default-time-arr":[r(y)(r(n).signupRecord.startDate)],onClose:o[3]||(o[3]=C=>r(x)(""))},null,8,["data","default-time-arr"])):V("",!0)]),_:1})}}});export{ee as default};

import{d as S,r as t,o as r,l as s,w as o,g as e,e as F,j as R,F as N,f as u,a7 as A,_ as K,E as ce,s as te,b as le,i as y,c,h as m,t as ae,a6 as re,k as L,G as se,H as de,A as ue,S as Z}from"./index-8a2cb146.js";import{Z as pe}from"./index-2bbe694f.js";const fe={class:"box-flex jc-c ai-c icons-item"},me=S({name:"ZsSelectIcons"}),_e=S({...me,emits:["close","selectIcon"],setup(b,{emit:M}){const h=M,f=[{key:7,title:"通用类图标",list:["icon-chinese-fill","icon-english-fill","icon-face-frown-fill","icon-face-meh-fill","icon-face-smile-fill","icon-moon-fill","icon-pen-fill","icon-sun-fill","icon-apps","icon-archive","icon-bar-chart","icon-book","icon-bookmark","icon-branch","icon-bug","icon-bulb","icon-calendar-clock","icon-calendar","icon-camera","icon-cloud","icon-command","icon-common","icon-compass","icon-computer","icon-copyright","icon-dashboard","icon-desktop","icon-dice","icon-drag-dot-vertical","icon-drag-dot","icon-drive-file","icon-ear","icon-email","icon-empty","icon-experiment","icon-file-audio","icon-file-image","icon-file-pdf","icon-file-video","icon-file","icon-fire","icon-folder-add","icon-folder-delete","icon-folder","icon-gift","icon-idcard","icon-image-close","icon-image","icon-interaction","icon-language","icon-layers","icon-layout","icon-location","icon-lock","icon-loop","icon-man","icon-menu","icon-mind-mapping","icon-mobile","icon-moon","icon-mosaic","icon-nav","icon-notification-close","icon-notification","icon-palette","icon-pen","icon-phone","icon-printer","icon-public","icon-pushpin","icon-qrcode","icon-relation","icon-robot-add","icon-robot","icon-safe","icon-schedule","icon-shake","icon-skin","icon-stamp","icon-storage","icon-subscribe-add","icon-subscribe","icon-subscribed","icon-sun","icon-tag","icon-tags","icon-thunderbolt","icon-tool","icon-trophy","icon-unlock","icon-user-add","icon-user-group","icon-user","icon-video-camera","icon-wifi","icon-woman"]},{key:1,title:"方向指示类图标",list:["icon-arrow-down","icon-arrow-fall","icon-arrow-left","icon-arrow-right","icon-arrow-rise","icon-arrow-up","icon-caret-down","icon-caret-left","icon-caret-right","icon-caret-up","icon-double-down","icon-double-left","icon-double-right","icon-double-up","icon-down-circle","icon-down","icon-drag-arrow","icon-expand","icon-left-circle","icon-left","icon-menu-fold","icon-menu-unfold","icon-right-circle","icon-right","icon-rotate-left","icon-rotate-right","icon-shrink","icon-swap","icon-to-bottom","icon-to-left","icon-to-right","icon-to-top","icon-up-circle","icon-up"]},{key:2,title:"提示建议类图标",list:["icon-check-circle-fill","icon-close-circle-fill","icon-exclamation-circle-fill","icon-exclamation-polygon-fill","icon-info-circle-fill","icon-minus-circle-fill","icon-plus-circle-fill","icon-question-circle-fill","icon-check-circle","icon-check-square","icon-check","icon-clock-circle","icon-close-circle","icon-close","icon-exclamation-circle","icon-exclamation","icon-info-circle","icon-info","icon-minus-circle","icon-minus","icon-plus-circle","icon-plus","icon-question-circle","icon-question","icon-stop"]},{key:3,title:"交互按钮类图标",list:["icon-heart-fill","icon-star-fill","icon-thumb-down-fill","icon-thumb-up-fill","icon-at","icon-cloud-download","icon-code-block","icon-code-square","icon-code","icon-customer-service","icon-download","icon-export","icon-eye-invisible","icon-eye","icon-heart","icon-history","icon-home","icon-import","icon-launch","icon-list","icon-message-banned","icon-message","icon-more-vertical","icon-more","icon-poweroff","icon-refresh","icon-reply","icon-save","icon-scan","icon-search","icon-select-all","icon-send","icon-settings","icon-share-alt","icon-share-external","icon-share-internal","icon-star","icon-sync","icon-thumb-down","icon-thumb-up","icon-translate","icon-upload","icon-voice"]},{key:4,title:"编辑类图标",list:["icon-align-center","icon-align-left","icon-align-right","icon-attachment","icon-bg-colors","icon-bold","icon-brush","icon-copy","icon-delete","icon-edit","icon-eraser","icon-filter","icon-find-replace","icon-font-colors","icon-formula","icon-h1","icon-h2","icon-h3","icon-h4","icon-h5","icon-h6","icon-h7","icon-highlight","icon-italic","icon-line-height","icon-link","icon-oblique-line","icon-ordered-list","icon-original-size","icon-paste","icon-quote","icon-redo","icon-scissor","icon-sort-ascending","icon-sort-descending","icon-sort","icon-strikethrough","icon-underline","icon-undo","icon-unordered-list","icon-zoom-in","icon-zoom-out"]},{key:5,title:"影音类图标",list:["icon-mute-fill","icon-pause-circle-fill","icon-play-arrow-fill","icon-play-circle-fill","icon-skip-next-fill","icon-skip-previous-fill","icon-sound-fill","icon-backward","icon-forward","icon-fullscreen-exit","icon-fullscreen","icon-live-broadcast","icon-music","icon-mute","icon-pause-circle","icon-pause","icon-play-arrow","icon-play-circle","icon-record-stop","icon-record","icon-skip-next","icon-skip-previous","icon-sound"]},{key:6,title:"商标类图标",list:["icon-bytedance-color","icon-lark-color","icon-tiktok-color","icon-xigua-color","icon-faceBook-circle-fill","icon-facebook-square-fill","icon-google-circle-fill","icon-qq-circle-fill","icon-twitter-circle-fill","icon-weibo-circle-fill","icon-alipay-circle","icon-code-sandbox","icon-codepen","icon-facebook","icon-github","icon-gitlab","icon-google","icon-qq-zone","icon-qq","icon-twitter","icon-wechat","icon-wechatpay","icon-weibo"]}];return(n,k)=>{const w=t("a-button"),z=t("a-grid-item"),T=t("a-grid"),V=t("a-tab-pane"),D=t("a-tabs"),U=t("a-modal");return r(),s(U,{top:"10%",width:"1000px",title:"选择图标","unmount-on-close":"",visible:"","align-center":!1,footer:!1,onCancel:k[0]||(k[0]=_=>h("close"))},{default:o(()=>[e(D,null,{default:o(()=>[(r(),F(N,null,R(f,_=>e(V,{key:_.key,title:_.title},{default:o(()=>[e(T,{cols:12,class:"grid-demo-grid"},{default:o(()=>[(r(!0),F(N,null,R(_.list,v=>(r(),s(z,{key:v},{default:o(()=>[u("div",fe,[e(w,{type:"text",size:"large",long:"",onClick:$=>h("selectIcon",v)},{icon:o(()=>[(r(),s(A(v),{class:"icon",style:{"font-size":"30px"}}))]),_:2},1032,["onClick"])])]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["title"])),64))]),_:1})]),_:1})}}});const ge=K(_e,[["__scopeId","data-v-b3e48e50"]]),I=b=>(se("data-v-bdd54384"),b=b(),de(),b),ye={class:"box-flex"},be=I(()=>u("span",{style:{"margin-left":"10px"}},"添加页面",-1)),he=I(()=>u("span",{style:{"margin-left":"10px"}},"添加按钮",-1)),ke=I(()=>u("span",{style:{"margin-left":"10px"}},"修改",-1)),ve=I(()=>u("span",{style:{"margin-left":"10px"}},"删除",-1)),xe={class:"flex1",style:{"margin-left":"16px"}},we={class:"box-flex jc-c margin-top"},Ve=S({name:"SystemMenuManage"}),qe=S({...Ve,setup(b){const{warningModal:M}=ue(),[h,f]=ce(null),{form:n,formRef:k,resetForm:w}=te(()=>({id:"",operateTpe:"add",parentCode:"",name:"",path:"",title:"",sort:void 0,type:"2",remake:"",icon:"",parentId:""})),z={name:{required:!0,message:"请输入菜单代码"},title:{required:!0,message:"请输入菜单名称"},path:{required:!0,message:"请选择菜单路径"}},{data:T,initData:V}=le(async()=>{const{res:a}=await L(()=>Z.getMenuList({}));return(a==null?void 0:a.data.menuList)??[]}),D=()=>{w(),n.value.operateTpe="add"},U=a=>{n.value.icon=a,f("")},_=(a,i)=>{a==="添加"?v(i):a==="修改"?$([],{node:i}):P(i)},v=async a=>{w(),n.value.parentCode=a.name,n.value.parentId=a.id,n.value.type=a.type==="1"?"2":"3",n.value.operateTpe="add"},$=(a,i)=>{const{children:g,...q}=i.node;n.value=q,n.value.operateTpe="edit"},P=a=>{M("确定删除菜单吗？",async i=>{const{err:g}=await L(()=>Z.deleteMenu({idList:[a.id]}));i(!0),!g&&V()})},G=async()=>{k.value.validate(a=>{a||(n.value.operateTpe==="edit"?j("editMenu"):j("addMenu"))})},j=async a=>{const{err:i}=await L(()=>Z[a](n.value),{before:()=>f("保存"),after:()=>f(null),successMsg:"保存成功"});i||V()};return(a,i)=>{const g=t("a-button"),q=t("icon-plus"),C=t("a-doption"),H=t("icon-edit"),O=t("icon-lock"),Y=t("a-dropdown"),J=t("a-tree"),E=t("a-card"),B=t("a-radio"),Q=t("a-radio-group"),p=t("a-form-item"),d=t("a-grid-item"),x=t("a-input"),W=t("a-input-group"),X=t("a-input-number"),ee=t("a-textarea"),oe=t("a-grid"),ne=t("a-form");return r(),s(pe,null,{default:o(()=>[u("div",ye,[e(E,{class:"general-card",style:{"min-width":"400px"},title:"菜单阅览"},{extra:o(()=>[e(g,{operateTpe:"text",onClick:D},{default:o(()=>[y("添加一级菜单")]),_:1})]),default:o(()=>[e(J,{data:c(T),fieldNames:{key:"name",title:"title",children:"children",icon:""},"block-node":"","show-line":"","default-expand-all":!1,selectable:"",onSelect:$},{icon:o(({node:l})=>[l.icon?(r(),s(A(l.icon),{key:0,style:{"font-size":"18px"}})):m("",!0)]),title:o(l=>[e(Y,{trigger:"contextMenu",alignPoint:"",position:"bl","popup-max-height":!1,onSelect:ie=>_(ie,l)},{content:o(()=>[l.type==="1"?(r(),s(C,{key:0,value:"添加"},{default:o(()=>[e(q),be]),_:1})):m("",!0),l.type==="2"?(r(),s(C,{key:1,value:"添加"},{default:o(()=>[e(q),he]),_:1})):m("",!0),e(C,{value:"修改"},{default:o(()=>[e(H),ke]),_:1}),e(C,{value:"删除"},{default:o(()=>[e(O),ve]),_:1})]),default:o(()=>[u("span",null,ae(l.title),1)]),_:2},1032,["onSelect"])]),_:1},8,["data"])]),_:1}),u("div",xe,[e(E,{class:"general-card",title:"菜单信息"},{default:o(()=>[e(ne,{ref_key:"formRef",ref:k,size:"large",layout:"vertical","auto-label-width":"",model:c(n),rules:z},{default:o(()=>[e(oe,{cols:2,"col-gap":20},{default:o(()=>[e(d,null,{default:o(()=>[e(p,{label:"菜单类型:",field:"type",required:""},{default:o(()=>[e(Q,{modelValue:c(n).type,"onUpdate:modelValue":i[0]||(i[0]=l=>c(n).type=l)},{default:o(()=>[e(B,{value:"2"},{default:o(()=>[y("页面")]),_:1}),c(n).parentCode?m("",!0):(r(),s(B,{key:0,value:"1"},{default:o(()=>[y("菜单")]),_:1})),e(B,{value:"3"},{default:o(()=>[y("按钮")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),c(n).parentCode?(r(),s(d,{key:0},{default:o(()=>[e(p,{label:"父菜单代码:",field:"parentCode",required:""},{default:o(()=>[e(x,{"model-value":c(n).parentCode,placeholder:"父菜单代码",readonly:""},null,8,["model-value"])]),_:1})]),_:1})):m("",!0),e(d,null,{default:o(()=>[e(p,{label:"菜单代码:",field:"name",required:""},{default:o(()=>[e(x,{modelValue:c(n).name,"onUpdate:modelValue":i[1]||(i[1]=l=>c(n).name=l),placeholder:"菜单代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(p,{label:"菜单名称:",field:"title",required:""},{default:o(()=>[e(x,{modelValue:c(n).title,"onUpdate:modelValue":i[2]||(i[2]=l=>c(n).title=l),modelModifiers:{trim:!0},placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1})]),_:1}),["1","2"].includes(c(n).type)?(r(),F(N,{key:1},[e(d,null,{default:o(()=>[e(p,{label:"菜单路径:",field:"path",required:""},{default:o(()=>[e(x,{modelValue:c(n).path,"onUpdate:modelValue":i[3]||(i[3]=l=>c(n).path=l),modelModifiers:{trim:!0},placeholder:"请输入菜单路径"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(p,{label:"选择图标:",field:"icon"},{default:o(()=>[e(W,{class:"flex1"},{default:o(()=>[e(x,{modelValue:c(n).icon,"onUpdate:modelValue":i[4]||(i[4]=l=>c(n).icon=l),placeholder:"请选择图标"},re({_:2},[c(n).icon?{name:"prefix",fn:o(()=>[(r(),s(A(c(n).icon)))]),key:"0"}:void 0]),1032,["modelValue"]),e(g,{type:"primary",onClick:i[5]||(i[5]=l=>c(f)("ZsSelectIcons"))},{default:o(()=>[y("选择图标")]),_:1})]),_:1})]),_:1})]),_:1})],64)):m("",!0),e(d,null,{default:o(()=>[e(p,{label:"排序:",field:"sort"},{default:o(()=>[e(X,{modelValue:c(n).sort,"onUpdate:modelValue":i[6]||(i[6]=l=>c(n).sort=l),placeholder:"请输入排序"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(p,{label:"备注:",field:"remark"},{default:o(()=>[e(ee,{modelValue:c(n).remake,"onUpdate:modelValue":i[7]||(i[7]=l=>c(n).remake=l),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:2},{default:o(()=>[u("div",we,[e(g,{type:"primary",size:"large",loading:c(h)==="保存",onClick:G},{default:o(()=>[y("保存")]),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])]),c(h)==="ZsSelectIcons"?(r(),s(ge,{key:0,onClose:i[8]||(i[8]=l=>c(f)("")),onSelectIcon:U})):m("",!0)]),_:1})}}});const Ie=K(qe,[["__scopeId","data-v-bdd54384"]]);export{Ie as default};

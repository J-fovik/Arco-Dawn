import{n as i,d as w,q as E,E as L,s as N,v as q,b as F,r as l,o as d,e as O,g as c,w as s,z as g,c as e,l as b,i as y,k as h,A as P,S}from"./index-8a2cb146.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import"./index-2bbe694f.js";const V=()=>[{title:"企业名称",dataIndex:"name",show:!0,align:"center",render:({record:a})=>i(a.name)},{title:"企业地址",dataIndex:"street",show:!0,align:"center",render:({record:a})=>i(a.street)},{title:"联系电话",dataIndex:"phone",show:!0,align:"center",render:({record:a})=>i(a.phone)},{title:"类别",dataIndex:"infotype",show:!0,align:"center",render:({record:a})=>i(a.infotype==="0"?"企业信息介绍":"结算信息")},{title:"备注",dataIndex:"remark",show:!0,align:"center",tooltip:!0,ellipsis:!0,render:({record:a})=>i(a.remark)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],Y=w({name:"SystemInformationManage"}),X=w({...Y,setup(a){const{vAuthority:u}=E(),{warningModal:C}=P();L(null);const{form:k,resetForm:z}=N(()=>({}),()=>f()),{selectRow:j,columnsData:I,visibleColumnsData:T,tableBaseOptions:t,resetData:f,extendTableList:x,setSelectRow:G,changeTableColumn:v,changeTableSize:M}=q(V(),()=>_()),D=o=>{C(`确定操作选中的${t.selectedKeys.length}数据吗？`,async n=>{const{res:p}=await h(()=>S[o]({idList:t.selectedKeys}),{successMsg:"操作成功"});n(!0),p&&(t.selectedKeys=[],_())})},{data:$,loading:K,initData:_}=F(async()=>{const{res:o,err:n}=await h(()=>S.getInformationList({...k.value,currentPage:t.pagination.current,pageSize:t.pagination.pageSize,pagingOrNot:"1"}));return n?[]:(t.pagination.total=o.data.totalCount,x(o==null?void 0:o.data.companyList))});return(o,n)=>{const p=l("icon-plus"),m=l("a-button"),R=l("icon-close"),A=l("a-space"),B=l("a-table");return d(),O("div",null,[c(U,{"is-query":!1,"table-columns":e(I),"table-size":e(t).size,onResetSearch:e(z),onSearch:e(f),onChangeTableSize:e(M),onChangeTableColumn:e(v)},{operate:s(()=>[c(A,null,{default:s(()=>[g((d(),b(m,{type:"outline",onClick:n[0]||(n[0]=r=>o.$router.push("/system/informationManage/operate"))},{icon:s(()=>[c(p)]),default:s(()=>[y(" 新增 ")]),_:1})),[[e(u),"SystemInformationManageAdd"]]),g((d(),b(m,{type:"outline",status:"danger",disabled:!e(t).selectedKeys.length,onClick:n[1]||(n[1]=r=>D("deleteInformation"))},{icon:s(()=>[c(R)]),default:s(()=>[y(" 删除 ")]),_:1},8,["disabled"])),[[e(u),"SystemInformationManageDelete"]])]),_:1})]),table:s(()=>[c(B,{"selected-keys":e(t).selectedKeys,"onUpdate:selectedKeys":n[2]||(n[2]=r=>e(t).selectedKeys=r),class:"zs-table","row-key":"id",data:e($),"row-selection":e(t).rowSelection,bordered:e(t).bordered,pagination:e(t).pagination,size:e(t).size,columns:e(T),stripe:e(t).stripe,loading:e(K)},{operate:s(({record:r})=>[g((d(),b(m,{type:"text",onClick:H=>o.$router.push(`/system/informationManage/operate?id=${r.id}`)},{default:s(()=>[y("编辑")]),_:2},1032,["onClick"])),[[e(u),"SystemInformationManageEdit"]])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{X as default};

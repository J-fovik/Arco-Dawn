import{d as N,u as U,C as R,E as A,s as B,r,o as V,l as b,w as s,g as l,c as e,O as L,f as v,i as g,h as O,k as S,G as j,H as E,_ as K}from"./index-8a2cb146.js";import{Z}from"./index-2bbe694f.js";import{L as x}from"./landscape-a6fd59d7.js";const z=u=>(j("data-v-57dc7392"),u=u(),E(),u),F=z(()=>v("div",{style:{height:"100px"}},null,-1)),G={class:"orderSubmit-footer box-flex jc-fe"},H=N({name:"ScenicSpotSelfPayMangerOperate"}),J=N({...H,setup(u){const i=U(),{jumpTabName:m}=R(),[q,c]=A(null),{form:o,formRef:p,formPlaceholder:_}=B(()=>({scenicNo:"",selfPayName:"",selfPayDesc:"",selfPayMoney:void 0,selfPayTime:"",selfPayInfo:"",remark:""})),k={scenicNo:{required:!0,message:"请输入景区编号"},selfPayName:{required:!0,message:"请输入自费项目名称"},selfPayDesc:{required:!0,message:"请输入自费项目简介"},selfPayMoney:{required:!0,message:"请输入购物金额"},selfPayTime:{required:!0,message:"请输入自费游览时间"}},D=()=>{p.value.validate(d=>{d||h()})},h=async()=>{const{err:d}=await S(()=>x.editScenicSpotSelfPay(o.value),{before:()=>c("okLoading"),after:()=>c(null),successMsg:"保存成功"});d||m()},C=async()=>{const{res:d,err:a}=await S(()=>x.getScenicSpotSelfPayDetail({id:i.query.id}));a||(o.value=d==null?void 0:d.data)};return i.query.id&&C(),(d,a)=>{const y=r("a-input"),n=r("a-form-item"),f=r("a-textarea"),I=r("a-input-number"),T=r("a-form"),M=r("a-card"),P=r("a-button"),w=r("a-space");return V(),b(Z,null,{default:s(()=>[l(M,{title:"景区自费信息",bordered:!1,class:"general-card"},{default:s(()=>[l(T,{ref_key:"formRef",ref:p,model:e(o),"label-align":"left",size:"large",style:{width:"800px","padding-left":"100px"},disabled:!!e(i).query.isReadOnly,"auto-label-width":"",rules:k},{default:s(()=>[l(n,{label:"景区编号:",field:"scenicNo",required:""},{default:s(()=>[l(y,{modelValue:e(o).scenicNo,"onUpdate:modelValue":a[0]||(a[0]=t=>e(o).scenicNo=t),placeholder:"请输入景区编号"},null,8,["modelValue"])]),_:1}),l(n,{label:"自费项目名称:",field:"selfPayName",required:""},{default:s(()=>[l(f,{modelValue:e(o).selfPayName,"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).selfPayName=t),placeholder:"请输入自费项目名称"},null,8,["modelValue"])]),_:1}),l(n,{label:"自费项目简介:",field:"selfPayDesc",required:""},{default:s(()=>[l(f,{modelValue:e(o).selfPayDesc,"onUpdate:modelValue":a[2]||(a[2]=t=>e(o).selfPayDesc=t),placeholder:"请输入自费项目简介"},null,8,["modelValue"])]),_:1}),l(n,{label:"购物金额:",field:"selfPayMoney",required:""},{default:s(()=>[l(I,{modelValue:e(o).selfPayMoney,"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).selfPayMoney=t),modelModifiers:{trim:!0},formatter:t=>e(L)(t,""),parser:t=>t.replace(/,/g,""),precision:2,"hide-button":"",placeholder:"请输入购物金额"},null,8,["modelValue","formatter","parser"])]),_:1}),l(n,{label:"自费游览时间:",field:"selfPayTime"},{default:s(()=>[l(y,{modelValue:e(o).selfPayTime,"onUpdate:modelValue":a[4]||(a[4]=t=>e(o).selfPayTime=t),placeholder:"请输入自费游览时间"},null,8,["modelValue"])]),_:1}),l(n,{field:"selfPayInfo",label:"自费项目注意事项:"},{default:s(()=>[l(f,{modelValue:e(o).selfPayInfo,"onUpdate:modelValue":a[5]||(a[5]=t=>e(o).selfPayInfo=t),"max-length":200,placeholder:e(_)("请输入自费项目注意事项")},null,8,["modelValue","placeholder"])]),_:1}),l(n,{field:"remark",label:"备注:"},{default:s(()=>[l(f,{modelValue:e(o).remark,"onUpdate:modelValue":a[6]||(a[6]=t=>e(o).remark=t),placeholder:e(_)("请输入备注")},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model","disabled"])]),_:1}),F,v("div",G,[l(w,null,{default:s(()=>[e(i).query.isReadOnly?O("",!0):(V(),b(P,{key:0,loading:e(q)==="okLoading",type:"primary",onClick:D},{default:s(()=>[g("确定")]),_:1},8,["loading"])),l(P,{onClick:a[7]||(a[7]=()=>e(m)())},{default:s(()=>[g("返回")]),_:1})]),_:1})])]),_:1})}}});const Y=K(J,[["__scopeId","data-v-57dc7392"]]);export{Y as default};

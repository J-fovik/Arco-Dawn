import{n as g,X as M,p as U,O as B,P as O,d as h,s as A,b as f,v as L,r as s,o as P,e as Y,g as t,w as o,c as e,i as $,k as b}from"./index-8a2cb146.js";import{_ as E}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{B as F}from"./business-b0ce0e8a.js";import{R as K}from"./reconciliation-6ca30c07.js";import"./index-2bbe694f.js";const H=()=>[{title:"团号",dataIndex:"groupId",show:!0,align:"center",render:({record:l})=>g(l.groupId)},{title:"营业部名称",dataIndex:"departName",show:!0,align:"center",ellipsis:!0,tooltip:!0,render:({record:l})=>g(l.departName)},{title:"线路名称",dataIndex:"routeName",show:!0,align:"center",ellipsis:!0,tooltip:!0,render:({record:l})=>g(l.routeName)},{title:"目的地",dataIndex:"arrival",show:!0,align:"center",ellipsis:!0,tooltip:!0,render:({record:l})=>g(l.arrival)},{title:"创建时间",dataIndex:"createTime",show:!0,align:"center",render:({record:l})=>M(l.createTime,"YYYY-MM-DD")},{title:"报名总费用",dataIndex:"signCost",show:!0,align:"right",render:({record:l})=>U("span",{class:"text-red text-price"},B(O(l.signCost)))},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],q=h({name:"ReconciliationHistoryRecord"}),ee=h({...q,setup(l){const{form:r,resetForm:N}=A(()=>({groupId:"",routeName:"",departName:"",departNo:"",arrival:""}),()=>_());f(async()=>{const{err:d,res:a}=await b(()=>F.getDepartsBox({}));if(!d)return a==null?void 0:a.data});const{selectRow:X,columnsData:x,visibleColumnsData:w,tableBaseOptions:n,resetData:_,setSelectRow:j,extendTableList:C,changeTableColumn:I,changeTableSize:S}=L(H(),()=>y()),{data:V,loading:T,initData:y}=f(async()=>{const{res:d,err:a}=await b(()=>K.getOrderHistoryList({...r.value,currentPage:n.pagination.current,pageSize:n.pagination.pageSize,pagingOrNot:"1"}));return a?[]:(n.pagination.total=d.data.totalCount,C(d==null?void 0:d.data.hisSignupRecordList))});return(d,a)=>{const u=s("a-input"),m=s("a-form-item"),p=s("a-grid-item"),z=s("a-grid"),v=s("a-form"),R=s("a-button"),D=s("a-button-group"),k=s("a-table");return P(),Y("div",null,[t(E,{fold:"","table-columns":e(x),"table-size":e(n).size,onResetSearch:e(N),onSearch:e(_),onChangeTableSize:e(S),onChangeTableColumn:e(I)},{form:o(({collapsed:c})=>[t(v,{model:e(r),"label-align":"left",size:"large","auto-label-width":""},{default:o(()=>[t(z,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12,collapsed:!c},{default:o(()=>[t(p,null,{default:o(()=>[t(m,{label:"团号:"},{default:o(()=>[t(u,{modelValue:e(r).groupId,"onUpdate:modelValue":a[0]||(a[0]=i=>e(r).groupId=i),modelModifiers:{trim:!0},placeholder:"请输入团号"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:o(()=>[t(m,{label:"部门名称:"},{default:o(()=>[t(u,{modelValue:e(r).departName,"onUpdate:modelValue":a[1]||(a[1]=i=>e(r).departName=i),modelModifiers:{trim:!0},placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:o(()=>[t(m,{label:"部门代码:"},{default:o(()=>[t(u,{modelValue:e(r).departNo,"onUpdate:modelValue":a[2]||(a[2]=i=>e(r).departNo=i),modelModifiers:{trim:!0},placeholder:"请输入部门代码"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:o(()=>[t(m,{label:"线路名称:"},{default:o(()=>[t(u,{modelValue:e(r).routeName,"onUpdate:modelValue":a[3]||(a[3]=i=>e(r).routeName=i),modelModifiers:{trim:!0},placeholder:"请输入线路名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:o(()=>[t(m,{label:"目的地:"},{default:o(()=>[t(u,{modelValue:e(r).arrival,"onUpdate:modelValue":a[4]||(a[4]=i=>e(r).arrival=i),modelModifiers:{trim:!0},placeholder:"请输入目的地"},null,8,["modelValue"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),table:o(()=>[t(k,{"selected-keys":e(n).selectedKeys,"onUpdate:selectedKeys":a[5]||(a[5]=c=>e(n).selectedKeys=c),class:"zs-table","row-key":"id",data:e(V),"row-selection":e(n).rowSelection,bordered:e(n).bordered,pagination:e(n).pagination,size:e(n).size,columns:e(w),stripe:e(n).stripe,loading:e(T)},{operate:o(({record:c})=>[t(D,null,{default:o(()=>[t(R,{type:"text",status:"success",onClick:i=>d.$router.push(`/reconciliation/historyRecord/operate?id=${c.id}`)},{default:o(()=>[$("详情")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{ee as default};

import{f as te,A as ae,a as le,S as oe,_ as ne,b as se,T as de,c as re,d as ie,e as C}from"./mack-D1J75R4U.js";import{K as m,T as ue,L as ce,d as k,z as me,D as pe,N as _e,l as be,O as ge,Q as he,R as fe,r as i,o as v,c as we,a,w as t,b as e,e as c,m as D,B as N,p as ye,q as Te,v as V,P as ve,M as xe,_ as Se}from"./index-BQ5eCX9Z.js";import{f,t as Ie,a as Ce,s as De}from"./index-FbeG-FIp.js";import"./index-IDTj6fKF.js";const Ne=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"名称",dataIndex:"name",show:!0,align:"center",render:({record:o})=>f(o.name)},{title:"ID",dataIndex:"uname",show:!0,width:80,align:"center",render:({record:o})=>m(ue,{color:"blue"},{default:()=>f(o.id)})},{title:"状态",width:100,dataIndex:"status",slotName:"status",show:!0,align:"center"},{title:"金额",dataIndex:"money",show:!0,align:"right",render:({record:o})=>m("span",{class:"text-red text-price"},Ie(o.money??"0"))},{title:"类型",dataIndex:"type",show:!0,align:"center",render:({record:o})=>{var h;return f((h=te(ae,o.type))==null?void 0:h.label)}},{title:"地点",dataIndex:"address",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:o})=>f(o.address)},{title:"日期",dataIndex:"date",show:!0,width:120,titleSlotName:"date",align:"center",render:({record:o})=>o.sortTableNo=="总计"?"":m("div",{class:""},[m("div",null,Ce(o.date,"YYYY/MM/DD HH:mm:ss")),m("div",null,"自定义")])},{title:"图片",width:120,dataIndex:"image",show:!0,align:"center",render:({record:o})=>o.image?m(ce,{src:o.image,width:100,preview:!0}):"-"},{title:"爱好",width:150,dataIndex:"hobby",slotName:"hobby",show:!0,align:"center"},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],Y=o=>(ye("data-v-828285b7"),o=o(),Te(),o),ke=Y(()=>V("div",null,"日期",-1)),Ve=Y(()=>V("div",null,"自定义",-1)),Ye=k({name:"MenuProTableTwo"}),Oe=k({...Ye,setup(o){const{warningModal:h}=ve(),[w,ze]=me(null),{form:d,resetForm:O}=pe(()=>({name:"",status:"",sex:"",type:"",date:xe().format("YYYY-MM-DD")}),()=>x()),{selectRow:$e,columnsData:z,visibleColumnsData:$,tableBaseOptions:r,resetData:x,setSelectRow:Ae,extendTableList:A,changeTableColumn:M,changeTableSize:P}=_e(Ne(),()=>y()),B=({data:n})=>{const l={sortTableNo:"总计",money:0};return n.forEach(p=>{l.money+=p.money}),n.length?[l]:[]},K=(n,l)=>n.status==="0"?"bgRed":"",{data:L}=be(async()=>ie),{data:S}=ge(async()=>(d.value.type="",d.value.sex=="1"?de:re),{watchSource:()=>d.value.sex,defaultValue:[]}),R=async n=>{y()},I=n=>{let l="";n?l="确定操作当前数据吗？":l=`确定操作选中的${r.selectedKeys.length}数据吗？`,h(l,async p=>{console.log("删除数据：",n?[n]:r.selectedKeys),p(!0)})},{data:E,loading:U,initData:y}=he(async()=>(await De(1e3),console.log("表单参数",d.value),console.log("当前页："+r.pagination.current+"，每页数量"+r.pagination.pageSize),r.pagination.total=C.total,A(C.tableData.map(n=>(n.num=n.num*1,n.disabled=n.status=="0",n)))));return fe(()=>{y()}),(n,l)=>{const p=i("a-input"),_=i("a-form-item"),b=i("a-grid-item"),T=i("a-select"),F=i("a-date-picker"),H=i("a-grid"),j=i("a-form"),q=i("icon-plus"),g=i("a-button"),Q=i("icon-close"),W=i("a-space"),X=i("a-switch"),Z=ne,G=i("a-button-group"),J=i("a-table"),ee=se;return v(),we("div",null,[a(ee,{fold:"","table-columns":e(z),"table-size":e(r).size,onResetSearch:e(O),onSearch:e(x),onChangeTableSize:e(P),onChangeTableColumn:e(M)},{form:t(({collapsed:s})=>[a(j,{model:e(d),"label-align":"left",size:"large","auto-label-width":""},{default:t(()=>[a(H,{cols:{xs:1,sm:1,md:2,lg:2,xl:3,xxl:4},"col-gap":12,collapsed:!s},{default:t(()=>[a(b,null,{default:t(()=>[a(_,{label:"名称:"},{default:t(()=>[a(p,{modelValue:e(d).name,"onUpdate:modelValue":l[0]||(l[0]=u=>e(d).name=u),modelModifiers:{trim:!0},placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1}),a(b,null,{default:t(()=>[a(_,{label:"状态:"},{default:t(()=>[a(T,{modelValue:e(d).status,"onUpdate:modelValue":l[1]||(l[1]=u=>e(d).status=u),options:[...e(le),...e(oe)],"allow-search":"","allow-clear":"","field-names":{label:"label",value:"value"},placeholder:"请选择状态"},null,8,["modelValue","options"])]),_:1})]),_:1}),a(b,null,{default:t(()=>[a(_,{label:"性别:"},{default:t(()=>[a(T,{modelValue:e(d).sex,"onUpdate:modelValue":l[2]||(l[2]=u=>e(d).sex=u),options:e(L),"allow-search":"","allow-clear":"","field-names":{label:"label",value:"value"},placeholder:"请选择性别"},null,8,["modelValue","options"])]),_:1})]),_:1}),a(b,null,{default:t(()=>[a(_,{label:"类型:"},{default:t(()=>[a(T,{modelValue:e(d).type,"onUpdate:modelValue":l[3]||(l[3]=u=>e(d).type=u),options:e(S),"allow-search":"","allow-clear":"",disabled:e(S).length===0,"field-names":{label:"label",value:"value"},placeholder:"请选择类型"},null,8,["modelValue","options","disabled"])]),_:1})]),_:1}),a(b,null,{default:t(()=>[a(_,{label:"日期:"},{default:t(()=>[a(F,{modelValue:e(d).date,"onUpdate:modelValue":l[4]||(l[4]=u=>e(d).date=u),format:"YYYY/MM/DD",class:"flex-1","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null,8,["modelValue"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),operate:t(()=>[a(W,null,{default:t(()=>[a(g,{type:"outline",onClick:l[5]||(l[5]=s=>n.$router.push("/menu/proTableTwo/operate"))},{icon:t(()=>[a(q)]),default:t(()=>[c(" 新增 ")]),_:1}),a(g,{type:"outline",status:"danger",disabled:!e(r).selectedKeys.length,loading:e(w)==="删除",onClick:l[6]||(l[6]=s=>I())},{icon:t(()=>[a(Q)]),default:t(()=>[c(" 删除 ")]),_:1},8,["disabled","loading"])]),_:1})]),table:t(()=>[a(J,{"selected-keys":e(r).selectedKeys,"onUpdate:selectedKeys":l[7]||(l[7]=s=>e(r).selectedKeys=s),class:"zs-table","row-key":"id",data:e(E),"row-selection":e(r).rowSelection,bordered:e(r).bordered,pagination:e(r).pagination,size:e(r).size,columns:e($),stripe:e(r).stripe,loading:e(U),summary:B,"row-class":K},{date:t(()=>[ke,Ve]),status:t(({record:s})=>[s.sortTableNo!=="总计"?(v(),D(X,{key:0,size:"medium","model-value":s.status==="1",loading:e(w)===s.id,onChange:u=>R(s)},{checked:t(()=>[c("暂停")]),unchecked:t(()=>[c("恢复")]),_:2},1032,["model-value","loading","onChange"])):N("",!0)]),hobby:t(({record:s})=>[a(Z,{data:s.hobby},null,8,["data"])]),operate:t(({record:s})=>[s.sortTableNo!=="总计"?(v(),D(G,{key:0},{default:t(()=>[a(g,{type:"text",status:"success",onClick:u=>n.$router.push(`/menu/proTableTwo/operate?id=${s.id}&isReadOnly=true`)},{default:t(()=>[c("详情")]),_:2},1032,["onClick"]),a(g,{type:"text",status:"danger",loading:e(w)==="删除",onClick:u=>I(s.id)},{default:t(()=>[c(" 删除 ")]),_:2},1032,["loading","onClick"]),a(g,{type:"text",onClick:u=>n.$router.push(`/menu/proTableTwo/operate?id=${s.id}`)},{default:t(()=>[c("编辑")]),_:2},1032,["onClick"])]),_:2},1024)):N("",!0)]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}}),Le=Se(Oe,[["__scopeId","data-v-828285b7"]]);export{Le as default};

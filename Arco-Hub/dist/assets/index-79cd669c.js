import{d as q,u as Q,C as S,E as L,s as N,r as s,o as U,l as R,w as r,g as t,c as e,O as B,W as j,f as x,i as g,k as b,G as A,H as K,_ as M}from"./index-8a2cb146.js";import{Z as O}from"./index-2bbe694f.js";import{L as v}from"./limit-285f78d0.js";const Z=n=>(A("data-v-00765f84"),n=n(),K(),n),z=Z(()=>x("div",{style:{height:"100px"}},null,-1)),E={class:"orderSubmit-footer box-flex jc-fe"},F=q({name:"LimitRechargeDeduction"}),G=q({...F,setup(n){const i=Q(),{jumpTabName:c}=S(),[V,m]=L(null),{form:a,formRef:p}=N(()=>({rechargeQuota:void 0,quotaDesc:""})),y={rechargeQuota:{required:!0,message:"请输入扣除额度"}};(async()=>{const{res:u,err:o}=await b(()=>v.getTopUpLimitTakeDetail({id:i.query.id}));if(o)return[];a.value=u==null?void 0:u.data})();const h=()=>{p.value.validate(u=>{u||D()})},D=async()=>{const{err:u}=await b(()=>v.getTopUpLimitTakeOut({id:a.value.id,rechargeQuota:a.value.rechargeQuota,quotaDesc:a.value.quotaDesc}),{before:()=>m("okLoading"),after:()=>m(null)});u||c()};return(u,o)=>{const T=s("a-input"),d=s("a-form-item"),_=s("a-input-number"),k=s("a-textarea"),w=s("a-form"),C=s("a-card"),f=s("a-button"),I=s("a-space");return U(),R(O,null,{default:r(()=>[t(C,{title:e(j)("扣除额度",!!e(i).query.id),bordered:!1,class:"general-card"},{default:r(()=>[t(w,{ref_key:"formRef",ref:p,model:e(a),"label-align":"left",size:"large",style:{width:"800px","padding-left":"100px"},"auto-label-width":"",rules:y},{default:r(()=>[t(d,{label:"营业部名称:",required:""},{default:r(()=>[t(T,{modelValue:e(a).departName,"onUpdate:modelValue":o[0]||(o[0]=l=>e(a).departName=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"额度(元)",required:""},{default:r(()=>[t(_,{modelValue:e(a).quota,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).quota=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"扣除额度(元)",required:"",field:"rechargeQuota"},{default:r(()=>[t(_,{modelValue:e(a).rechargeQuota,"onUpdate:modelValue":o[2]||(o[2]=l=>e(a).rechargeQuota=l),placeholder:"请输入扣除额度",formatter:l=>e(B)(l,""),parser:l=>l.replace(/,/g,""),precision:2},null,8,["modelValue","formatter","parser"])]),_:1}),t(d,{field:"quotaDesc",label:"额度说明:",required:""},{default:r(()=>[t(k,{modelValue:e(a).quotaDesc,"onUpdate:modelValue":o[3]||(o[3]=l=>e(a).quotaDesc=l),placeholder:"请输入额度说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"]),z,x("div",E,[t(I,null,{default:r(()=>[t(f,{type:"primary",loading:e(V)==="确定",onClick:h},{default:r(()=>[g("确定")]),_:1},8,["loading"]),t(f,{onClick:o[4]||(o[4]=()=>e(c)())},{default:r(()=>[g("返回")]),_:1})]),_:1})])]),_:1})}}});const X=M(G,[["__scopeId","data-v-00765f84"]]);export{X as default};

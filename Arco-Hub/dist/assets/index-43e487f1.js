import{n as h,d as D,q,s as F,v as O,x as P,y as Y,r as l,o as u,e as j,g as o,w as t,c as e,z as g,l as y,i as b,k as w,A as G,S as z}from"./index-8a2cb146.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import"./index-2bbe694f.js";const J=()=>[{title:"编码",dataIndex:"typeCode",show:!0,align:"center",render:({record:d})=>h(d.typeCode)},{title:"名称",dataIndex:"typeName",show:!0,align:"center",render:({record:d})=>h(d.typeName)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],Q=D({name:"SystemDictionaryManage"}),te=D({...Q,setup(d){const{vAuthority:p}=q(),{warningModal:T}=G(),{form:r,resetForm:x}=F(()=>({typeCode:"",typeName:""}),()=>f()),{columnsData:k,visibleColumnsData:v,tableBaseOptions:a,resetData:f,extendTableList:M,changeTableColumn:N,changeTableSize:V}=O(J(),()=>m()),$=s=>{T(`确定操作选中的${a.selectedKeys.length}数据吗？`,async n=>{const{err:c}=await w(()=>z[s]({idList:a.selectedKeys}),{successMsg:"操作成功"});c||(n(!0),a.selectedKeys=[],m())})},{data:K,loading:A,initData:m}=P(async()=>{const{res:s,err:n}=await w(()=>z.getDictionaryList({...r.value,currentPage:a.pagination.current,pageSize:a.pagination.pageSize,pagingOrNot:"1"}));return n?[]:(a.pagination.total=s.data.totalCount,M(s==null?void 0:s.data.dictList))});return Y(m),(s,n)=>{const c=l("a-input"),C=l("a-form-item"),S=l("a-grid-item"),I=l("a-grid"),B=l("a-form"),L=l("icon-plus"),_=l("a-button"),R=l("icon-close"),U=l("a-space"),E=l("a-table");return u(),j("div",null,[o(H,{"table-columns":e(k),"table-size":e(a).size,onResetSearch:e(x),onSearch:e(f),onChangeTableSize:e(V),onChangeTableColumn:e(N)},{form:t(()=>[o(B,{model:e(r),"label-align":"left",size:"large","auto-label-width":""},{default:t(()=>[o(I,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:t(()=>[o(S,null,{default:t(()=>[o(C,{label:"编码:"},{default:t(()=>[o(c,{modelValue:e(r).typeCode,"onUpdate:modelValue":n[0]||(n[0]=i=>e(r).typeCode=i),placeholder:"请输入编码"},null,8,["modelValue"])]),_:1})]),_:1}),o(S,null,{default:t(()=>[o(C,{label:"名称:"},{default:t(()=>[o(c,{modelValue:e(r).typeName,"onUpdate:modelValue":n[1]||(n[1]=i=>e(r).typeName=i),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),operate:t(()=>[o(U,null,{default:t(()=>[g((u(),y(_,{type:"outline",onClick:n[2]||(n[2]=i=>s.$router.push("/system/dictionaryManage/operate"))},{icon:t(()=>[o(L)]),default:t(()=>[b(" 新增 ")]),_:1})),[[e(p),"SystemDictionaryManageAdd"]]),g((u(),y(_,{type:"outline",status:"danger",disabled:!e(a).selectedKeys.length,onClick:n[3]||(n[3]=i=>$("deleteDictionary"))},{icon:t(()=>[o(R)]),default:t(()=>[b(" 删除 ")]),_:1},8,["disabled"])),[[e(p),"SystemDictionaryManageDelete"]])]),_:1})]),table:t(()=>[o(E,{"selected-keys":e(a).selectedKeys,"onUpdate:selectedKeys":n[4]||(n[4]=i=>e(a).selectedKeys=i),class:"zs-table","row-key":"id",data:e(K),"row-selection":e(a).rowSelection,bordered:e(a).bordered,pagination:e(a).pagination,size:e(a).size,columns:e(v),stripe:e(a).stripe,loading:e(A)},{operate:t(({record:i})=>[g((u(),y(_,{type:"text",onClick:W=>s.$router.push(`/system/dictionaryManage/operate?id=${i.id}`)},{default:t(()=>[b("编辑")]),_:2},1032,["onClick"])),[[e(p),"SystemDictionaryManageEdit"]])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{te as default};

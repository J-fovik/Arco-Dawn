import{f as w,U as A,d as x,h as k,i as h,n as F,j as R,r as i,o as y,l as K,w as l,a,b as e,m as B,c as j,e as G,p as J}from"./index-d007178a.js";import{f,_ as Q}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import{f as D}from"./options-aafac76d.js";import"./index-13860ba0.js";const M={getEvaluationList:d=>w({method:"post",url:A.EVALUATION.EVALUATION_INFO_LIST,data:d}),addEvaluation:d=>w({method:"post",url:A.EVALUATION.EVALUATION_INFO_ADD,data:d}),getEvaluationDetailsList:d=>w({method:"post",url:A.EVALUATION.EVALUATION_DETAIL_LIST,data:d}),addEvaluationDetails:d=>w({method:"post",url:A.EVALUATION.EVALUATION_DETAIL_ADD,data:d})},W=[{label:"没有时间限制",value:"0"},{label:"有时间限制",value:"1"}],$=[{label:"蓝色",value:"#7BC7FF"},{label:"紫色",value:"#7C92FF"},{label:"橘黄色",value:"#FFA864"}],P=[{label:"霍兰德高考专业推荐",value:"/static/img/heart.png"},{label:"心理压力测评",value:"/static/img/psychology.png"},{label:"MBTI职业性格测评",value:"/static/img/career.png"},{label:"DISC职业个性测评",value:"/static/img/disc.png"},{label:"霍兰德职业兴趣测评",value:"/static/img/character.png"}],X=[{label:"霍兰德高考专业推荐",value:"霍兰德高考专业推荐"},{label:"心理压力测评",value:"心理压力测评"},{label:"MBTI职业性格测评",value:"MBTI职业性格测评"},{label:"DISC职业个性测评",value:"DISC职业个性测评"},{label:"霍兰德职业兴趣测评",value:"霍兰德职业兴趣测评"}],Y=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"测评的名称",dataIndex:"name",show:!0,align:"center",render:({record:d})=>f(d.name)},{title:"appKey",dataIndex:"appKey",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:d})=>f(d.appKey)},{title:"分数格式",dataIndex:"scoreFormat",show:!0,align:"center",render:({record:d})=>f(d.scoreFormat)},{title:"添加时间",dataIndex:"createTime",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:d})=>f(d.createTime)},{title:"颜色",dataIndex:"color",show:!0,align:"center",render:({record:d})=>{var p;return f((p=D($,d.color))==null?void 0:p.label)}},{title:"图标",dataIndex:"iconImg",show:!0,align:"center",render:({record:d})=>{var p;return f((p=D(P,d.iconImg))==null?void 0:p.label)}},{title:"测评介绍",dataIndex:"introduce",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:d})=>f(d.introduce)},{title:"操作",width:100,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],Z=x({name:"zsAddEvaluationInformation"}),ee=x({...Z,props:{data:{default:()=>({})}},emits:["close","success"],setup(d,{emit:p}){const s=d,[g,N]=k(null),{form:o,formRef:O}=h(()=>({...s.data})),{extendTableList:C}=F(Y(),()=>v()),m={name:{required:!0,message:"请输入测评名称"}},{data:E,loading:z,initData:v}=R(async()=>{const{res:I,err:t}=await B(()=>M.getEvaluationDetailsList({id:o.value.id}));return t?[]:C(I==null?void 0:I.data.resultList)});return(I,t)=>{const r=i("a-grid-item"),T=i("a-select"),u=i("a-form-item"),_=i("a-input"),c=i("a-date-picker"),b=i("a-textarea"),L=i("a-grid"),S=i("a-form"),U=i("a-modal");return y(),K(U,{title:"测评详情信息","unmount-on-close":"",visible:"",top:"5%",width:"80vw","align-center":!1,"mask-closable":!1,"ok-loading":e(g)==="okLoading",onCancel:t[11]||(t[11]=n=>p("close")),onOk:t[12]||(t[12]=n=>p("close"))},{default:l(()=>[a(S,{ref_key:"formRef",ref:O,model:e(o),"label-align":"left",size:"large","auto-label-width":"",rules:m},{default:l(()=>[a(L,{cols:2,"col-gap":24},{default:l(()=>[a(r,{span:24}),a(r,null,{default:l(()=>[a(u,{field:"name",label:"测评的名称:"},{default:l(()=>[a(T,{modelValue:e(o).name,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).name=n),placeholder:"请选择测评的名称","allow-clear":"",options:[...e(X)],disabled:!!s.data.id},null,8,["modelValue","options","disabled"])]),_:1})]),_:1}),a(r,null,{default:l(()=>[a(u,{label:"测评时间限制:"},{default:l(()=>[a(T,{modelValue:e(o).examTotalTime,"onUpdate:modelValue":t[1]||(t[1]=n=>e(o).examTotalTime=n),placeholder:"请选择测评时间限制","allow-clear":"",options:[...e(W)],disabled:!!s.data.id},null,8,["modelValue","options","disabled"])]),_:1})]),_:1}),a(r,null,{default:l(()=>[a(u,{label:"分数格式:"},{default:l(()=>[a(_,{modelValue:e(o).scoreFormat,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).scoreFormat=n),disabled:!!s.data.id,placeholder:"请输入分数格式"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(r,null,{default:l(()=>[a(u,{label:"添加时间:"},{default:l(()=>[a(c,{class:"flex1",format:"YYYY-MM-DD HH:mm:ss",disabled:!!s.data.id,modelValue:e(o).createTime,"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).createTime=n),placeholder:"请添加时间"},null,8,["disabled","modelValue"])]),_:1})]),_:1}),a(r,null,{default:l(()=>[a(u,{field:"color",label:"颜色:"},{default:l(()=>[a(T,{modelValue:e(o).color,"onUpdate:modelValue":t[4]||(t[4]=n=>e(o).color=n),placeholder:"请选择颜色","allow-clear":"",options:[...e($)],disabled:!!s.data.id},null,8,["modelValue","options","disabled"])]),_:1})]),_:1}),a(r,null,{default:l(()=>[a(u,{field:"iconImg",label:"图标:"},{default:l(()=>[a(T,{modelValue:e(o).iconImg,"onUpdate:modelValue":t[5]||(t[5]=n=>e(o).iconImg=n),placeholder:"请选择图标代表的测评","allow-clear":"",options:[...e(P)],disabled:!!s.data.id},null,8,["modelValue","options","disabled"])]),_:1})]),_:1}),a(r,{span:24},{default:l(()=>[a(u,{field:"introduce",label:"测评介绍:"},{default:l(()=>[a(b,{modelValue:e(o).introduce,"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).introduce=n),"auto-size":{minRows:4},placeholder:"请输入测评介绍",disabled:!!s.data.id},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(r,{span:24},{default:l(()=>[a(u,{field:"advertiseTitle",label:"测评的广告语:"},{default:l(()=>[a(b,{modelValue:e(o).advertiseTitle,"onUpdate:modelValue":t[7]||(t[7]=n=>e(o).advertiseTitle=n),"auto-size":{minRows:4},placeholder:"请输入测评的广告语",disabled:!!s.data.id},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(r,{span:24},{default:l(()=>[a(u,{field:"examTips",label:"答题前的要求提示:"},{default:l(()=>[a(b,{modelValue:e(o).examTips,"onUpdate:modelValue":t[8]||(t[8]=n=>e(o).examTips=n),"auto-size":{minRows:4},placeholder:"请输入答题前的要求提示",disabled:!!s.data.id},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(r,{span:24},{default:l(()=>[a(u,{field:"standardIntroduce",label:"测评的标准介绍:"},{default:l(()=>[a(b,{modelValue:e(o).standardIntroduce,"onUpdate:modelValue":t[9]||(t[9]=n=>e(o).standardIntroduce=n),"auto-size":{minRows:4},placeholder:"请输入测评的标准介绍",disabled:!!s.data.id},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(r,{span:24},{default:l(()=>[a(u,{field:"titleIllustrate",label:"测评说明:"},{default:l(()=>[a(b,{modelValue:e(o).titleIllustrate,"onUpdate:modelValue":t[10]||(t[10]=n=>e(o).titleIllustrate=n),"auto-size":{minRows:4},placeholder:"请输入测评说明",disabled:!!s.data.id},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["ok-loading"])}}}),ae=x({name:"EvaluationEvaluationInformation"}),ie=x({...ae,setup(d){const[p,s]=k(null),{form:g,resetForm:N}=h(()=>({name:""}),()=>E()),{selectRow:o,columnsData:O,visibleColumnsData:C,tableBaseOptions:m,resetData:E,extendTableList:z,setSelectRow:v,changeTableColumn:I,changeTableSize:t}=F(Y(),()=>u()),{data:r,loading:T,initData:u}=R(async()=>{const{res:_,err:c}=await B(()=>M.getEvaluationList({...g.value,currentPage:m.pagination.current,pageSize:m.pagination.pageSize,pagingOrNot:"1"}));return c?[]:(m.pagination.total=_.data.totalCount,z(_==null?void 0:_.data.resultList))});return(_,c)=>{const b=i("a-input"),L=i("a-form-item"),S=i("a-grid-item"),U=i("a-grid"),n=i("a-form"),q=i("a-button"),H=i("a-table");return y(),j("div",null,[a(Q,{"table-columns":e(O),"table-size":e(m).size,onResetSearch:e(N),onSearch:e(E),onChangeTableSize:e(t),onChangeTableColumn:e(I)},{form:l(()=>[a(n,{model:e(g),"label-align":"left",size:"large","auto-label-width":""},{default:l(()=>[a(U,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:l(()=>[a(S,null,{default:l(()=>[a(L,{label:"测评的名称:"},{default:l(()=>[a(b,{modelValue:e(g).name,"onUpdate:modelValue":c[0]||(c[0]=V=>e(g).name=V),placeholder:"请输入测评的名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),table:l(()=>[a(H,{"selected-keys":e(m).appKey,"onUpdate:selectedKeys":c[1]||(c[1]=V=>e(m).appKey=V),class:"zs-table","row-key":"appKey",data:e(r),"row-selection":e(m).rowSelection,bordered:e(m).bordered,pagination:e(m).pagination,size:e(m).size,columns:e(C),stripe:e(m).stripe,loading:e(T)},{operate:l(({record:V})=>[a(q,{type:"text",onClick:le=>e(v)(V,()=>e(s)("zsAddEvaluationInformation"))},{default:l(()=>[G("详情")]),_:2},1032,["onClick"])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"]),e(p)==="zsAddEvaluationInformation"?(y(),K(ee,{key:0,data:e(o),onSuccess:e(u),onClose:c[2]||(c[2]=V=>e(v)({},()=>e(s)(null)))},null,8,["data","onSuccess"])):J("",!0)])}}});export{ie as default};

import{d as F,u as ue,s as W,D as Q,r as d,o as y,l as R,w as e,g as t,i as u,e as B,j as ie,c as a,F as ne,J as re,k as z,X as K,A as _e,t as I,ac as Ve,a as de,n as G,p as O,O as j,P as H,E as ee,a1 as ke,aa as $,b as oe,f as Y,af as we,R as Re,v as Ae,h as U,V as se,ab as ge,m as ve,C as ye,_ as be,G as Pe,H as $e}from"./index-8a2cb146.js";import{Z as Ne}from"./index-2bbe694f.js";import{Z as Se}from"./zsRoutePrice-e3a5f38b.js";import{L as M}from"./line-7661aa01.js";import{i as De,o as Ie,a as xe,p as he}from"./rules-4aeaef32.js";import{_ as qe}from"./zsPreviewDumplingDate.vue_vue_type_script_setup_true_name_ZsPreviewDumplingDate_lang-410dbbba.js";const Le=F({name:"ZsSelectDumplingDate"}),je=F({...Le,props:{modelValue:{default:""}},emits:["update:modelValue"],setup(i,{emit:q}){const D=q,h=ue(),{warningModal:S}=_e(),{form:P}=W(()=>({allTimeArr:[],dateCheck:"",routePrice:{crmsjg:void 0,crtxjg:void 0,crdffcmsj:void 0,crdrfctxj:void 0,crqtjg:void 0,lrmsjg:void 0,lrtxjg:void 0,lrdffcmsj2:void 0,lrdrfctxj:void 0,lrqtjg:void 0,etmsjg:void 0,ettxjg:void 0,etdffcmsj:void 0,etqtjg:void 0,zccrdrfctxj:void 0,zcrtdffcmsj:void 0,zcettxjg:void 0,zcetmsjg:void 0,zcetdrfctxj:void 0,zcetqtjg:void 0,qtjg:void 0,qtjg2:void 0,qtjg3:void 0,qtjg4:void 0,remark:""}})),w=Q(null),o=Q([]),V=x=>{const g=re().add(1,"y"),A=re(x);if(g.diff(A)>0){D("update:modelValue",x);const p=o.value.find(N=>N.validDate===x);p&&w.value.setFormData({...p})}else S("选择的日期超过一年，确定选择吗？",p=>{D("update:modelValue",x);const N=o.value.find(b=>b.validDate===x);N&&w.value.setFormData({...N}),p(!0)})};return(async()=>{const{err:x,res:g}=await z(()=>M.getTouristRoutesDetail({id:h.query.id,mark:"2"}));x||(o.value=(g==null?void 0:g.data.specialPriceList)??[],P.value={allTimeArr:g==null?void 0:g.data.validDateList.map(A=>K(A)),routePrice:g==null?void 0:g.data.priceList[0],dateCheck:""})})(),(x,g)=>{const A=d("a-typography-title"),p=d("a-tag"),N=d("a-radio"),b=d("a-radio-group"),c=d("a-grid-item"),f=d("a-grid"),r=d("a-card");return y(),R(r,{bordered:!1,class:"general-card"},{default:e(()=>[t(f,{cols:5,"col-gap":20},{default:e(()=>[t(c,{span:2},{default:e(()=>[t(A,{heading:6},{default:e(()=>[u("出团日期")]),_:1}),t(b,{class:"margin-top","model-value":x.modelValue,onChange:V},{default:e(()=>[(y(!0),B(ne,null,ie(a(P).allTimeArr,l=>(y(),R(N,{key:l,value:l,style:{"margin-bottom":"10px"}},{default:e(()=>[t(p,{size:"large"},{default:e(()=>[u(I(a(Ve)(l)),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])]),_:1}),t(c,{span:3},{default:e(()=>[t(A,{heading:6},{default:e(()=>[u("出团价格")]),_:1}),t(Se,{ref_key:"routePriceRef",ref:w,class:"margin-top",disabled:!0,"default-data":a(P).routePrice},null,8,["default-data"])]),_:1})]),_:1})]),_:1})}}}),{getDictionaryItem:ce}=de(),Ye=i=>{if(i.otherType==="1"){if(i.diffPrice==="1")switch(i.priceType){case"0":return"成人单房差其他价格";case"3":return"老人单房差其他价格";case"6":return"儿童单房差其他价格";case"10":return"占床儿童单房差其他价格";default:return"未知单房差其他价格"}if(i.diffPrice==="0")switch(i.priceType){case"0":return"成人其他价格";case"3":return"老人其他价格";case"6":return"儿童其他价格";case"10":return"占床儿童其他价格";default:return"未知其他价格"}}if(i.otherType==="0"){if(i.diffPrice==="1")switch(i.priceType){case"0":return"成人单房差价格";case"3":return"老人单房差价格";case"6":return"儿童单房差价格";case"10":return"占床儿童单房差价格";default:return"未知单房差价格"}if(i.diffPrice==="0")switch(i.priceType){case"0":return"成人同行价格";case"3":return"老人同行价格";case"6":return"儿童同行价格";case"10":return"占床儿童同行价格";default:return"未知同行价格"}}return"未知价格"},me=[{title:"姓名",show:!0,dataIndex:"name",align:"center",render:({record:i})=>G(i.name)},{title:"性别",show:!0,align:"center",dataIndex:"gender",render:({record:i})=>G(ce("gender",i.gender).detailName)},{title:"联系电话",show:!0,dataIndex:"phone",align:"center",render:({record:i})=>G(i.phone)},{title:"证件类型",show:!0,align:"center",dataIndex:"idtype",render:({record:i})=>G(ce("IDType",i.idtype).detailName)},{title:"证件号码",show:!0,align:"center",dataIndex:"idnumber",render:({record:i})=>G(i.idnumber)},{title:"年龄",show:!0,align:"center",dataIndex:"age",render:({record:i})=>G(i.age)},{title:"类别",show:!0,align:"center",dataIndex:"priceType",render:({record:i})=>G(Ye(i))},{title:"实收旅行费",show:!0,dataIndex:"actualSignCost",align:"right",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.actualSignCost)))},{title:"订单保险费",show:!0,align:"right",dataIndex:"insuranceCost",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.insuranceCost)))},{title:"实收保险费",show:!0,align:"right",dataIndex:"actualInsuraCost",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.actualInsuraCost)))},{title:"订单总费用",show:!0,align:"right",dataIndex:"totalCost",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.totalCost)))},{title:"实收总费用",show:!0,align:"right",dataIndex:"actualTotalCost",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.actualTotalCost)))},{title:"操作",show:!0,align:"center",width:200,dataIndex:"name",slotName:"operate"}],Fe={class:"text-red"},ze={class:"text-red"},Me={class:"text-red"},Ue={class:"text-red"},Ze=F({name:"ZsAddTourist"}),Ee=F({...Ze,props:{basisData:{default:()=>({})},defaultData:{default:()=>({})}},emits:["close","success"],setup(i,{emit:q}){const D=i,h=ue(),{getDictionaryInfo:S}=de(),[P,w]=ee(""),{form:o,formRef:V}=W(()=>({name:"",gender:"1",phone:"",idtype:"1",idnumber:"",age:"",priceType:"",actualSign:"",insuranceId:"",insuranceCost:0,birthday:"",insurType:"",actualInsuraCost:"",actualsignCost:0,actualCost:"",otherType:"0",diffPrice:"0",remake:"",diffFree:0,signCost:0,...D.defaultData})),m={idnumber:{required:!0,validator:(l,n)=>{o.value.idtype==="1"&&l&&!De(l)&&n("请输入正确的身份证"),o.value.idtype==="2"&&l&&!Ie(l)&&n("请输入正确的士官证"),o.value.idtype==="4"&&l&&!xe(l)&&n("请输入正确的护照")}},name:{required:!0,message:"请输入姓名"},phone:{required:!0,validator:(l,n)=>{l&&!he(l)&&n("请输入正确的手机号")}},insuranceId:{required:!0,message:"请选择保险"},priceType:{required:!0,message:"请选择报名价格"}},x=q,g=ke(()=>$($(o.value.insuranceCost)+$(o.value.signCost)+$(o.value.otherType==="1"?p.value.qtjg:0)+$(o.value.diffPrice==="1"?o.value.diffFree:0))),{data:A}=oe(async()=>{const{err:l,res:n}=await z(()=>M.getApplicationInsurance({id:h.query.id}));return l?{}:n==null?void 0:n.data}),{data:p}=oe(async()=>{const{err:l,res:n}=await z(()=>M.getApplicationPrices({id:h.query.id,routeDate:K(D.defaultData.routeDate,"YYYY-MM-DD")}));if(l)return{};if(o.value.priceType){const s=n==null?void 0:n.data.bmjgList.find(_=>o.value.priceType===_.priceType);s&&(o.value.priceType=s.priceType,o.value.signCost=s.txjg,o.value.diffFree=s.drfctxj)}return{qtjg:0,...n==null?void 0:n.data}},{bmjgList:[],qtjg:0}),N=async()=>{V.value.validateField(["idnumber"],async l=>{if(l)return;const{err:n,res:s}=await z(()=>M.getApplicationCustomerInfo({idnumber:o.value.idnumber}));if(!n)if(s!=null&&s.data)o.value.name=s==null?void 0:s.data.name,o.value.gender=s==null?void 0:s.data.gender,o.value.phone=s==null?void 0:s.data.phone,o.value.birthday=s==null?void 0:s.data.birthday;else{const _=we(o.value.idnumber);o.value.gender=_.gender,o.value.birthday=_.birthday}})},b=l=>{const n=A.value.find(s=>s.id===l);n&&(o.value.insuranceCost=n.peerPrice,o.value.insuranceId=n.id,o.value.insurType=n.insuranceType)},c=l=>{const n=p.value.bmjgList.find(s=>l===s.priceType);n&&(o.value.priceType=n.priceType,o.value.signCost=n.txjg,o.value.diffFree=n.drfctxj)},f=()=>{V.value.validate(l=>{l||r()})},r=async()=>{const l={...o.value,totalCost:g.value,qtjg:p.value.qtjg,age:re().diff(re(o.value.birthday),"year"),isEdit:!!D.defaultData.name};x("success",l)};return(l,n)=>{const s=d("a-radio"),_=d("a-radio-group"),k=d("a-form-item"),T=d("a-grid-item"),E=d("a-input"),X=d("a-date-picker"),Z=d("a-select"),J=d("a-input-number"),te=d("a-textarea"),ae=d("a-grid"),fe=d("a-form"),pe=d("a-modal");return y(),R(pe,{top:"10%",width:"1000px",title:"添加游客","unmount-on-close":"",visible:"","align-center":!1,"mask-closable":!1,"ok-loading":a(P)==="okLoading",onCancel:n[9]||(n[9]=C=>x("close")),onOk:f},{default:e(()=>[t(fe,{ref_key:"formRef",ref:V,model:a(o),"label-align":"left",size:"large","auto-label-width":"",rules:m},{default:e(()=>[t(ae,{cols:2,"col-gap":12,"row-gap":12},{default:e(()=>[t(T,null,{default:e(()=>[t(k,{field:"idtype",label:"证件类型:",required:""},{default:e(()=>[t(_,{modelValue:a(o).idtype,"onUpdate:modelValue":n[0]||(n[0]=C=>a(o).idtype=C)},{default:e(()=>[(y(!0),B(ne,null,ie(a(S)("IDType"),C=>(y(),R(s,{value:C.detailCode},{default:e(()=>[u(I(C.detailName),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"idnumber",label:"证件号码:",required:""},{default:e(()=>[t(E,{modelValue:a(o).idnumber,"onUpdate:modelValue":n[1]||(n[1]=C=>a(o).idnumber=C),placeholder:"请输入证件号码",onBlur:N},null,8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"name",label:"姓名:",required:""},{default:e(()=>[t(E,{modelValue:a(o).name,"onUpdate:modelValue":n[2]||(n[2]=C=>a(o).name=C),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"phone",label:"手机号码:",required:""},{default:e(()=>[t(E,{modelValue:a(o).phone,"onUpdate:modelValue":n[3]||(n[3]=C=>a(o).phone=C),placeholder:"请输入手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"gender",label:"性别:",required:""},{default:e(()=>[t(_,{modelValue:a(o).gender,"onUpdate:modelValue":n[4]||(n[4]=C=>a(o).gender=C)},{default:e(()=>[t(s,{value:"1"},{default:e(()=>[u("男")]),_:1}),t(s,{value:"0"},{default:e(()=>[u("女")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"birthday",label:"出生日期:",required:""},{default:e(()=>[t(X,{modelValue:a(o).birthday,"onUpdate:modelValue":n[5]||(n[5]=C=>a(o).birthday=C),class:"flex1",placeholder:"请选择出生日"},null,8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"insuranceId",label:"选择保险:",required:""},{extra:e(()=>[Y("div",null,[u(" 保险费： "),Y("span",Fe,I(a(o).insuranceCost),1),u("元 ")])]),default:e(()=>[t(Z,{"model-value":a(o).insuranceId,class:"flex1",options:a(A),"field-names":{label:"productName",value:"id"},placeholder:"请选择保险",onChange:b},null,8,["model-value","options"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"priceType",label:"报名价格:",required:""},{extra:e(()=>[Y("div",null,[u(" 报名价格： "),Y("span",ze,I(a(o).signCost),1),u("元 ")])]),default:e(()=>[t(Z,{"model-value":a(o).priceType,options:a(p).bmjgList,"field-names":{label:"costType",value:"priceType"},placeholder:"请选择报名价格",onChange:c},null,8,["model-value","options"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"otherType",label:"其他价格:",required:""},{extra:e(()=>[Y("div",null,[u(" 其他价格： "),Y("span",Me,I(a(p).qtjg),1),u("元 ")])]),default:e(()=>[t(_,{modelValue:a(o).otherType,"onUpdate:modelValue":n[6]||(n[6]=C=>a(o).otherType=C)},{default:e(()=>[t(s,{value:"1"},{default:e(()=>[u("是")]),_:1}),t(s,{value:"0"},{default:e(()=>[u("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"diffPrice",label:"单房差价:",required:""},{extra:e(()=>[Y("div",null,[u(" 单房差价： "),Y("span",Ue,I(a(o).diffFree),1),u("元 ")])]),default:e(()=>[t(_,{modelValue:a(o).diffPrice,"onUpdate:modelValue":n[7]||(n[7]=C=>a(o).diffPrice=C)},{default:e(()=>[t(s,{value:"1"},{default:e(()=>[u("是")]),_:1}),t(s,{value:"0"},{default:e(()=>[u("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"diffPrice",label:"费用总和:",required:""},{default:e(()=>[t(J,{"model-value":g.value,readOnly:"",formatter:C=>a(j)(C,""),parser:C=>C.replace(/,/g,""),precision:0,"hide-button":"",placeholder:"请输入费用总和"},null,8,["model-value","formatter","parser"])]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(k,{field:"remake",label:"备注:"},{default:e(()=>[t(te,{modelValue:a(o).remake,"onUpdate:modelValue":n[8]||(n[8]=C=>a(o).remake=C),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["ok-loading"])}}}),Be=Y("br",null,null,-1),Ke=Y("br",null,null,-1),Oe=Y("br",null,null,-1),He=Y("br",null,null,-1),Xe=F({name:"ZsIntelligentImport"}),Ge=F({...Xe,props:{defaultData:{default:()=>({})}},emits:["close","success"],setup(i,{emit:q}){const D=i,h=ue(),[S,P]=ee(""),{form:w,formRef:o}=W(()=>({customerInfo:""})),V={customerInfo:{required:!0,message:"请输入游客信息"}},m=q,x=()=>{o.value.validate(A=>{A||g()})},g=async()=>{const{err:A,res:p}=await z(()=>M.intelligentImportTourist({id:h.query.id,customerInfo:w.value.customerInfo,travelType:D.defaultData.travelRouteSupplierInfo.travelType,routeDate:K(D.defaultData.routeDate,"YYYY-MM-DD"),travelDays:D.defaultData.travelRouteSupplierInfo.travelDays,childAge:D.defaultData.travelRouteSupplierInfo.childAge,adultAge:D.defaultData.travelRouteSupplierInfo.adultAge,elderlyAge:D.defaultData.travelRouteSupplierInfo.elderlyAge}),{before:()=>P("okLoading"),after:()=>P("")});A||(m("success",p==null?void 0:p.data),m("close"))};return(A,p)=>{const N=d("a-alert"),b=d("a-textarea"),c=d("a-form-item"),f=d("a-form"),r=d("a-modal");return y(),R(r,{top:"10%",width:"1100px",title:"智能导入游客","unmount-on-close":"",visible:"","align-center":!1,"mask-closable":!1,"ok-loading":a(S)==="okLoading",onCancel:p[1]||(p[1]=l=>m("close")),onOk:x},{default:e(()=>[t(N,{title:"提示"},{default:e(()=>[u(" 用身份证报名 只需要填写 姓名 证件号码 电话；用 护照 报名只需要填写 姓名 证件号码 电话性别 生日 "),Be,u(" 要求：性别 用 1或0(1代表男，0代表女),生日格式yyyy-MM-dd;游客信息之间用空格隔开，每名游客占一行。示例："),Ke,u(" 张三 370101199901011111 18711111111 "),Oe,u(" 李四 E323434343 18722222222 1 1996-08-07 "),He]),_:1}),t(f,{ref_key:"formRef",ref:o,model:a(w),"label-align":"left",size:"large",layout:"vertical","auto-label-width":"",rules:V},{default:e(()=>[t(c,{field:"customerInfo",label:"游客信息:"},{default:e(()=>[t(b,{modelValue:a(w).customerInfo,"onUpdate:modelValue":p[0]||(p[0]=l=>a(w).customerInfo=l),placeholder:"游客信息之间用空格隔开，每名游客各占一行","auto-size":{minRows:10}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["ok-loading"])}}}),Je=F({name:"ZsErrorInfo"}),Qe=F({...Je,props:{msgList:{default:()=>[]}},emits:["close"],setup(i,{emit:q}){const D=q;return(h,S)=>{const P=d("a-alert"),w=d("a-modal");return y(),R(w,{top:"10%",width:"600px",title:"批量导入提示","unmount-on-close":"",visible:"","align-center":!1,"mask-closable":!1,footer:!1,onCancel:S[0]||(S[0]=o=>D("close"))},{default:e(()=>[(y(!0),B(ne,null,ie(h.msgList,(o,V)=>(y(),R(P,{key:V},{default:e(()=>[u(I(o),1)]),_:2},1024))),128))]),_:1})}}}),We=F({name:"ZsTouristTable"}),et=F({...We,props:{disabled:{type:Boolean,default:!1},defaultData:{default:()=>({})}},setup(i,{expose:q}){const D=i;q({validateData:()=>!!h.value.length,getTableData:()=>h.value,getDeleteTableData:()=>S.value});const h=Re(D.defaultData.customerInfoList??[]),S=Q([]),{selectRow:P,setSelectRow:w}=Ae(me,()=>{}),[o,V]=ee(null),m=Q([]),x=(b,c)=>{c.id&&S.value.push(c),h.value.splice(b,1)},g=b=>{const c=h.value.findIndex(f=>f.idnumber===b.idnumber);if(c>-1)if(b.isEdit)h.value[c]=b;else return se.warning("不能重复添加同一个证件号码");else h.value.push(b);V("")},A=b=>{b.forEach(c=>{if(h.value.find(f=>f.idnumber===c.idnumber))return se.warning("不能重复添加同一个证件号码");h.value.push(c)}),V("")},p=async b=>{const{err:c,res:f}=await z(()=>M.batchImportTourist({file:b.at(-1).file,travelType:D.defaultData.travelRouteSupplierInfo.travelType,routeDate:K(D.defaultData.routeDate,"YYYY-MM-DD"),routeId:D.defaultData.travelRouteSupplierInfo.id,travelDays:D.defaultData.travelRouteSupplierInfo.travelDays,childAge:D.defaultData.travelRouteSupplierInfo.childAge,adultAge:D.defaultData.travelRouteSupplierInfo.adultAge,elderlyAge:D.defaultData.travelRouteSupplierInfo.elderlyAge}));if(c){c.data&&(m.value=c.data,V("ZsErrorInfo"));return}A(f==null?void 0:f.data.map(r=>({...r,actualsignCost:$($(r.insuranceCost??0)+$(r.signCost??0))})))},N=()=>{ge("/xls/mb.xls","模版")};return(b,c)=>{const f=d("icon-plus"),r=d("a-button"),l=d("icon-code-block"),n=d("icon-select-all"),s=d("a-upload"),_=d("icon-download"),k=d("a-space"),T=d("a-table"),E=d("a-typography-title"),X=d("a-card");return y(),B("div",null,[t(X,{bordered:!1,class:"general-card"},{title:e(()=>[u(" 游客信息 （儿童年龄: "+I(b.defaultData.travelRouteSupplierInfo.childAge)+"岁）（成年人年龄: "+I(b.defaultData.travelRouteSupplierInfo.adultAge)+"岁）（老年人年龄: "+I(b.defaultData.travelRouteSupplierInfo.elderlyAge)+"岁）",1)]),extra:e(()=>[t(k,null,{default:e(()=>[t(r,{type:"primary",onClick:c[0]||(c[0]=Z=>a(V)("ZsAddTourist"))},{icon:e(()=>[t(f)]),default:e(()=>[u("添加游客 ")]),_:1}),t(r,{status:"warning",onClick:c[1]||(c[1]=Z=>a(V)("ZsIntelligentImport"))},{icon:e(()=>[t(l)]),default:e(()=>[u(" 智能导入 ")]),_:1}),t(s,{"list-type":"text","auto-upload":!1,"show-retry-button":!1,"show-link":!1,"show-file-list":!1,accept:".xls",onChange:p},{"upload-button":e(()=>[t(r,{status:"success"},{icon:e(()=>[t(n)]),default:e(()=>[u("批量导入 ")]),_:1})]),_:1}),t(r,{status:"danger",onClick:N},{icon:e(()=>[t(_)]),default:e(()=>[u("下载模版 ")]),_:1})]),_:1})]),default:e(()=>[t(T,{size:"large",columns:a(me),data:h.value,pagination:!1,bordered:!1},{operate:e(({rowIndex:Z,record:J})=>[t(k,null,{default:e(()=>[t(r,{type:"text",onClick:te=>a(w)(J,()=>a(V)("ZsAddTourist"))},{default:e(()=>[u("编辑")]),_:2},1032,["onClick"]),t(r,{type:"text",status:"danger",onClick:te=>x(Z,J)},{default:e(()=>[u("删除")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"]),t(E,{heading:6,class:"box-flex jc-fe margin-top"},{default:e(()=>[u("游客共计： "+I(h.value.length)+"位",1)]),_:1})]),_:1}),a(o)==="ZsAddTourist"?(y(),R(Ee,{key:0,"default-data":a(P),"basis-data":b.defaultData,onClose:c[2]||(c[2]=Z=>a(w)({},()=>a(V)(""))),onSuccess:g},null,8,["default-data","basis-data"])):U("",!0),a(o)==="ZsIntelligentImport"?(y(),R(Ge,{key:1,"default-data":b.defaultData,onClose:c[3]||(c[3]=Z=>a(V)("")),onSuccess:A},null,8,["default-data"])):U("",!0),a(o)==="ZsErrorInfo"?(y(),R(Qe,{key:2,"msg-list":m.value,onClose:c[4]||(c[4]=Z=>a(V)(""))},null,8,["msg-list"])):U("",!0)])}}}),tt=[{title:"类别",dataIndex:"costType"},{title:"游客报名价格(元)",slotName:"ssbmf",align:"right"},{title:"游客保险费(元)",slotName:"ssbxf",align:"right"},{title:"单房差门市价格",slotName:"diffmsFree",align:"right"},{title:"人数",dataIndex:"peopleAll",align:"right"},{title:"订单保险费(元)",dataIndex:"ddbxf",align:"right",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.ddbxf,"0.00")))},{title:"订单总费用(元)",dataIndex:"moneyAll",align:"right",render:({record:i})=>O("span",{class:"text-red text-price"},j(H(i.moneyAll,"0.00")))},{title:"实收总费用(元)",dataIndex:"totalPaidInExpenses",align:"right",render:({record:i})=>{const q=i.totalPaidInExpenses??$(($(i.ssbmf??0)+$(i.ssbxf??0)+$(i.diffmsFree??0))*i.peopleAll);return O("span",{class:"text-red text-price"},j(H(`${q}`,"0")))}}],at={style:{width:"80%"}},lt={key:0,class:"text-price text-red"},nt={key:0,class:"text-price text-red"},ot={key:0,class:"text-price text-red"},st=F({name:"ZsRegistrationPayment"}),ut=F({...st,props:{defaultData:{default:()=>({})}},emits:["close","success"],setup(i,{emit:q}){const D=i,h=q;ve();const{jumpTabName:S}=ye(),{getDictionaryInfo:P}=de(),[w,o]=ee(""),{warningModal:V}=_e(),{form:m,formRef:x}=W(()=>({signType:"0",authType:"0",signingIDType:"1",signingIDNumber:"",signingName:"",signingIDPhone:"",realNameAuthType:"0",customerInfoInitList:[],fileList:[]})),g={signingIDNumber:{required:!0,validator:(r,l)=>{m.value.signingIDType==="1"&&r&&!De(r)&&l("请输入正确的身份证"),m.value.signingIDType==="2"&&r&&!Ie(r)&&l("请输入正确的士官证"),m.value.signingIDType==="4"&&r&&!xe(r)&&l("请输入正确的护照"),r||l("请输入身份证号")}},signingName:{required:!0,message:"请输入签署人姓名"},signingIDPhone:{required:!0,validator:(r,l)=>{!r&&!he(r)&&l("请输入正确的手机号")}},fileList:{required:!0,message:"请上传授权文件"},ssbmf:{required:!0,message:"请输入游客报名价格(元)"},ssbxf:{required:!0,message:"请输入游客保险费(元)"},diffmsFree:{required:!0,message:"请输入单房差门市价格(元)"}},A=r=>{x.value.validate(l=>{if(!l)if(r==="0")c(r);else{const n=b({data:m.value.customerInfoInitList});if(p.value.depart.level!=="4"&&n[0].totalPaidInExpenses>p.value.quota)V("您的余额不足，请及时充值！",s=>{c("0"),s(!0)});else{const s=p.value.travelRouteSupplierInfo;s.supType==="4"?V(`此线路为辅助外交线路，营业部扣点为${s.rebate}，本次订单总费用为${n[0].moneyAll}，实收总费用为${n[0].totalPaidInExpenses}。确定报名？扣点只扣报名费部分，保险费不变！！`,_=>{c(r),_(!0)}):V(`本次订单总费用共：${n[0].moneyAll}元；实收总费用共：${n[0].totalPaidInExpenses}元 确定报名？`,_=>{c(r),_(!0)})}}})},{data:p,loading:N}=oe(async()=>{const{err:r,res:l}=await z(()=>M.getApplicationRegistrationPaymentInfo({id:D.defaultData.id,groupId:D.defaultData.groupId,touristsList:D.defaultData.customerInfoList}));if(r)return{};if(l!=null&&l.data.signupRecord){const n=l.data.signupRecord;m.value={signType:n.signType??"1",authType:n.authType??"0",realNameAuthType:n.realNameAuthType??"0",signingIDType:n.signingIDType??"1",signingIDNumber:n.signingIDNumber,signingName:n.signingName,signingIDPhone:n.signingIDPhone,customerInfoInitList:l.data.customerInfoInitList.map(s=>({...s,ssbmf:s.ssbmf??s.ykbmjg})),fileList:[]}}return l==null?void 0:l.data}),b=({data:r})=>{let l={ssbmf:0,ssbxf:0,diffmsFree:0,peopleAll:0,ddbxf:0,moneyAll:0,totalPaidInExpenses:0};return r.forEach(n=>{l.ssbmf+=$(n.ssbmf??0),l.ssbxf+=$(n.ssbxf??0),l.diffmsFree+=$(n.diffmsFree??0),l.peopleAll+=$(n.peopleAll??0),l.ddbxf+=$(n.ddbxf??0),l.moneyAll+=$(n.moneyAll??0),l.totalPaidInExpenses+=$(($(n.ssbmf??0)+$(n.ssbxf??0)+$(n.diffmsFree??0))*n.peopleAll)}),[{costType:"总结",...l}]},c=async r=>{const l=se.loading({content:"正在提交",duration:6e4}),n=b({data:p.value.customerInfoInitList}),s={...m.value,id:p.value.travelRoute.id,routeName:p.value.travelRoute.routeName,type:r,groupId:p.value.signupRecord.groupId,departNo:p.value.depart.departCode,departName:p.value.depart.name,totalNumber:p.value.zjPeopleAll,payId:p.value.payVoucher.id,tourState:p.value.signupRecord.state,fileList:await Promise.all(m.value.fileList.map(k=>f(k))),touristsinfoPayRequestList:m.value.customerInfoInitList,money:p.value.zjMoneyAll,actualMoney:n[0].totalPaidInExpenses,actualCost:n[0].ssbmf,actualInsuraCost:n[0].ssbxf,signCost:p.value.zjSignCostAll,insuranceCost:n[0].ddbxf,level:p.value.depart.level},{err:_}=await z(()=>M.saveApplicationRegistrationPaymentInfo(s),{before:()=>o(r==="0"?"保存草稿":"确定"),after:()=>o("")});l.close(),!_&&(h("close"),S("OrderTradeManage"))},f=async r=>{if(r.file){const{res:l}=await z(()=>M.uploadApplicationFile({file:r.file}));return{attName:r.name,attSize:parseInt(`${r.file.size/1024}`),attPath:l==null?void 0:l.data}}return{attName:r.name,attSize:r.attSize,attPath:r.url}};return(r,l)=>{const n=d("a-alert"),s=d("a-form-item"),_=d("a-grid-item"),k=d("a-tag"),T=d("a-radio"),E=d("a-radio-group"),X=d("a-input"),Z=d("a-upload"),J=d("a-link"),te=d("a-grid"),ae=d("a-input-number"),fe=d("a-table"),pe=d("a-form"),C=d("a-button"),Te=d("a-space"),Ce=d("a-modal");return y(),R(Ce,{top:"2%",width:"1400px",title:"报名付款","unmount-on-close":"",visible:"","align-center":!1,"mask-closable":!1,onCancel:l[12]||(l[12]=v=>h("close"))},{footer:e(()=>[t(Te,null,{default:e(()=>[t(C,{onClick:l[9]||(l[9]=v=>h("close"))},{default:e(()=>[u("取消")]),_:1}),t(C,{onClick:l[10]||(l[10]=v=>A("1")),loading:a(w)==="确定",type:"primary"},{default:e(()=>[u("确定")]),_:1},8,["loading"]),t(C,{status:"success",loading:a(w)==="保存草稿",onClick:l[11]||(l[11]=v=>A("0"))},{default:e(()=>[u("保存草稿")]),_:1},8,["loading"])]),_:1})]),default:e(()=>[t(n,{title:"提示"},{default:e(()=>[u(" 说明：签署类型中多人签署指报名旅客每人一份合同，每人分别签署；授权签署指定一人作为代签人（此人不一定是报名旅客）生成一份合同，授权签署时签署人信息必填。 授权类型有两种类别个人，企业。企业需要上传授权文件(PDF格式)，企业签署时没有授权文件不允许付款。")]),_:1}),t(pe,{ref_key:"formRef",ref:x,model:a(m),"label-align":"left",size:"large",class:"margin-top","auto-label-width":"",rules:g},{default:e(()=>[a(N)?U("",!0):(y(),R(te,{key:0,cols:2},{default:e(()=>[t(_,null,{default:e(()=>[t(s,{label:"账户余额:"},{default:e(()=>[u(I(a(j)(`${a(p).quota}`))+"元",1)]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"线路名称:"},{default:e(()=>[u(I(a(p).signupRecord.routeName),1)]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"行程时间:"},{default:e(()=>[t(k,null,{default:e(()=>[u(I(a(K)(a(p).signupRecord.startDate,"YYYY-MM-DD")),1)]),_:1}),u(" 至 "),t(k,null,{default:e(()=>[u(I(a(K)(a(p).signupRecord.endDate,"YYYY-MM-DD")),1)]),_:1}),u(" 共计 "),t(k,null,{default:e(()=>[u(I(a(p).signupRecord.days),1)]),_:1}),u(" 天")]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"付款方式:"},{default:e(()=>[u(" 账户余额 ")]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"签署类型:"},{default:e(()=>[t(E,{modelValue:a(m).signType,"onUpdate:modelValue":l[0]||(l[0]=v=>a(m).signType=v)},{default:e(()=>[t(T,{value:"1"},{default:e(()=>[u("授权签署")]),_:1}),t(T,{value:"0"},{default:e(()=>[u("多人签署")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(m).signType==="1"?(y(),B(ne,{key:0},[t(_,null,{default:e(()=>[t(s,{label:"签署人证件:",required:""},{default:e(()=>[t(E,{modelValue:a(m).signingIDType,"onUpdate:modelValue":l[1]||(l[1]=v=>a(m).signingIDType=v)},{default:e(()=>[(y(!0),B(ne,null,ie(a(P)("IDType"),v=>(y(),R(T,{value:v.detailCode},{default:e(()=>[u(I(v.detailName),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"授权类型:",required:""},{default:e(()=>[t(E,{modelValue:a(m).authType,"onUpdate:modelValue":l[2]||(l[2]=v=>a(m).authType=v)},{default:e(()=>[t(T,{value:"0"},{default:e(()=>[u("个人签署")]),_:1}),t(T,{value:"1"},{default:e(()=>[u("企业签署")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"签署人证件号:",field:"signingIDNumber"},{default:e(()=>[t(X,{modelValue:a(m).signingIDNumber,"onUpdate:modelValue":l[3]||(l[3]=v=>a(m).signingIDNumber=v),placeholder:"请输入签署人证件号",style:{width:"80%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(m).authType==="1"?(y(),R(_,{key:0},{default:e(()=>[t(s,{label:"企业授权文件:",field:"fileList",required:""},{default:e(()=>[Y("div",at,[t(Z,{"file-list":a(m).fileList,"onUpdate:fileList":l[4]||(l[4]=v=>a(m).fileList=v),accept:".pdf","auto-upload":!1,limit:1,"show-retry-button":!1},null,8,["file-list"])])]),_:1})]),_:1})):U("",!0),t(_,null,{default:e(()=>[t(s,{label:"签署人姓名:",field:"signingName"},{default:e(()=>[t(X,{modelValue:a(m).signingName,"onUpdate:modelValue":l[5]||(l[5]=v=>a(m).signingName=v),placeholder:"请输入签署人姓名",style:{width:"80%"}},null,8,["modelValue"])]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"签署人手机号:",field:"signingIDPhone"},{default:e(()=>[t(X,{modelValue:a(m).signingIDPhone,"onUpdate:modelValue":l[6]||(l[6]=v=>a(m).signingIDPhone=v),placeholder:"请输入签署人手机号",style:{width:"80%"}},null,8,["modelValue"])]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(s,{label:"游客签约主体身份认证:",field:"realNameAuthType"},{extra:e(()=>[u(" 并同意 "),t(J,{onClick:l[8]||(l[8]=v=>a(ge)("/docx/mandate.docx","企业委托书"))},{default:e(()=>[u("《企业授权委托书》")]),_:1})]),default:e(()=>[t(E,{modelValue:a(m).realNameAuthType,"onUpdate:modelValue":l[7]||(l[7]=v=>a(m).realNameAuthType=v)},{default:e(()=>[t(T,{value:"0"},{default:e(()=>[u("企业授权委托书")]),_:1}),t(T,{value:"1"},{default:e(()=>[u("游客签约主体身份认证")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)):U("",!0)]),_:1})),t(fe,{size:"large",columns:a(tt),data:a(m).customerInfoInitList,summary:b,class:"margin-top",pagination:!1,bordered:!1},{ssbmf:e(({record:v,rowIndex:le})=>[v.costType==="总结"?(y(),B("span",lt,I(a(j)(`${v.ssbmf}`)),1)):(y(),R(s,{key:1,field:`customerInfoInitList[${le}].ssbmf`,rules:[g.ssbmf],"hide-label":"","hide-asterisk":"",help:`游客报名价格不能小于实际报名价格${v.ykbmjg}元`},{default:e(()=>[t(ae,{modelValue:v.ssbmf,"onUpdate:modelValue":L=>v.ssbmf=L,formatter:L=>a(j)(L,""),parser:L=>L.replace(/,/g,""),precision:2,min:v.ykbmjg,"hide-button":"",placeholder:"请输入游客报名价格(元)"},null,8,["modelValue","onUpdate:modelValue","formatter","parser","min"])]),_:2},1032,["field","rules","help"]))]),ssbxf:e(({record:v,rowIndex:le})=>[v.costType==="总结"?(y(),B("span",nt,I(a(j)(`${v.ssbxf}`)),1)):(y(),R(s,{key:1,field:`customerInfoInitList[${le}].ssbxf`,rules:[g.ssbxf],"hide-label":"","hide-asterisk":""},{default:e(()=>[t(ae,{modelValue:v.ssbxf,"onUpdate:modelValue":L=>v.ssbxf=L,formatter:L=>a(j)(L,""),parser:L=>L.replace(/,/g,""),precision:2,"hide-button":"",placeholder:"请输入游客保险费(元)"},null,8,["modelValue","onUpdate:modelValue","formatter","parser"])]),_:2},1032,["field","rules"]))]),diffmsFree:e(({record:v,rowIndex:le})=>[v.costType==="总结"?(y(),B("span",ot,I(a(j)(`${v.diffmsFree}`)),1)):(y(),R(s,{key:1,field:`customerInfoInitList[${le}].diffmsFree`,rules:[g.diffmsFree],"hide-label":"","hide-asterisk":""},{default:e(()=>[t(ae,{modelValue:v.diffmsFree,"onUpdate:modelValue":L=>v.diffmsFree=L,formatter:L=>a(j)(L,""),parser:L=>L.replace(/,/g,""),precision:2,"hide-button":"",placeholder:"请输入单房差门市价格(元)"},null,8,["modelValue","onUpdate:modelValue","formatter","parser"])]),_:2},1032,["field","rules"]))]),_:1},8,["columns","data"])]),_:1},8,["model"])]),_:1})}}});const rt=be(ut,[["__scopeId","data-v-623f3017"]]),it=i=>(Pe("data-v-3ee3ba9e"),i=i(),$e(),i),dt=it(()=>Y("div",{class:"text-red margin-top box-flex jc-fe"}," 注意：其它约定事项及其它补充文件等，请点击上传附件(PDF格式)，上传到系统中；同时在单子合同中显示。 ",-1)),ft=F({name:"ZsTravelInformationForm"}),pt=F({...ft,props:{disabled:{type:Boolean,default:!1},defaultData:{default:()=>({})}},emits:["changeDefaultData"],setup(i,{expose:q,emit:D}){const h=i,S=D,P=ue(),w=Q(null),{getDictionaryItem:o}=de(),[V,m]=ee(null),{form:x}=W(()=>({venue:"",fileList:[]})),{data:g,loading:A}=oe(async()=>{var r,l,n,s;const{err:c,res:f}=await z(()=>M.getApplicationTouristDetail({id:P.query.id,routeDate:h.defaultData.routeDate?K(h.defaultData.routeDate,"YYYY-MM-DD"):"",groupId:P.query.groupId}));return c?{}:((r=f==null?void 0:f.data)!=null&&r.signupRecord.supId&&(S("changeDefaultData",{routeDate:K((n=(l=f==null?void 0:f.data)==null?void 0:l.signupRecord)==null?void 0:n.startDate)}),x.value.venue=(s=f==null?void 0:f.data)==null?void 0:s.signupRecord.venue,x.value.fileList=f.data.attachmentList.map(_=>({name:_.attName,url:_.attPath,status:"done",uid:_.id,attSize:_.attSize}))),f==null?void 0:f.data)}),{data:p}=oe(async()=>{const{err:c,res:f}=await z(()=>M.getDepartmentalBalance({departNo:""}));return c?{}:f==null?void 0:f.data.quota},0),N=async c=>{if(c.file){const{res:f}=await z(()=>M.uploadApplicationFile({file:c.file}));return{attName:c.name,attSize:parseInt(`${c.file.size/1024}`),attPath:f==null?void 0:f.data}}return{attName:c.name,attSize:c.attSize,attPath:c.url}};return q({saveData:async()=>{const c=se.loading("正在保存"),f=w.value.getTableData(),r=w.value.getDeleteTableData(),l=f.reduce((_,k)=>(_.signCost+=k.signCost,_.insuranceCost+=k.insuranceCost,_.totalCost+=k.actualsignCost,_),{signCost:0,insuranceCost:0,totalCost:0}),n={id:P.query.id,signupNo:g.value.signupNo,groupId:g.value.groupId,signState:g.value.signState,startDate:K(h.defaultData.routeDate,"YYYY-MM-DD HH:mm:ss"),venue:x.value.venue,totalNumber:f.length,...l,touristsList:f,delTouristsList:r,fileList:await Promise.all(x.value.fileList.map(_=>N(_)))},{err:s}=await z(()=>M.saveApplicationTourist(n));return c.close(),!s},setActiveKey:m}),(c,f)=>{const r=d("a-descriptions-item"),l=d("a-input"),n=d("a-button"),s=d("a-descriptions"),_=d("a-card"),k=d("a-upload");return y(),B("div",null,[t(_,{title:"基本信息",loading:a(A),bordered:!1,class:"general-card"},{default:e(()=>[a(g).groupId?(y(),R(s,{key:0,column:2,size:"large"},{default:e(()=>[t(r,{label:"线路名称"},{default:e(()=>[u(I(a(g).travelRouteSupplierInfo.routeName),1)]),_:1}),t(r,{label:"供应商名称"},{default:e(()=>[u(I(a(g).travelRouteSupplierInfo.supName),1)]),_:1}),t(r,{label:"团号"},{default:e(()=>[u(I(a(g).groupId),1)]),_:1}),t(r,{label:"所属地区"},{default:e(()=>[u(I(a(g).areaName),1)]),_:1}),t(r,{label:"目的地"},{default:e(()=>[u(I(a(g).travelRouteSupplierInfo.arrival),1)]),_:1}),t(r,{label:"集合地点"},{default:e(()=>[t(l,{modelValue:a(x).venue,"onUpdate:modelValue":f[0]||(f[0]=T=>a(x).venue=T),placeholder:"请输入集合地点",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(r,{label:"旅行时间"},{default:e(()=>[u(I(a(g).travelRouteSupplierInfo.startDate)+"至 "+I(a(g).travelRouteSupplierInfo.endDate),1)]),_:1}),t(r,{label:"旅行天数"},{default:e(()=>[u(I(a(g).travelRouteSupplierInfo.travelDays)+"天 ",1)]),_:1}),t(r,{label:"账户余额"},{default:e(()=>[u(I(a(j)(`${a(p)}`))+"元 ",1)]),_:1}),t(r,{label:"旅行类型"},{default:e(()=>[u(I(a(o)("travelType",a(g).travelRouteSupplierInfo.travelType).detailName),1)]),_:1}),t(r,{label:"成团类别"},{default:e(()=>[u(I(a(g).travelRouteSupplierInfo.groupType==="1"?"单团":"散客"),1)]),_:1}),t(r,{label:"价格信息"},{default:e(()=>[t(n,{type:"text",onClick:f[1]||(f[1]=T=>a(m)("ZsPreviewDumplingDate"))},{default:e(()=>[u("查看")]),_:1})]),_:1})]),_:1})):U("",!0)]),_:1},8,["loading"]),a(g).groupId?(y(),R(et,{key:0,ref_key:"touristTableRef",ref:w,"default-data":{routeDate:c.defaultData.routeDate,...a(g)},class:"margin-top"},null,8,["default-data"])):U("",!0),t(_,{title:"其他信息",bordered:!1,class:"general-card margin-top"},{default:e(()=>[t(k,{"file-list":a(x).fileList,"onUpdate:fileList":f[2]||(f[2]=T=>a(x).fileList=T),draggable:"",accept:".pdf","auto-upload":!1,limit:1,"show-retry-button":!1},null,8,["file-list"]),dt]),_:1}),a(V)==="ZsPreviewDumplingDate"?(y(),R(qe,{key:1,data:{id:a(P).query.id},"default-time-arr":[c.defaultData.routeDate],onClose:f[3]||(f[3]=T=>a(m)(""))},null,8,["data","default-time-arr"])):U("",!0),a(V)==="ZsRegistrationPayment"?(y(),R(rt,{key:2,"default-data":{id:a(P).query.id,...a(g)},onClose:f[4]||(f[4]=T=>a(m)(""))},null,8,["default-data"])):U("",!0)])}}});const ct=be(pt,[["__scopeId","data-v-3ee3ba9e"]]),mt=Y("div",{style:{height:"100px"}},null,-1),_t={class:"orderSubmit-footer box-flex jc-fe"},gt=F({name:"RegistrationPlanTourismOperate"}),ht=F({...gt,setup(i){const q=ue(),D=ve(),{jumpTabName:h}=ye(),S=Q(null),[P,w]=ee(""),{form:o}=W(()=>({currentStep:q.query.groupId?2:1,routeDate:""})),V=p=>{o.value.routeDate=p.routeDate},m=()=>{o.value.currentStep===1&&x(),o.value.currentStep===2&&A()},x=async()=>{if(o.value.routeDate==="")return se.warning("请选择参团日期");const{err:p}=await z(()=>M.verifyApplicationDate({id:q.query.id,routeDate:K(o.value.routeDate,"YYYY-MM-DD")}));p||(o.value.currentStep=2)},g=async()=>{w("保存信息");const p=await S.value.saveData();w(""),p&&D.push("/order/tradeManage")},A=async()=>{w("下一步");const p=await S.value.saveData();w(""),p&&S.value.setActiveKey("ZsRegistrationPayment")};return(p,N)=>{const b=d("a-button"),c=d("a-space");return y(),R(Ne,null,{default:e(()=>[a(o).currentStep===1?(y(),R(je,{key:0,modelValue:a(o).routeDate,"onUpdate:modelValue":N[0]||(N[0]=f=>a(o).routeDate=f)},null,8,["modelValue"])):U("",!0),a(o).currentStep===2?(y(),R(ct,{key:1,"default-data":a(o),ref_key:"addBasicInformation",ref:S,onChangeDefaultData:V},null,8,["default-data"])):U("",!0),mt,Y("div",_t,[t(c,null,{default:e(()=>[[2].includes(a(o).currentStep)?(y(),R(b,{key:0,status:"success",loading:a(P)==="保存信息",onClick:g},{default:e(()=>[u("保存草稿")]),_:1},8,["loading"])):U("",!0),t(b,{type:"primary",onClick:m,loading:a(P)==="下一步"},{default:e(()=>[u("下一步")]),_:1},8,["loading"]),t(b,{onClick:N[1]||(N[1]=()=>a(h)())},{default:e(()=>[u("返回")]),_:1})]),_:1})])]),_:1})}}});export{ht as default};

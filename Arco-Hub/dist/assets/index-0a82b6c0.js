import{d as h,g as A,h as I,i as $,D as F,r as m,o as O,l as G,w as o,a as e,b as l,e as f,s as J,m as X,S as K,n as W,j as ee,c as le,p as oe,q as de}from"./index-d007178a.js";import{A as Q}from"./options-aafac76d.js";import{f as S,t as j,c as ae,_ as te}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import"./index-13860ba0.js";const ue=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"院校名称",dataIndex:"yxmc",show:!0,align:"center",render:({record:p})=>S(p.yxmc)},{title:"建校时间",dataIndex:"jxsj",show:!0,align:"center",render:({record:p})=>S(p.jxsj)},{title:"办学类型",dataIndex:"bxLx",show:!0,align:"center",render:({record:p})=>S(p.bxLx)},{title:"办学性质",dataIndex:"bxXz",show:!0,align:"center",render:({record:p})=>S(p.bxXz)},{title:"省份",dataIndex:"sf",show:!0,align:"center",render:({record:p})=>S(p.sf)},{title:"城市",dataIndex:"cs",show:!0,align:"center",render:({record:p})=>S(p.cs)},{title:"操作",width:100,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],ne=J("div",{style:{padding:"0 10px"}},":",-1),re=h({name:"ZsAddSchool"}),ie=h({...re,props:{data:{default:()=>({})}},emits:["close","success"],setup(p,{emit:c}){const U=p,z=A(),[B,_]=I(null),{form:a,formRef:k}=$(()=>({is985:"否",is211:"否",isSyl:"否",isSgjh:"否",isQj:"否",...U.data})),P={yxmc:{required:!0,message:"请输入院校名称"},jxsj:{required:!0,message:"请选择建校时间"},bxLx:{required:!0,message:"请选择办学类型"},bxXz:{required:!0,message:"请选择办学性质"},sf:{required:!0,message:"请输入省份"},cs:{required:!0,message:"请输入城市"}},q=()=>{k.value.validate(b=>{b||(U.data.id?s("editSchool"):s("addSchool"))})},s=async b=>{const{err:t}=await X(()=>K[b]({schoolEntity:{...a.value,nvBl:a.value.nBl!==void 0?`${a.value.nBl}:${a.value.vBl}`:null}}),{before:()=>_("okLoading"),after:()=>_(null)});t||(c("success"),c("close"))};return F(()=>a.value.nBl,b=>{a.value.vBl=100-b}),(b,t)=>{const w=m("a-select"),u=m("a-form-item"),n=m("a-grid-item"),r=m("a-input"),L=m("a-year-picker"),M=m("a-option"),x=m("a-input-number"),g=m("a-input-group"),i=m("a-radio"),V=m("a-radio-group"),y=m("a-textarea"),T=m("a-grid"),N=m("a-form"),R=m("a-modal");return O(),G(R,{title:l(ae)("大学信息(智能填报)",!!U.data.id),"unmount-on-close":"",fullscreen:"",visible:"","align-center":!1,"mask-closable":!1,"ok-loading":l(B)==="okLoading",onCancel:t[54]||(t[54]=d=>c("close")),onOk:q},{default:o(()=>[e(N,{ref_key:"formRef",ref:k,model:l(a),"label-align":"left",size:"large","auto-label-width":"",rules:P},{default:o(()=>[e(T,{cols:4,"col-gap":24},{default:o(()=>[e(n,null,{default:o(()=>[e(u,{field:"sf",label:"省份:"},{default:o(()=>[e(w,{modelValue:l(a).sf,"onUpdate:modelValue":t[0]||(t[0]=d=>l(a).sf=d),modelModifiers:{trim:!0},placeholder:"请输入省份","allow-search":"",options:[...l(Q),...l(z).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"cs",label:"城市:"},{default:o(()=>[e(r,{modelValue:l(a).cs,"onUpdate:modelValue":t[1]||(t[1]=d=>l(a).cs=d),modelModifiers:{trim:!0},placeholder:"请输入城市"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"yxmc",label:"院校名称:",required:""},{default:o(()=>[e(r,{modelValue:l(a).yxmc,"onUpdate:modelValue":t[2]||(t[2]=d=>l(a).yxmc=d),modelModifiers:{trim:!0},placeholder:"请输入院校名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"jxsj",label:"建校时间:"},{default:o(()=>[e(L,{class:"flex1",modelValue:l(a).jxsj,"onUpdate:modelValue":t[3]||(t[3]=d=>l(a).jxsj=d),modelModifiers:{trim:!0},placeholder:"请选择建校时间"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"bxLx",label:"办学类型:"},{default:o(()=>[e(w,{modelValue:l(a).bxLx,"onUpdate:modelValue":t[4]||(t[4]=d=>l(a).bxLx=d),modelModifiers:{trim:!0},placeholder:"请选择办学类型"},{default:o(()=>[e(M,null,{default:o(()=>[f("普通本科")]),_:1}),e(M,null,{default:o(()=>[f("专科（高职）")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"bxXz",label:"办学性质:"},{default:o(()=>[e(w,{modelValue:l(a).bxXz,"onUpdate:modelValue":t[5]||(t[5]=d=>l(a).bxXz=d),modelModifiers:{trim:!0},placeholder:"请选择办学性质"},{default:o(()=>[e(M,null,{default:o(()=>[f("公办")]),_:1}),e(M,null,{default:o(()=>[f("民办")]),_:1}),e(M,null,{default:o(()=>[f("中外合作办学")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"lsy",label:"隶属于:"},{default:o(()=>[e(r,{modelValue:l(a).lsy,"onUpdate:modelValue":t[6]||(t[6]=d=>l(a).lsy=d),modelModifiers:{trim:!0},placeholder:"请输入隶属于"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"gjZdXk",label:"国家重点学科:"},{default:o(()=>[e(r,{modelValue:l(a).gjZdXk,"onUpdate:modelValue":t[7]||(t[7]=d=>l(a).gjZdXk=d),modelModifiers:{trim:!0},placeholder:"请输入国家重点学科数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"zdSys",label:"重点实验室:"},{default:o(()=>[e(r,{modelValue:l(a).zdSys,"onUpdate:modelValue":t[8]||(t[8]=d=>l(a).zdSys=d),modelModifiers:{trim:!0},placeholder:"请输入重点实验室数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"zdMj",label:"占地面积:"},{default:o(()=>[e(r,{modelValue:l(a).zdMj,"onUpdate:modelValue":t[9]||(t[9]=d=>l(a).zdMj=d),modelModifiers:{trim:!0},placeholder:"请输入占地面积"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"yx",label:"邮箱:"},{default:o(()=>[e(r,{modelValue:l(a).yx,"onUpdate:modelValue":t[10]||(t[10]=d=>l(a).yx=d),modelModifiers:{trim:!0},placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"bbDz",label:"校本部地址:"},{default:o(()=>[e(r,{modelValue:l(a).bbDz,"onUpdate:modelValue":t[11]||(t[11]=d=>l(a).bbDz=d),modelModifiers:{trim:!0},placeholder:"请输入校本部地址"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"wz",label:"网址:"},{default:o(()=>[e(r,{modelValue:l(a).wz,"onUpdate:modelValue":t[12]||(t[12]=d=>l(a).wz=d),modelModifiers:{trim:!0},placeholder:"请输入网址"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"dh",label:"电话:"},{default:o(()=>[e(r,{modelValue:l(a).dh,"onUpdate:modelValue":t[13]||(t[13]=d=>l(a).dh=d),modelModifiers:{trim:!0},placeholder:"请输入电话"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"qsPh",label:"QS排行:"},{default:o(()=>[e(r,{modelValue:l(a).qsPh,"onUpdate:modelValue":t[14]||(t[14]=d=>l(a).qsPh=d),modelModifiers:{trim:!0},placeholder:"请输入QS排行"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"usNewsPh",label:"USNews排行:"},{default:o(()=>[e(r,{modelValue:l(a).usNewsPh,"onUpdate:modelValue":t[15]||(t[15]=d=>l(a).usNewsPh=d),modelModifiers:{trim:!0},placeholder:"请输入USNews排行"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"xyhPh",label:"校友会排行:"},{default:o(()=>[e(r,{modelValue:l(a).xyhPh,"onUpdate:modelValue":t[16]||(t[16]=d=>l(a).xyhPh=d),modelModifiers:{trim:!0},placeholder:"请输入校友会排行"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"wslPh",label:"武书连排行:"},{default:o(()=>[e(r,{modelValue:l(a).wslPh,"onUpdate:modelValue":t[17]||(t[17]=d=>l(a).wslPh=d),modelModifiers:{trim:!0},placeholder:"请输入武书连排行"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"rkPm",label:"软科排名:"},{default:o(()=>[e(r,{modelValue:l(a).rkPm,"onUpdate:modelValue":t[18]||(t[18]=d=>l(a).rkPm=d),modelModifiers:{trim:!0},placeholder:"请输入软科排名"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"twsPh",label:"泰晤士排行:"},{default:o(()=>[e(r,{modelValue:l(a).twsPh,"onUpdate:modelValue":t[19]||(t[19]=d=>l(a).twsPh=d),modelModifiers:{trim:!0},placeholder:"请输入泰晤士(大陆)排行"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"xqDz",label:"校区地址:"},{default:o(()=>[e(r,{modelValue:l(a).xqDz,"onUpdate:modelValue":t[20]||(t[20]=d=>l(a).xqDz=d),modelModifiers:{trim:!0},placeholder:"请输入校区地址"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"cym",label:"曾用名:"},{default:o(()=>[e(r,{modelValue:l(a).cym,"onUpdate:modelValue":t[21]||(t[21]=d=>l(a).cym=d),modelModifiers:{trim:!0},placeholder:"请输入曾用名"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"vrUrl",label:"vr地址:"},{default:o(()=>[e(r,{modelValue:l(a).vrUrl,"onUpdate:modelValue":t[22]||(t[22]=d=>l(a).vrUrl=d),modelModifiers:{trim:!0},placeholder:"请输入vr地址"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"vrShort",label:"vr短地址:"},{default:o(()=>[e(r,{modelValue:l(a).vrShort,"onUpdate:modelValue":t[23]||(t[23]=d=>l(a).vrShort=d),modelModifiers:{trim:!0},placeholder:"请输入vr短地址"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"logo",label:"学校logo地址:"},{default:o(()=>[e(r,{modelValue:l(a).logo,"onUpdate:modelValue":t[24]||(t[24]=d=>l(a).logo=d),modelModifiers:{trim:!0},placeholder:"请输入学校logo地址"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"qy",label:"区域:"},{default:o(()=>[e(r,{modelValue:l(a).qy,"onUpdate:modelValue":t[25]||(t[25]=d=>l(a).qy=d),modelModifiers:{trim:!0},placeholder:"请输入区域"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"lmGx",label:"联盟高校:"},{default:o(()=>[e(r,{modelValue:l(a).lmGx,"onUpdate:modelValue":t[26]||(t[26]=d=>l(a).lmGx=d),modelModifiers:{trim:!0},placeholder:"请输入联盟高校"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"lhGx",label:"联合高校:"},{default:o(()=>[e(r,{modelValue:l(a).lhGx,"onUpdate:modelValue":t[27]||(t[27]=d=>l(a).lhGx=d),modelModifiers:{trim:!0},placeholder:"请输入联合高校"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"bkCl",label:"报考策略:"},{default:o(()=>[e(r,{modelValue:l(a).bkCl,"onUpdate:modelValue":t[28]||(t[28]=d=>l(a).bkCl=d),modelModifiers:{trim:!0},placeholder:"请输入报考策略"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"yxYx",label:"院校优势:"},{default:o(()=>[e(r,{modelValue:l(a).yxYx,"onUpdate:modelValue":t[29]||(t[29]=d=>l(a).yxYx=d),modelModifiers:{trim:!0},placeholder:"请输入院校优势"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"hyMx",label:"行业名校:"},{default:o(()=>[e(r,{modelValue:l(a).hyMx,"onUpdate:modelValue":t[30]||(t[30]=d=>l(a).hyMx=d),modelModifiers:{trim:!0},placeholder:"请输入行业名校"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"ybws",label:"原部委属:"},{default:o(()=>[e(r,{modelValue:l(a).ybws,"onUpdate:modelValue":t[31]||(t[31]=d=>l(a).ybws=d),modelModifiers:{trim:!0},placeholder:"请输入原部委属"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"hyHp",label:"行业黄埔:"},{default:o(()=>[e(r,{modelValue:l(a).hyHp,"onUpdate:modelValue":t[32]||(t[32]=d=>l(a).hyHp=d),modelModifiers:{trim:!0},placeholder:"请输入行业黄埔"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"yxLx",label:"院校类型:"},{default:o(()=>[e(r,{modelValue:l(a).yxLx,"onUpdate:modelValue":t[33]||(t[33]=d=>l(a).yxLx=d),modelModifiers:{trim:!0},placeholder:"请输入院校类型"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"yxRy",label:"院校荣誉:"},{default:o(()=>[e(r,{modelValue:l(a).yxRy,"onUpdate:modelValue":t[34]||(t[34]=d=>l(a).yxRy=d),modelModifiers:{trim:!0},placeholder:"请输入院校荣誉"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"kyXm",label:"科研项目:"},{default:o(()=>[e(r,{modelValue:l(a).kyXm,"onUpdate:modelValue":t[35]||(t[35]=d=>l(a).kyXm=d),modelModifiers:{trim:!0},placeholder:"请输入科研项目"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"ssdOne",label:"一级硕士点数量:"},{default:o(()=>[e(r,{modelValue:l(a).ssdOne,"onUpdate:modelValue":t[36]||(t[36]=d=>l(a).ssdOne=d),modelModifiers:{trim:!0},placeholder:"请输入一级硕士点数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"ssdTwo",label:"二级硕士点数量:"},{default:o(()=>[e(r,{modelValue:l(a).ssdTwo,"onUpdate:modelValue":t[37]||(t[37]=d=>l(a).ssdTwo=d),modelModifiers:{trim:!0},placeholder:"请输入二级硕士点数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"bsdOne",label:"一级博士点数量:"},{default:o(()=>[e(r,{modelValue:l(a).bsdOne,"onUpdate:modelValue":t[38]||(t[38]=d=>l(a).bsdOne=d),modelModifiers:{trim:!0},placeholder:"请输入一级硕士点数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"bsdTwo",label:"二级博士点数量:"},{default:o(()=>[e(r,{modelValue:l(a).bsdTwo,"onUpdate:modelValue":t[39]||(t[39]=d=>l(a).bsdTwo=d),modelModifiers:{trim:!0},placeholder:"请输入一级硕士点数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"nvBl",label:"男女比例:"},{default:o(()=>[e(g,null,{default:o(()=>[e(x,{modelValue:l(a).nBl,"onUpdate:modelValue":t[40]||(t[40]=d=>l(a).nBl=d),modelModifiers:{trim:!0},formatter:d=>l(j)(d,""),parser:d=>d.replace(/,/g,""),precision:0,min:0,max:100,"hide-button":"",placeholder:"男性比例"},null,8,["modelValue","formatter","parser"]),ne,e(x,{modelValue:l(a).vBl,"onUpdate:modelValue":t[41]||(t[41]=d=>l(a).vBl=d),modelModifiers:{trim:!0},formatter:d=>l(j)(d,""),parser:d=>d.replace(/,/g,""),precision:0,min:0,max:100,disabled:"","hide-button":"",placeholder:"女性比例"},null,8,["modelValue","formatter","parser"])]),_:1})]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"jyl",label:"就业率:"},{default:o(()=>[e(x,{modelValue:l(a).jyl,"onUpdate:modelValue":t[42]||(t[42]=d=>l(a).jyl=d),modelModifiers:{trim:!0},formatter:d=>l(j)(d,""),parser:d=>d.replace(/,/g,""),precision:2,min:0,max:.99,"hide-button":"",placeholder:"请输入就业率"},null,8,["modelValue","formatter","parser","max"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"gnSxl",label:"国内升学率:"},{default:o(()=>[e(x,{modelValue:l(a).gnSxl,"onUpdate:modelValue":t[43]||(t[43]=d=>l(a).gnSxl=d),modelModifiers:{trim:!0},formatter:d=>l(j)(d,""),parser:d=>d.replace(/,/g,""),precision:2,min:0,max:.99,"hide-button":"",placeholder:"请输入国内升学率"},null,8,["modelValue","formatter","parser","max"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"cgl",label:"出国率:"},{default:o(()=>[e(x,{modelValue:l(a).cgl,"onUpdate:modelValue":t[44]||(t[44]=d=>l(a).cgl=d),modelModifiers:{trim:!0},formatter:d=>l(j)(d,""),parser:d=>d.replace(/,/g,""),precision:2,min:0,max:.99,"hide-button":"",placeholder:"请输入出国率"},null,8,["modelValue","formatter","parser","max"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"yxdm",label:"院校代码:"},{default:o(()=>[e(r,{modelValue:l(a).yxdm,"onUpdate:modelValue":t[45]||(t[45]=d=>l(a).yxdm=d),modelModifiers:{trim:!0},placeholder:"请输入院校代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"is985",label:"985:"},{default:o(()=>[e(V,{modelValue:l(a).is985,"onUpdate:modelValue":t[46]||(t[46]=d=>l(a).is985=d),modelModifiers:{trim:!0}},{default:o(()=>[e(i,{value:"是"},{default:o(()=>[f("是")]),_:1}),e(i,{value:"否"},{default:o(()=>[f("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"is211",label:"211:"},{default:o(()=>[e(V,{modelValue:l(a).is211,"onUpdate:modelValue":t[47]||(t[47]=d=>l(a).is211=d),modelModifiers:{trim:!0}},{default:o(()=>[e(i,{value:"是"},{default:o(()=>[f("是")]),_:1}),e(i,{value:"否"},{default:o(()=>[f("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"isSyl",label:"双一流:"},{default:o(()=>[e(V,{modelValue:l(a).isSyl,"onUpdate:modelValue":t[48]||(t[48]=d=>l(a).isSyl=d),modelModifiers:{trim:!0}},{default:o(()=>[e(i,{value:"是"},{default:o(()=>[f("是")]),_:1}),e(i,{value:"否"},{default:o(()=>[f("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"isSgjh",label:"双高计划:"},{default:o(()=>[e(V,{modelValue:l(a).isSgjh,"onUpdate:modelValue":t[49]||(t[49]=d=>l(a).isSgjh=d),modelModifiers:{trim:!0}},{default:o(()=>[e(i,{value:"是"},{default:o(()=>[f("是")]),_:1}),e(i,{value:"否"},{default:o(()=>[f("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(u,{field:"isQj",label:"强基:"},{default:o(()=>[e(V,{modelValue:l(a).isQj,"onUpdate:modelValue":t[50]||(t[50]=d=>l(a).isQj=d),modelModifiers:{trim:!0}},{default:o(()=>[e(i,{value:"是"},{default:o(()=>[f("是")]),_:1}),e(i,{value:"否"},{default:o(()=>[f("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{span:24},{default:o(()=>[e(u,{field:"stTj",label:"食堂条件:"},{default:o(()=>[e(y,{modelValue:l(a).stTj,"onUpdate:modelValue":t[51]||(t[51]=d=>l(a).stTj=d),modelModifiers:{trim:!0},"auto-size":{minRows:4},placeholder:"请输入食堂条件"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:24},{default:o(()=>[e(u,{field:"ssTj",label:"宿舍条件:"},{default:o(()=>[e(y,{modelValue:l(a).ssTj,"onUpdate:modelValue":t[52]||(t[52]=d=>l(a).ssTj=d),modelModifiers:{trim:!0},"auto-size":{minRows:4},placeholder:"请输入宿舍条件"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:24},{default:o(()=>[e(u,{field:"js",label:"介绍:"},{default:o(()=>[e(y,{modelValue:l(a).js,"onUpdate:modelValue":t[53]||(t[53]=d=>l(a).js=d),modelModifiers:{trim:!0},"auto-size":{minRows:8},placeholder:"请输入介绍"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","ok-loading"])}}}),me=h({name:"SchoolSchoolManage"}),_e=h({...me,setup(p){const{warningModal:c}=de(),[U,z]=I(null),B=A(),{form:_,resetForm:a}=$(()=>({schoolName:"",province:""}),()=>b()),{selectRow:k,columnsData:P,visibleColumnsData:q,tableBaseOptions:s,resetData:b,createRowNo:t,setSelectRow:w,changeTableColumn:u,changeTableSize:n}=W(ue(),()=>x()),r=()=>{c(`确定删除选中的${s.selectedKeys.length}数据吗？`,async g=>{const{err:i}=await X(()=>K.deleteSchool({ids:s.selectedKeys}),{successMsg:"操作成功"});i||(g(!0),s.selectedKeys=[],x())})},{data:L,loading:M,initData:x}=ee(async()=>{const{res:g,err:i}=await X(()=>K.getSchoolList({..._.value,currentPage:s.pagination.current,pageSize:s.pagination.pageSize,pagingOrNot:"1"}));return i?[]:(s.pagination.total=g.data.totalCount,g==null?void 0:g.data.schoolList.map((V,y)=>({sortTableNo:t(y),...V,nBl:V.nvBl?V.nvBl.split(":")[0]*1:void 0,vBl:V.nvBl?V.nvBl.split(":")[1]*1:void 0})))});return(g,i)=>{const V=m("a-input"),y=m("a-form-item"),T=m("a-grid-item"),N=m("a-select"),R=m("a-grid"),d=m("a-form"),H=m("icon-plus"),D=m("a-button"),Z=m("icon-close"),Y=m("a-space"),E=m("a-table");return O(),le("div",null,[e(te,{"table-columns":l(P),"table-size":l(s).size,onResetSearch:l(a),onSearch:l(b),onChangeTableSize:l(n),onChangeTableColumn:l(u)},{form:o(({collapsed:v})=>[e(d,{model:l(_),"label-align":"left",size:"large","auto-label-width":""},{default:o(()=>[e(R,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12,collapsed:!v},{default:o(()=>[e(T,null,{default:o(()=>[e(y,{label:"院校名称:"},{default:o(()=>[e(V,{modelValue:l(_).schoolName,"onUpdate:modelValue":i[0]||(i[0]=C=>l(_).schoolName=C),placeholder:"请输入院校名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(T,null,{default:o(()=>[e(y,{field:"province",label:"省份:"},{default:o(()=>[e(N,{modelValue:l(_).province,"onUpdate:modelValue":i[1]||(i[1]=C=>l(_).province=C),placeholder:"请输入省份","allow-search":"",options:[...l(Q),...l(B).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),operate:o(()=>[e(Y,null,{default:o(()=>[e(D,{type:"outline",onClick:i[2]||(i[2]=v=>l(z)("zsAddSchool"))},{icon:o(()=>[e(H)]),default:o(()=>[f(" 新增 ")]),_:1}),e(D,{type:"outline",status:"danger",disabled:!l(s).selectedKeys.length,loading:l(U)==="删除",onClick:r},{icon:o(()=>[e(Z)]),default:o(()=>[f(" 删除 ")]),_:1},8,["disabled","loading"])]),_:1})]),table:o(()=>[e(E,{"selected-keys":l(s).selectedKeys,"onUpdate:selectedKeys":i[3]||(i[3]=v=>l(s).selectedKeys=v),class:"zs-table","row-key":"id",data:l(L),"row-selection":l(s).rowSelection,bordered:l(s).bordered,pagination:l(s).pagination,size:l(s).size,columns:l(q),stripe:l(s).stripe,loading:l(M)},{operate:o(({record:v})=>[e(D,{type:"text",onClick:C=>l(w)(v,()=>l(z)("zsAddSchool"))},{default:o(()=>[f("编辑")]),_:2},1032,["onClick"])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"]),l(U)==="zsAddSchool"?(O(),G(ie,{key:0,data:l(k),onSuccess:l(x),onClose:i[4]||(i[4]=v=>l(w)({},()=>l(z)(null)))},null,8,["data","onSuccess"])):oe("",!0)])}}});export{_e as default};

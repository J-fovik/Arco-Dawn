import{d as z,h as K,i as L,n as F,j as O,r as u,o as w,l as x,w as o,a as n,b as t,v as J,m as j,x as Q,c as W,p as V,e as B,s as X,M as Y}from"./index-d007178a.js";import{f as l,_ as Z}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import{C as A}from"./customer-dc025a69.js";import"./index-13860ba0.js";const ee=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"顾客昵称",dataIndex:"nickname",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.nickname)},{title:"高考年份",dataIndex:"gkyear",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.gkyear)},{title:"手机号",dataIndex:"phone",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.phone)},{title:"代理商名称",dataIndex:"agentname",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.agentname)},{title:"代理商专属码",dataIndex:"dedicatedcode",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.dedicatedcode)},{title:"省份",dataIndex:"province",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.province)},{title:"批次",dataIndex:"pc",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.pc)},{title:"位次",dataIndex:"wc",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.wc)},{title:"选科",dataIndex:"xk",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.xk)},{title:"分数",dataIndex:"score",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.score)},{title:"审核状态",dataIndex:"zdstatus",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.zdstatus)},{title:"诊断结果",dataIndex:"zdjg",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.zdjg)},{title:"提交时间",dataIndex:"creattm",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.creattm)},{title:"详情记录",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],te=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,align:"center"},{title:"院校名称",dataIndex:"yxmc",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.yxmc)+(e.zyz?"_"+l(e.zyz):"")},{title:"专业名称",dataIndex:"zymc",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.zymc)},{title:"批次",dataIndex:"pc",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.pc)},{title:"录取概率(%)",dataIndex:"lqgl",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.lqgl)+"%"},{title:"落榜概率",dataIndex:"lbgl",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:e})=>l(e.lbgl)},{title:"院校顺序",dataIndex:"yxSeq",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.yxSeq)},{title:"专业顺序",dataIndex:"zySeq",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.zySeq)},{title:"是否服从调剂",dataIndex:"isFctj",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:e})=>l(e.isFctj)}],ae=z({name:"zsViewRecord"}),le=z({...ae,props:{data:{default:()=>({})}},emits:["close","success"],setup(e,{emit:f}){const C=e,[h,r]=K(null),{form:S,resetForm:v}=L(()=>({...C.data})),{selectRow:N,columnsData:R,visibleColumnsData:i,tableBaseOptions:c,resetData:D,extendTableList:M,createRowNo:k,setSelectRow:U,changeTableColumn:E,changeTableSize:$}=F(te(),()=>y()),{data:_,loading:T,initData:y}=O(async()=>{const{res:p,err:a}=await j(()=>A.getExportReviewListDetail({iid:S.value.id,currentPage:c.pagination.current,pageSize:c.pagination.pageSize,pagingOrNot:"1"}));return a?[]:(c.pagination.total=p.data.totalCount,p.data.map((b,m)=>({sortTableNo:k(m),...b})))});return(p,a)=>{const b=u("a-table"),m=u("a-modal");return w(),x(m,{width:"90vw",title:"专家审详情","unmount-on-close":"",visible:"","ok-text":"关闭","align-center":!1,"mask-closable":!1,"hide-cancel":"","ok-loading":t(h)==="okLoading",onCancel:a[1]||(a[1]=g=>f("close")),onOk:a[2]||(a[2]=g=>f("close"))},{default:o(()=>[n(b,{modelValue:t(_),"onUpdate:modelValue":a[0]||(a[0]=g=>J(_)?_.value=g:null),class:"zs-table","row-key":"id",data:t(_),bordered:t(c).bordered,size:t(c).size,columns:t(i),stripe:t(c).stripe,loading:t(T)},null,8,["modelValue","data","bordered","size","columns","stripe","loading"])]),_:1},8,["ok-loading"])}}}),ne=["href","download"],oe=z({name:"exportFillRecord"}),ue=z({...oe,setup(e){const f=Q(),[C,h]=K(null),{form:r,resetForm:S}=L(()=>({phone:"",userId:"",submttimeStartTime:"",submttimeEndTime:"",nickName:"",dedicatedCode:"",agentName:""}),()=>c()),{selectRow:v,columnsData:N,visibleColumnsData:R,tableBaseOptions:i,resetData:c,extendTableList:D,createRowNo:M,setSelectRow:k,changeTableColumn:U,changeTableSize:E}=F(ee(),()=>y()),$=p=>{p.reportlink||Y.error("暂未上传报告")},{data:_,loading:T,initData:y}=O(async()=>{const{res:p,err:a}=await j(()=>A.getExportReviewList({...r.value,submttimeStartTime:r.value.submttimeStartTime,submttimeEndTime:r.value.submttimeEndTime,currentPage:i.pagination.current,pageSize:i.pagination.pageSize,pagingOrNot:"1"}));return a?[]:(i.pagination.total=p.data.totalCount,D(p.data.resultList))});return(p,a)=>{const b=u("a-input"),m=u("a-form-item"),g=u("a-grid-item"),q=u("a-date-picker"),P=u("a-grid"),G=u("a-form"),I=u("a-button"),H=u("a-table");return w(),W("div",null,[n(Z,{fold:"","table-columns":t(N),"table-size":t(i).size,onResetSearch:t(S),onSearch:t(c),onChangeTableSize:t(E),onChangeTableColumn:t(U)},{form:o(({collapsed:d})=>[n(G,{model:t(r),"label-align":"left",size:"large","auto-label-width":""},{default:o(()=>[n(P,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12,collapsed:!d},{default:o(()=>[n(g,null,{default:o(()=>[n(m,{label:"顾客昵称:"},{default:o(()=>[n(b,{modelValue:t(r).nickName,"onUpdate:modelValue":a[0]||(a[0]=s=>t(r).nickName=s),placeholder:"请输入顾客昵称"},null,8,["modelValue"])]),_:1})]),_:1}),n(g,null,{default:o(()=>[n(m,{label:"手机号:"},{default:o(()=>[n(b,{modelValue:t(r).phone,"onUpdate:modelValue":a[1]||(a[1]=s=>t(r).phone=s),placeholder:"请输入顾客手机号"},null,8,["modelValue"])]),_:1})]),_:1}),n(g,null,{default:o(()=>[n(m,{label:"提交时间:"},{default:o(()=>[n(q,{style:{width:"200px"},modelValue:t(r).submttimeStartTime,"onUpdate:modelValue":a[2]||(a[2]=s=>t(r).submttimeStartTime=s)},null,8,["modelValue"]),n(q,{style:{width:"200px"},modelValue:t(r).submttimeEndTime,"onUpdate:modelValue":a[3]||(a[3]=s=>t(r).submttimeEndTime=s)},null,8,["modelValue"])]),_:1})]),_:1}),t(f).userInfo.roleCode!="dls"?(w(),x(g,{key:0},{default:o(()=>[n(m,{label:"代理商名称:"},{default:o(()=>[n(b,{modelValue:t(r).agentName,"onUpdate:modelValue":a[4]||(a[4]=s=>t(r).agentName=s),placeholder:"请输入代理商名称"},null,8,["modelValue"])]),_:1})]),_:1})):V("",!0),t(f).userInfo.roleCode!="dls"?(w(),x(g,{key:1},{default:o(()=>[n(m,{label:"代理商专属码:"},{default:o(()=>[n(b,{modelValue:t(r).dedicatedCode,"onUpdate:modelValue":a[5]||(a[5]=s=>t(r).dedicatedCode=s),placeholder:"请输入代理商专属码"},null,8,["modelValue"])]),_:1})]),_:1})):V("",!0)]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),table:o(()=>[n(H,{"selected-keys":t(i).selectedKeys,"onUpdate:selectedKeys":a[6]||(a[6]=d=>t(i).selectedKeys=d),class:"zs-table","row-key":"id",data:t(_),"row-selection":t(i).rowSelection,bordered:t(i).bordered,pagination:t(i).pagination,size:t(i).size,columns:t(R),stripe:t(i).stripe,loading:t(T)},{operate:o(({record:d})=>[n(I,{type:"text",onClick:s=>t(k)(d,()=>t(h)("zsViewRecord"))},{default:o(()=>[B("查看")]),_:2},1032,["onClick"]),d.reportlink?(w(),x(I,{key:0,type:"text"},{default:o(()=>[X("a",{href:d.reportlink,download:d.reportlink},"下载报告",8,ne)]),_:2},1024)):(w(),x(I,{key:1,type:"text",onClick:s=>$(d)},{default:o(()=>[B("下载报告")]),_:2},1032,["onClick"]))]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"]),t(C)==="zsViewRecord"?(w(),x(le,{key:0,data:t(v),onSuccess:t(y),onClose:a[7]||(a[7]=d=>t(k)({},()=>t(h)(null)))},null,8,["data","onSuccess"])):V("",!0)])}}});export{ue as default};

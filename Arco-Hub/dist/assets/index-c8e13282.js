import{n as u,ac as M,d as b,E as I,s as R,v as $,b as A,r,o as B,e as E,g as n,w as a,i as m,c as e,k as q,A as F,S as L}from"./index-8a2cb146.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import"./index-2bbe694f.js";const V=()=>[{title:"图片名称",dataIndex:"loginName",show:!0,align:"center",render:({record:s})=>u(s.loginName)},{title:"链接地址",dataIndex:"userName",show:!0,align:"center",render:({record:s})=>u(s.userName)},{title:"排序",dataIndex:"userName",show:!0,align:"center",render:({record:s})=>u("18340021915")},{title:"创建时间",dataIndex:"createTime",show:!0,align:"center",render:({record:s})=>M(s.createTime)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],O=b({name:"SystemCarouselManage"}),X=b({...O,setup(s){const{warningModal:g}=F(),[y,P]=I(null),{form:Y,resetForm:h}=R(()=>({}),()=>p()),{selectRow:j,columnsData:f,visibleColumnsData:w,tableBaseOptions:t,resetData:p,extendTableList:C,setSelectRow:G,changeTableColumn:T,changeTableSize:S}=$(V(),()=>_()),k=c=>{g(`确定操作选中的${t.selectedKeys.length}数据吗？`,async o=>{const{err:i}=await q(()=>L[c]({idList:t.selectedKeys}),{successMsg:"操作成功"});i||(o(!0),t.selectedKeys=[],_())})},{data:x,loading:z,initData:_}=A(async()=>C([]));return(c,o)=>{const i=r("icon-plus"),d=r("a-button"),K=r("router-link"),v=r("icon-close"),D=r("a-space"),N=r("a-table");return B(),E("div",null,[n(U,{"is-query":!1,"table-columns":e(f),"table-size":e(t).size,onResetSearch:e(h),onSearch:e(p),onChangeTableSize:e(S),onChangeTableColumn:e(T)},{operate:a(()=>[n(D,null,{default:a(()=>[n(K,{to:"/system/carouselManage/operate"},{default:a(()=>[n(d,{type:"outline"},{icon:a(()=>[n(i)]),default:a(()=>[m(" 新增 ")]),_:1})]),_:1}),n(d,{type:"outline",status:"danger",disabled:!e(t).selectedKeys.length,loading:e(y)==="删除",onClick:o[0]||(o[0]=l=>k("batchDeleteUser"))},{icon:a(()=>[n(v)]),default:a(()=>[m(" 删除 ")]),_:1},8,["disabled","loading"])]),_:1})]),table:a(()=>[n(N,{"selected-keys":e(t).selectedKeys,"onUpdate:selectedKeys":o[1]||(o[1]=l=>e(t).selectedKeys=l),class:"zs-table","row-key":"id",data:e(x),"row-selection":e(t).rowSelection,bordered:e(t).bordered,pagination:e(t).pagination,size:e(t).size,columns:e(w),stripe:e(t).stripe,loading:e(z)},{operate:a(({record:l})=>[n(d,{type:"text",onClick:H=>c.$router.push(`/system/carouselManage/operate?id=${l.id}`)},{default:a(()=>[m("编辑")]),_:2},1032,["onClick"])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{X as default};

import{d as S,g as D,h as E,i as $,r as f,o as L,l as F,w as a,a as e,b as l,m as A,n as W,j as X,c as Z,e as K,p as h,q as ee}from"./index-d007178a.js";import{f as b,c as le,_ as ae}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import{A as v}from"./options-aafac76d.js";import{O as N}from"./otherData-17ba8805.js";import"./index-13860ba0.js";const oe=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,tooltip:!0,ellipsis:!0,align:"center"},{title:"省份",dataIndex:"sf",show:!0,align:"center",render:({record:m})=>b(m.sf)},{title:"年份",dataIndex:"nf",show:!0,align:"center",render:({record:m})=>b(m.nf)},{title:"省份-招生数据",dataIndex:"wsf",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:m})=>b(m.wsf)},{title:"年份-招生数据",dataIndex:"wnf",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:m})=>b(m.wnf)},{title:"院校名称",dataIndex:"yxmc",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:m})=>b(m.yxmc)},{title:"科类",dataIndex:"kl",show:!0,align:"center",render:({record:m})=>b(m.kl)},{title:"批次",dataIndex:"pc",show:!0,align:"center",render:({record:m})=>b(m.pc)},{title:"专业名称",dataIndex:"zymc",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:m})=>b(m.zymc)},{title:"学制",dataIndex:"xz",show:!0,align:"center",render:({record:m})=>b(m.xz)},{title:"录取人数",dataIndex:"lqrs",show:!0,align:"right",render:({record:m})=>b(m.lqrs)},{title:"操作",width:100,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],de=[{label:"是",value:"Y"},{label:"否",value:"N"}],te=S({name:"zsAddProfessionalEnPlan"}),ne=S({...te,props:{data:{default:()=>({})}},emits:["close","success"],setup(m,{emit:k}){const M=m,U=D(),[C,s]=E(null),{form:d,formRef:j}=$(()=>({...M.data})),q={nf:{required:!0,message:"请输入年份"},sf:{required:!0,message:"请输入省份"},pc:{required:!0,message:"请输入批次"},kl:{required:!0,message:"请输入科类"},yxmc:{required:!0,message:"请输入院校名称"},zymc:{required:!0,message:"请输入专业名称"},lqrs:{required:!0,message:"请输入录取人数"},wsf:{required:!0,message:"请输入省份-招生数据"},wnf:{required:!0,message:"请输入年份-招生数据"},xz:{required:!0,message:"请输入学制"}},O=()=>{j.value.validate(x=>{x||(M.data.id?p("editProfessionPlan"):p("addProfessionPlan"))})},p=async x=>{const{err:o}=await A(()=>N[x](d.value),{before:()=>s("okLoading"),after:()=>s(null)});o||(k("success"),k("close"))};return(x,o)=>{const z=f("a-input-number"),n=f("a-form-item"),u=f("a-grid-item"),I=f("a-select"),i=f("a-input"),P=f("a-textarea"),T=f("a-grid"),_=f("a-form"),r=f("a-modal");return L(),F(r,{title:l(le)("专业招生计划(智能填报)",!!M.data.id),"unmount-on-close":"",visible:"",top:"5%",width:"800px","align-center":!1,"mask-closable":!1,"ok-loading":l(C)==="okLoading",onCancel:o[33]||(o[33]=t=>k("close")),onOk:O},{default:a(()=>[e(_,{ref_key:"formRef",ref:j,model:l(d),"label-align":"left",size:"large","auto-label-width":"",rules:q},{default:a(()=>[e(T,{cols:2,"col-gap":24},{default:a(()=>[e(u,null,{default:a(()=>[e(n,{field:"nf",label:"年份:"},{default:a(()=>[e(z,{modelValue:l(d).nf,"onUpdate:modelValue":o[0]||(o[0]=t=>l(d).nf=t),modelModifiers:{trim:!0},placeholder:"请输入年份"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"lqrs",label:"录取人数:"},{default:a(()=>[e(z,{modelValue:l(d).lqrs,"onUpdate:modelValue":o[1]||(o[1]=t=>l(d).lqrs=t),modelModifiers:{trim:!0},placeholder:"请输入录取人数"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"sf",label:"省份:"},{default:a(()=>[e(I,{modelValue:l(d).sf,"onUpdate:modelValue":o[2]||(o[2]=t=>l(d).sf=t),placeholder:"请输入省份","allow-search":"",options:[...l(v),...l(U).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"pc",label:"批次:"},{default:a(()=>[e(i,{modelValue:l(d).pc,"onUpdate:modelValue":o[3]||(o[3]=t=>l(d).pc=t),modelModifiers:{trim:!0},placeholder:"请输入批次"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"yxmc",label:"院校名称:"},{default:a(()=>[e(i,{modelValue:l(d).yxmc,"onUpdate:modelValue":o[4]||(o[4]=t=>l(d).yxmc=t),modelModifiers:{trim:!0},placeholder:"请输入院校名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zymc",label:"专业名称:"},{default:a(()=>[e(i,{modelValue:l(d).zymc,"onUpdate:modelValue":o[5]||(o[5]=t=>l(d).zymc=t),modelModifiers:{trim:!0},placeholder:"请输入专业名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"kl",label:"科类:"},{default:a(()=>[e(i,{modelValue:l(d).kl,"onUpdate:modelValue":o[6]||(o[6]=t=>l(d).kl=t),modelModifiers:{trim:!0},placeholder:"请输入科类"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"wsf",label:"省份-招生数据:"},{default:a(()=>[e(I,{modelValue:l(d).wsf,"onUpdate:modelValue":o[7]||(o[7]=t=>l(d).wsf=t),placeholder:"请输入省份-招生数据","allow-search":"",options:[...l(v),...l(U).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"wnf",label:"年份-招生数据:"},{default:a(()=>[e(i,{modelValue:l(d).wnf,"onUpdate:modelValue":o[8]||(o[8]=t=>l(d).wnf=t),modelModifiers:{trim:!0},placeholder:"请输入年份-招生数据"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"xz",label:"学制:"},{default:a(()=>[e(i,{modelValue:l(d).xz,"onUpdate:modelValue":o[9]||(o[9]=t=>l(d).xz=t),modelModifiers:{trim:!0},placeholder:"请输入学制"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"yxdm",label:"院校代码:"},{default:a(()=>[e(i,{modelValue:l(d).yxdm,"onUpdate:modelValue":o[10]||(o[10]=t=>l(d).yxdm=t),modelModifiers:{trim:!0},placeholder:"请输入院校代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zyz",label:"专业组:"},{default:a(()=>[e(i,{modelValue:l(d).zyz,"onUpdate:modelValue":o[11]||(o[11]=t=>l(d).zyz=t),modelModifiers:{trim:!0},placeholder:"请输入专业组"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zydm",label:"专业代码:"},{default:a(()=>[e(i,{modelValue:l(d).zydm,"onUpdate:modelValue":o[12]||(o[12]=t=>l(d).zydm=t),modelModifiers:{trim:!0},placeholder:"请输入专业代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"xk",label:"首选要求:"},{default:a(()=>[e(i,{modelValue:l(d).xk,"onUpdate:modelValue":o[13]||(o[13]=t=>l(d).xk=t),modelModifiers:{trim:!0},placeholder:"请输入首选要求"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zx",label:"再选科目:"},{default:a(()=>[e(i,{modelValue:l(d).zx,"onUpdate:modelValue":o[14]||(o[14]=t=>l(d).zx=t),modelModifiers:{trim:!0},placeholder:"请输入再选科目"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zymcOrg",label:"初始专业名称:"},{default:a(()=>[e(i,{modelValue:l(d).zymcOrg,"onUpdate:modelValue":o[15]||(o[15]=t=>l(d).zymcOrg=t),modelModifiers:{trim:!0},placeholder:"请输入初始专业名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"xkCombine",label:"选科编码集:"},{default:a(()=>[e(i,{modelValue:l(d).xkCombine,"onUpdate:modelValue":o[16]||(o[16]=t=>l(d).xkCombine=t),modelModifiers:{trim:!0},placeholder:"请输入选科编码集"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{label:"是否首招:"},{default:a(()=>[e(I,{modelValue:l(d).isNew,"onUpdate:modelValue":o[17]||(o[17]=t=>l(d).isNew=t),placeholder:"请选择是否首招","allow-clear":"",options:[...l(v),...l(de)]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"yc",label:"位次预测:"},{default:a(()=>[e(z,{modelValue:l(d).yc,"onUpdate:modelValue":o[18]||(o[18]=t=>l(d).yc=t),modelModifiers:{trim:!0},placeholder:"请输入位次预测"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"xkml",label:"学科门类:"},{default:a(()=>[e(i,{modelValue:l(d).xkml,"onUpdate:modelValue":o[19]||(o[19]=t=>l(d).xkml=t),modelModifiers:{trim:!0},placeholder:"请输入学科门类"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zyl",label:"专业类:"},{default:a(()=>[e(i,{modelValue:l(d).zyl,"onUpdate:modelValue":o[20]||(o[20]=t=>l(d).zyl=t),modelModifiers:{trim:!0},placeholder:"请输入专业类"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"cc",label:"层次/学历类别:"},{default:a(()=>[e(i,{modelValue:l(d).cc,"onUpdate:modelValue":o[21]||(o[21]=t=>l(d).cc=t),modelModifiers:{trim:!0},placeholder:"请输入层次/学历类别"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"xf",label:"学费:"},{default:a(()=>[e(z,{modelValue:l(d).xf,"onUpdate:modelValue":o[22]||(o[22]=t=>l(d).xf=t),modelModifiers:{trim:!0},placeholder:"请输入学费"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"zslx",label:"招生类型:"},{default:a(()=>[e(i,{modelValue:l(d).zslx,"onUpdate:modelValue":o[23]||(o[23]=t=>l(d).zslx=t),modelModifiers:{trim:!0},placeholder:"请输入招生类型"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"planMajorIdOne",label:"最新1年的招生计划id:"},{default:a(()=>[e(i,{modelValue:l(d).planMajorIdOne,"onUpdate:modelValue":o[24]||(o[24]=t=>l(d).planMajorIdOne=t),modelModifiers:{trim:!0},placeholder:"请输入最新1年的招生计划id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"planMajorIdTwo",label:"最新2年的招生计划id:"},{default:a(()=>[e(i,{modelValue:l(d).planMajorIdTwo,"onUpdate:modelValue":o[25]||(o[25]=t=>l(d).planMajorIdTwo=t),modelModifiers:{trim:!0},placeholder:"请输入最新2年的招生计划id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"planMajorIdThree",label:"最新3年的招生计划id:"},{default:a(()=>[e(i,{modelValue:l(d).planMajorIdThree,"onUpdate:modelValue":o[26]||(o[26]=t=>l(d).planMajorIdThree=t),modelModifiers:{trim:!0},placeholder:"请输入最新3年的招生计划id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"dataMajorIdOne",label:"最新1年的招生分数id:"},{default:a(()=>[e(i,{modelValue:l(d).dataMajorIdOne,"onUpdate:modelValue":o[27]||(o[27]=t=>l(d).dataMajorIdOne=t),modelModifiers:{trim:!0},placeholder:"请输入最新1年的招生分数id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"dataMajorIdTwo",label:"最新2年的招生分数id:"},{default:a(()=>[e(i,{modelValue:l(d).dataMajorIdTwo,"onUpdate:modelValue":o[28]||(o[28]=t=>l(d).dataMajorIdTwo=t),modelModifiers:{trim:!0},placeholder:"请输入最新2年的招生分数id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"dataMajorIdThree",label:"最新3年的招生分数id:"},{default:a(()=>[e(i,{modelValue:l(d).dataMajorIdThree,"onUpdate:modelValue":o[29]||(o[29]=t=>l(d).dataMajorIdThree=t),modelModifiers:{trim:!0},placeholder:"请输入最新3年的招生分数id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(n,{field:"dataMajorIdFour",label:"最新4年的招生分数id:"},{default:a(()=>[e(i,{modelValue:l(d).dataMajorIdFour,"onUpdate:modelValue":o[30]||(o[30]=t=>l(d).dataMajorIdFour=t),modelModifiers:{trim:!0},placeholder:"请输入最新4年的招生分数id"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(n,{field:"yxbz",label:"院校备注:"},{default:a(()=>[e(P,{modelValue:l(d).yxbz,"onUpdate:modelValue":o[31]||(o[31]=t=>l(d).yxbz=t),modelModifiers:{trim:!0},"auto-size":{minRows:4},placeholder:"请输入院校备注"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(n,{field:"zybz",label:"专业备注:"},{default:a(()=>[e(P,{modelValue:l(d).zybz,"onUpdate:modelValue":o[32]||(o[32]=t=>l(d).zybz=t),modelModifiers:{trim:!0},"auto-size":{minRows:4},placeholder:"请输入专业备注"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","ok-loading"])}}}),ue=S({name:"RecruitProfessionalEnrollmentPlan"}),pe=S({...ue,setup(m){const{warningModal:k}=ee(),[M,U]=E(null),C=D(),{form:s,resetForm:d}=$(()=>({sf:"",nf:"",yxmc:"",zymc:"",xz:"",pc:"",kl:"",wsf:"",wnf:""}),()=>x()),{selectRow:j,columnsData:q,visibleColumnsData:O,tableBaseOptions:p,resetData:x,extendTableList:o,setSelectRow:z,changeTableColumn:n,changeTableSize:u}=W(oe(),()=>T()),I=()=>{k(`确定删除选中的${p.selectedKeys.length}数据吗？`,async _=>{const{err:r}=await A(()=>N.deleteProfessionPlan({ids:p.selectedKeys}),{successMsg:"操作成功"});r||(_(!0),p.selectedKeys=[],T())})},{data:i,loading:P,initData:T}=X(async()=>{const{res:_,err:r}=await A(()=>N.getProfessionPlanList({...s.value,currentPage:p.pagination.current,pageSize:p.pagination.pageSize,pagingOrNot:"1"}));return r?[]:(p.pagination.total=_.data.totalCount,o(_==null?void 0:_.data.resultList))});return(_,r)=>{const t=f("a-select"),c=f("a-form-item"),g=f("a-grid-item"),y=f("a-input"),B=f("a-grid"),H=f("a-form"),Y=f("icon-plus"),R=f("a-button"),G=f("icon-close"),J=f("a-space"),Q=f("a-table");return L(),Z("div",null,[e(ae,{fold:"","table-columns":l(q),"table-size":l(p).size,onResetSearch:l(d),onSearch:l(x),onChangeTableSize:l(u),onChangeTableColumn:l(n)},{form:a(({collapsed:w})=>[e(H,{model:l(s),"label-align":"left",size:"large","auto-label-width":""},{default:a(()=>[e(B,{cols:{md:3,lg:3,xl:3,xxl:3},"col-gap":12,collapsed:!w},{default:a(()=>[e(g,null,{default:a(()=>[e(c,{field:"sf",label:"省份:"},{default:a(()=>[e(t,{modelValue:l(s).sf,"onUpdate:modelValue":r[0]||(r[0]=V=>l(s).sf=V),placeholder:"请输入省份","allow-search":"",options:[...l(v),...l(C).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{label:"年份:"},{default:a(()=>[e(y,{modelValue:l(s).nf,"onUpdate:modelValue":r[1]||(r[1]=V=>l(s).nf=V),modelModifiers:{trim:!0},placeholder:"请输入年份"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{field:"wsf",label:"省份-招生数据:"},{default:a(()=>[e(t,{modelValue:l(s).wsf,"onUpdate:modelValue":r[2]||(r[2]=V=>l(s).wsf=V),placeholder:"请输入省份-招生数据","allow-search":"",options:[...l(v),...l(C).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{field:"wnf",label:"年份-招生数据:"},{default:a(()=>[e(y,{modelValue:l(s).wnf,"onUpdate:modelValue":r[3]||(r[3]=V=>l(s).wnf=V),modelModifiers:{trim:!0},placeholder:"请输入年份-招生数据"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{field:"yxmc",label:"院校名称:"},{default:a(()=>[e(y,{modelValue:l(s).yxmc,"onUpdate:modelValue":r[4]||(r[4]=V=>l(s).yxmc=V),modelModifiers:{trim:!0},placeholder:"请输入院校名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{field:"kl",label:"科类:"},{default:a(()=>[e(y,{modelValue:l(s).kl,"onUpdate:modelValue":r[5]||(r[5]=V=>l(s).kl=V),modelModifiers:{trim:!0},placeholder:"请输入科类"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{field:"pc",label:"批次:"},{default:a(()=>[e(y,{modelValue:l(s).pc,"onUpdate:modelValue":r[6]||(r[6]=V=>l(s).pc=V),modelModifiers:{trim:!0},placeholder:"请输入批次"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{label:"专业名称:"},{default:a(()=>[e(y,{modelValue:l(s).zymc,"onUpdate:modelValue":r[7]||(r[7]=V=>l(s).zymc=V),modelModifiers:{trim:!0},placeholder:"请输入专业名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(c,{field:"xz",label:"学制:"},{default:a(()=>[e(y,{modelValue:l(s).xz,"onUpdate:modelValue":r[8]||(r[8]=V=>l(s).xz=V),modelModifiers:{trim:!0},placeholder:"请输入学制"},null,8,["modelValue"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),operate:a(()=>[e(J,null,{default:a(()=>[e(R,{type:"outline",onClick:r[9]||(r[9]=w=>l(U)("zsAddProfessionalEnPlan"))},{icon:a(()=>[e(Y)]),default:a(()=>[K(" 新增 ")]),_:1}),e(R,{type:"outline",status:"danger",disabled:!l(p).selectedKeys.length,loading:l(M)==="删除",onClick:I},{icon:a(()=>[e(G)]),default:a(()=>[K(" 删除 ")]),_:1},8,["disabled","loading"])]),_:1})]),table:a(()=>[e(Q,{"selected-keys":l(p).selectedKeys,"onUpdate:selectedKeys":r[10]||(r[10]=w=>l(p).selectedKeys=w),class:"zs-table","row-key":"id",data:l(i),"row-selection":l(p).rowSelection,bordered:l(p).bordered,pagination:l(p).pagination,size:l(p).size,columns:l(O),stripe:l(p).stripe,loading:l(P)},{operate:a(({record:w})=>[e(R,{type:"text",onClick:V=>l(z)(w,()=>l(U)("zsAddProfessionalEnPlan"))},{default:a(()=>[K("编辑")]),_:2},1032,["onClick"])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"]),l(M)==="zsAddProfessionalEnPlan"?(L(),F(ne,{key:0,data:l(j),onSuccess:l(T),onClose:r[11]||(r[11]=w=>l(z)({},()=>l(U)(null)))},null,8,["data","onSuccess"])):h("",!0)])}}});export{pe as default};

import{d as P,u as E,C as A,a as Y,E as B,s as G,r as i,o as q,l as M,w as r,g as a,c as e,f as x,i as C,h as Q,k as U,G as F,H as L,S as v,X as j,_ as K}from"./index-8a2cb146.js";import{i as Z,o as z,a as H,e as X}from"./rules-4aeaef32.js";import{G as J,M as W,E as $}from"./options-da313d68.js";import{Z as ee}from"./index-2bbe694f.js";const le=V=>(F("data-v-959d7c91"),V=V(),L(),V),oe=le(()=>x("div",{style:{height:"100px"}},null,-1)),ae={class:"orderSubmit-footer box-flex jc-fe"},de=P({name:"SystemCustomerOperate"}),te=P({...de,setup(V){const c=E(),{jumpTabName:y}=A(),{getDictionaryInfo:b}=Y(),[S,g]=B(null),{form:o,formRef:_,formPlaceholder:u}=G(()=>({name:"",gender:"",age:void 0,phone:void 0,idtype:"",idnumber:"",birthday:"",residence:"",education:"",marriage:"",employment:"",company:"",companyPhone:void 0,companyAddr:"",urgentContacts:"",urgentPhone:void 0,qq:void 0,weChat:"",facebook:"",email:"",msn:"",state:"",stateDesc:"",remark:""})),k={name:{required:!0,message:"请输入姓名"},gender:{required:!0,message:"请选择性别"},age:{required:!0,message:"请输入年龄"},phone:{required:!0,message:"请输入手机号"},idtype:{required:!0,message:"请选择证件类型"},idnumber:{required:!0,validator:(t,l)=>{t||l("请输入证件号码"),t&&o.value.idtype==="1"?t&&!Z(t)&&l("请输入正确的身份证"):t&&o.value.idtype==="2"?t&&!z(t)&&l("请输入正确的士官证"):t&&o.value.idtype==="3"&&t&&!H(t)&&l("请输入正确的护照")}},urgentContacts:{required:!0,message:"请输入紧急联系人"},urgentPhone:{required:!0,message:"紧急联系人电话"},email:{required:!0,validator:(t,l)=>{t||l("请输入邮箱"),t&&!X(t)&&l("请输入正确的邮箱")}}},D=()=>{_.value.validate(t=>{t||N()})},N=async()=>{const{err:t}=await U(()=>v.customerSave({...o.value,birthday:j(o.value.birthday,"YYYYMMDD","")}),{before:()=>g("okLoading"),after:()=>g(null)});t||y()},R=async()=>{const{res:t,err:l}=await U(()=>v.getCustomerDetail({id:c.query.id}));l||(o.value={...t==null?void 0:t.data,qq:(t==null?void 0:t.data.qq)*1,companyPhone:(t==null?void 0:t.data.companyPhone)*1,urgentPhone:(t==null?void 0:t.data.urgentPhone)*1,phone:(t==null?void 0:t.data.phone)*1})};return c.query.id&&R(),(t,l)=>{const m=i("a-input"),n=i("a-form-item"),s=i("a-select"),p=i("a-input-number"),I=i("a-date-picker"),f=i("a-textarea"),w=i("a-form"),O=i("a-card"),h=i("a-button"),T=i("a-space");return q(),M(ee,null,{default:r(()=>[a(O,{title:"客户信息维护",bordered:!1,class:"general-card"},{default:r(()=>[a(w,{ref_key:"formRef",ref:_,model:e(o),"label-align":"left",size:"large",style:{width:"800px","padding-left":"100px"},"auto-label-width":"",disabled:!!e(c).query.isReadOnly,rules:k},{default:r(()=>[a(n,{label:"姓名:",field:"name",required:""},{default:r(()=>[a(m,{modelValue:e(o).name,"onUpdate:modelValue":l[0]||(l[0]=d=>e(o).name=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入姓名")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"姓别:",field:"gender",required:""},{default:r(()=>[a(s,{modelValue:e(o).gender,"onUpdate:modelValue":l[1]||(l[1]=d=>e(o).gender=d),options:e(J),placeholder:e(u)("请选择性别")},null,8,["modelValue","options","placeholder"])]),_:1}),a(n,{label:"年龄:",field:"age",required:""},{default:r(()=>[a(p,{min:1,max:150,modelValue:e(o).age,"onUpdate:modelValue":l[2]||(l[2]=d=>e(o).age=d),modelModifiers:{trim:!0},precision:0,placeholder:e(u)("请输入年龄")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"手机号:",field:"phone",required:""},{default:r(()=>[a(p,{modelValue:e(o).phone,"onUpdate:modelValue":l[3]||(l[3]=d=>e(o).phone=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入手机号")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"证件类型:",field:"idtype",required:""},{default:r(()=>[a(s,{modelValue:e(o).idtype,"onUpdate:modelValue":l[4]||(l[4]=d=>e(o).idtype=d),options:e(b)("IDType"),"field-names":{label:"detailName",value:"detailCode"},placeholder:e(u)("请选择证件类型")},null,8,["modelValue","options","placeholder"])]),_:1}),a(n,{field:"idnumber",label:"证件号码:",required:""},{default:r(()=>[a(m,{modelValue:e(o).idnumber,"onUpdate:modelValue":l[5]||(l[5]=d=>e(o).idnumber=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入证件号码")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"生日:"},{default:r(()=>[a(I,{modelValue:e(o).birthday,"onUpdate:modelValue":l[6]||(l[6]=d=>e(o).birthday=d),modelModifiers:{trim:!0},class:"flex1",placeholder:e(u)("请选择/年/月/日")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"现居住地:"},{default:r(()=>[a(f,{modelValue:e(o).residence,"onUpdate:modelValue":l[7]||(l[7]=d=>e(o).residence=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入现居住地")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"学历:"},{default:r(()=>[a(s,{modelValue:e(o).education,"onUpdate:modelValue":l[8]||(l[8]=d=>e(o).education=d),options:e(b)("education"),"field-names":{label:"detailName",value:"detailCode"},placeholder:e(u)("请选择学历")},null,8,["modelValue","options","placeholder"])]),_:1}),a(n,{label:"婚姻状况:"},{default:r(()=>[a(s,{modelValue:e(o).marriage,"onUpdate:modelValue":l[9]||(l[9]=d=>e(o).marriage=d),options:e(W),placeholder:e(u)("请选择婚姻状况")},null,8,["modelValue","options","placeholder"])]),_:1}),a(n,{label:"就业状态:"},{default:r(()=>[a(s,{modelValue:e(o).employment,"onUpdate:modelValue":l[10]||(l[10]=d=>e(o).employment=d),options:e($),placeholder:e(u)("请选择就业状态")},null,8,["modelValue","options","placeholder"])]),_:1}),a(n,{label:"单位名称:"},{default:r(()=>[a(f,{modelValue:e(o).company,"onUpdate:modelValue":l[11]||(l[11]=d=>e(o).company=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入单位名称")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"单位电话:"},{default:r(()=>[a(p,{modelValue:e(o).companyPhone,"onUpdate:modelValue":l[12]||(l[12]=d=>e(o).companyPhone=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入单位电话")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"单位地址:"},{default:r(()=>[a(f,{modelValue:e(o).companyAddr,"onUpdate:modelValue":l[13]||(l[13]=d=>e(o).companyAddr=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入单位地址")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"紧急联系人:",field:"urgentContacts",required:""},{default:r(()=>[a(m,{modelValue:e(o).urgentContacts,"onUpdate:modelValue":l[14]||(l[14]=d=>e(o).urgentContacts=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入紧急联系人")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"紧急联系人电话:",field:"urgentPhone",required:""},{default:r(()=>[a(p,{modelValue:e(o).urgentPhone,"onUpdate:modelValue":l[15]||(l[15]=d=>e(o).urgentPhone=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入紧急联系人电话")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"QQ:"},{default:r(()=>[a(p,{modelValue:e(o).qq,"onUpdate:modelValue":l[16]||(l[16]=d=>e(o).qq=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入QQ")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"微信:"},{default:r(()=>[a(m,{modelValue:e(o).weChat,"onUpdate:modelValue":l[17]||(l[17]=d=>e(o).weChat=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入微信")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"Facebook:"},{default:r(()=>[a(m,{modelValue:e(o).facebook,"onUpdate:modelValue":l[18]||(l[18]=d=>e(o).facebook=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入Facebook")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"邮箱:",field:"email",required:""},{default:r(()=>[a(m,{modelValue:e(o).email,"onUpdate:modelValue":l[19]||(l[19]=d=>e(o).email=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入邮箱")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"msn:"},{default:r(()=>[a(m,{modelValue:e(o).msn,"onUpdate:modelValue":l[20]||(l[20]=d=>e(o).msn=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入msn")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"状态:"},{default:r(()=>[a(s,{modelValue:e(o).state,"onUpdate:modelValue":l[21]||(l[21]=d=>e(o).state=d),options:e(b)("state"),"field-names":{label:"detailName",value:"detailCode"},placeholder:e(u)("请选择状态")},null,8,["modelValue","options","placeholder"])]),_:1}),a(n,{label:"状态说明:"},{default:r(()=>[a(f,{modelValue:e(o).stateDesc,"onUpdate:modelValue":l[22]||(l[22]=d=>e(o).stateDesc=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入状态说明")},null,8,["modelValue","placeholder"])]),_:1}),a(n,{label:"备注:"},{default:r(()=>[a(f,{modelValue:e(o).remark,"onUpdate:modelValue":l[23]||(l[23]=d=>e(o).remark=d),modelModifiers:{trim:!0},placeholder:e(u)("请输入备注")},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model","disabled"])]),_:1}),oe,x("div",ae,[a(T,null,{default:r(()=>[e(c).query.isReadOnly?Q("",!0):(q(),M(h,{key:0,type:"primary",loading:e(S)==="okLoading",onClick:D},{default:r(()=>[C("确定")]),_:1},8,["loading"])),a(h,{onClick:l[24]||(l[24]=()=>e(y)())},{default:r(()=>[C("返回")]),_:1})]),_:1})])]),_:1})}}});const me=K(te,[["__scopeId","data-v-959d7c91"]]);export{me as default};

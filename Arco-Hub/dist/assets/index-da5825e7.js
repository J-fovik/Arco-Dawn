import{d as I,g as j,h as $,i as N,r as m,o as A,l as B,w as t,a as e,b as l,m as L,n as X,j as Y,c as Z,e as R,p as h,q as ee}from"./index-d007178a.js";import{f as _,c as le,_ as te}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-430f1ffc.js";import{A as q}from"./options-aafac76d.js";import{O as H}from"./otherData-17ba8805.js";import"./index-13860ba0.js";const oe=()=>[{title:"序号",width:80,dataIndex:"sortTableNo",show:!0,tooltip:!0,ellipsis:!0,align:"center"},{title:"省份",dataIndex:"sf",show:!0,align:"center",render:({record:i})=>_(i.sf)},{title:"年份",dataIndex:"nf",show:!0,align:"center",render:({record:i})=>_(i.nf)},{title:"省份-招生数据",dataIndex:"wsf",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:i})=>_(i.wsf)},{title:"年份-招生数据",dataIndex:"wnf",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:i})=>_(i.wnf)},{title:"院校名称",dataIndex:"yxmc",show:!0,tooltip:!0,ellipsis:!0,align:"center",render:({record:i})=>_(i.yxmc)},{title:"科类",dataIndex:"kl",show:!0,align:"center",render:({record:i})=>_(i.kl)},{title:"批次",dataIndex:"pc",show:!0,align:"center",render:({record:i})=>_(i.pc)},{title:"招生类型",dataIndex:"zslx",show:!0,align:"center",render:({record:i})=>_(i.zslx)},{title:"专业类",dataIndex:"zyl",show:!0,align:"center",render:({record:i})=>_(i.zyl)},{title:"专业名称",dataIndex:"zymc",show:!0,align:"center",render:({record:i})=>_(i.zymc)},{title:"最低分",dataIndex:"zdf",show:!0,align:"right",render:({record:i})=>_(i.zdf)},{title:"操作",width:100,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],ae=I({name:"zsAddProHistoricalData"}),de=I({...ae,props:{data:{default:()=>({})}},emits:["close","success"],setup(i,{emit:U}){const x=i,k=j(),[C,s]=$(null),{form:a,formRef:S}=N(()=>({...x.data})),D={nf:{required:!0,message:"请输入年份"},sf:{required:!0,message:"请输入省份"},pc:{required:!0,message:"请输入批次"},kl:{required:!0,message:"请输入科类"},yxmc:{required:!0,message:"请输入院校名称"},zymc:{required:!0,message:"请输入专业名称"},zdfwc:{required:!0,message:"请输入最低分位次"},zdf:{required:!0,message:"请输入最低分"},wsf:{required:!0,message:"请输入省份-招生数据"},wnf:{required:!0,message:"请输入年份-招生数据"}},P=()=>{S.value.validate(w=>{w||(x.data.id?f("editProfessionHistory"):f("addProfessionHistory"))})},f=async w=>{const{err:o}=await L(()=>H[w](a.value),{before:()=>s("okLoading"),after:()=>s(null)});o||(U("success"),U("close"))};return(w,o)=>{const V=m("a-input-number"),n=m("a-form-item"),u=m("a-grid-item"),T=m("a-select"),p=m("a-input"),K=m("a-textarea"),v=m("a-grid"),g=m("a-form"),r=m("a-modal");return A(),B(r,{title:l(le)("专业历史数据(智能填报)",!!x.data.id),"unmount-on-close":"",visible:"",top:"5%",width:"60vw","align-center":!1,"mask-closable":!1,"ok-loading":l(C)==="okLoading",onCancel:o[27]||(o[27]=d=>U("close")),onOk:P},{default:t(()=>[e(g,{ref_key:"formRef",ref:S,model:l(a),"label-align":"left",size:"large","auto-label-width":"",rules:D},{default:t(()=>[e(v,{cols:2,"col-gap":24},{default:t(()=>[e(u,null,{default:t(()=>[e(n,{field:"nf",label:"年份:"},{default:t(()=>[e(V,{modelValue:l(a).nf,"onUpdate:modelValue":o[0]||(o[0]=d=>l(a).nf=d),modelModifiers:{trim:!0},placeholder:"请输入年份"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"sf",label:"省份:"},{default:t(()=>[e(T,{modelValue:l(a).sf,"onUpdate:modelValue":o[1]||(o[1]=d=>l(a).sf=d),placeholder:"请输入省份","allow-search":"",options:[...l(q),...l(k).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"pc",label:"批次:"},{default:t(()=>[e(p,{modelValue:l(a).pc,"onUpdate:modelValue":o[2]||(o[2]=d=>l(a).pc=d),modelModifiers:{trim:!0},placeholder:"请输入批次"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"yxmc",label:"院校名称:"},{default:t(()=>[e(p,{modelValue:l(a).yxmc,"onUpdate:modelValue":o[3]||(o[3]=d=>l(a).yxmc=d),modelModifiers:{trim:!0},placeholder:"请输入院校名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zymc",label:"专业名称:"},{default:t(()=>[e(p,{modelValue:l(a).zymc,"onUpdate:modelValue":o[4]||(o[4]=d=>l(a).zymc=d),modelModifiers:{trim:!0},placeholder:"请输入专业名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"kl",label:"科类:"},{default:t(()=>[e(p,{modelValue:l(a).kl,"onUpdate:modelValue":o[5]||(o[5]=d=>l(a).kl=d),modelModifiers:{trim:!0},placeholder:"请输入科类"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zdf",label:"最低分:"},{default:t(()=>[e(V,{modelValue:l(a).zdf,"onUpdate:modelValue":o[6]||(o[6]=d=>l(a).zdf=d),modelModifiers:{trim:!0},placeholder:"请输入最低分"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zdfwc",label:"最低分位次:"},{default:t(()=>[e(V,{modelValue:l(a).zdfwc,"onUpdate:modelValue":o[7]||(o[7]=d=>l(a).zdfwc=d),modelModifiers:{trim:!0},placeholder:"请输入最低分位次"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"wsf",label:"省份-招生数据:"},{default:t(()=>[e(T,{modelValue:l(a).wsf,"onUpdate:modelValue":o[8]||(o[8]=d=>l(a).wsf=d),placeholder:"请输入省份-招生数据","allow-search":"",options:[...l(q),...l(k).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"wnf",label:"年份-招生数据:"},{default:t(()=>[e(V,{modelValue:l(a).wnf,"onUpdate:modelValue":o[9]||(o[9]=d=>l(a).wnf=d),modelModifiers:{trim:!0},placeholder:"请输入年份-招生数据"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"yxdm",label:"院校代码:"},{default:t(()=>[e(p,{modelValue:l(a).yxdm,"onUpdate:modelValue":o[10]||(o[10]=d=>l(a).yxdm=d),modelModifiers:{trim:!0},placeholder:"请输入院校代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"lqrs",label:"录取人数:"},{default:t(()=>[e(V,{modelValue:l(a).lqrs,"onUpdate:modelValue":o[11]||(o[11]=d=>l(a).lqrs=d),modelModifiers:{trim:!0},placeholder:"请输入录取人数"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zyz",label:"专业组:"},{default:t(()=>[e(p,{modelValue:l(a).zyz,"onUpdate:modelValue":o[12]||(o[12]=d=>l(a).zyz=d),modelModifiers:{trim:!0},placeholder:"请输入专业组"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zydm",label:"专业代码:"},{default:t(()=>[e(p,{modelValue:l(a).zydm,"onUpdate:modelValue":o[13]||(o[13]=d=>l(a).zydm=d),modelModifiers:{trim:!0},placeholder:"请输入专业代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"xk",label:"首选要求:"},{default:t(()=>[e(p,{modelValue:l(a).xk,"onUpdate:modelValue":o[14]||(o[14]=d=>l(a).xk=d),modelModifiers:{trim:!0},placeholder:"请输入首选要求"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zx",label:"再选科目:"},{default:t(()=>[e(p,{modelValue:l(a).zx,"onUpdate:modelValue":o[15]||(o[15]=d=>l(a).zx=d),modelModifiers:{trim:!0},placeholder:"请输入再选科目"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zymcOrg",label:"原始专业名称:"},{default:t(()=>[e(p,{modelValue:l(a).zymcOrg,"onUpdate:modelValue":o[16]||(o[16]=d=>l(a).zymcOrg=d),modelModifiers:{trim:!0},placeholder:"请输入原始专业名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"xkCombine",label:"选科编码级:"},{default:t(()=>[e(p,{modelValue:l(a).xkCombine,"onUpdate:modelValue":o[17]||(o[17]=d=>l(a).xkCombine=d),modelModifiers:{trim:!0},placeholder:"请输入选科编码级"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"pjf",label:"平均分:"},{default:t(()=>[e(V,{modelValue:l(a).pjf,"onUpdate:modelValue":o[18]||(o[18]=d=>l(a).pjf=d),modelModifiers:{trim:!0},placeholder:"请输入平均分"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"pjfwc",label:"平均分位次:"},{default:t(()=>[e(V,{modelValue:l(a).pjfwc,"onUpdate:modelValue":o[19]||(o[19]=d=>l(a).pjfwc=d),modelModifiers:{trim:!0},placeholder:"请输入平均分位次"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zgf",label:"最高分:"},{default:t(()=>[e(V,{modelValue:l(a).zgf,"onUpdate:modelValue":o[20]||(o[20]=d=>l(a).zgf=d),modelModifiers:{trim:!0},placeholder:"请输入最高分"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zgfwc",label:"最高分位次:"},{default:t(()=>[e(V,{modelValue:l(a).zgfwc,"onUpdate:modelValue":o[21]||(o[21]=d=>l(a).zgfwc=d),modelModifiers:{trim:!0},placeholder:"请输入最高分位次"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"xkml",label:"学科门类:"},{default:t(()=>[e(p,{modelValue:l(a).xkml,"onUpdate:modelValue":o[22]||(o[22]=d=>l(a).xkml=d),modelModifiers:{trim:!0},placeholder:"请输入学科门类"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zyl",label:"专业类:"},{default:t(()=>[e(p,{modelValue:l(a).zyl,"onUpdate:modelValue":o[23]||(o[23]=d=>l(a).zyl=d),modelModifiers:{trim:!0},placeholder:"请输入专业类"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"cc",label:"层次/学历类别:"},{default:t(()=>[e(p,{modelValue:l(a).cc,"onUpdate:modelValue":o[24]||(o[24]=d=>l(a).cc=d),modelModifiers:{trim:!0},placeholder:"请输入层次/学历类别"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,{field:"zslx",label:"招生类型:"},{default:t(()=>[e(p,{modelValue:l(a).zslx,"onUpdate:modelValue":o[25]||(o[25]=d=>l(a).zslx=d),modelModifiers:{trim:!0},placeholder:"请输入招生类型"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(n,{field:"zybz",label:"专业备注:"},{default:t(()=>[e(K,{modelValue:l(a).zybz,"onUpdate:modelValue":o[26]||(o[26]=d=>l(a).zybz=d),modelModifiers:{trim:!0},"auto-size":{minRows:8},placeholder:"请输入专业备注"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","ok-loading"])}}}),ne=I({name:"OtherWDataMajor"}),fe=I({...ne,setup(i){const{warningModal:U}=ee(),[x,k]=$(null),C=j(),{form:s,resetForm:a}=N(()=>({sf:"",nf:"",yxmc:"",zymc:"",pc:"",kl:"",wsf:"",wnf:""}),()=>w()),{selectRow:S,columnsData:D,visibleColumnsData:P,tableBaseOptions:f,resetData:w,extendTableList:o,setSelectRow:V,changeTableColumn:n,changeTableSize:u}=X(oe(),()=>v()),T=()=>{U(`确定删除选中的${f.selectedKeys.length}数据吗？`,async g=>{const{err:r}=await L(()=>H.deleteProfessionHistory({ids:f.selectedKeys}),{successMsg:"操作成功"});r||(g(!0),f.selectedKeys=[],v())})},{data:p,loading:K,initData:v}=Y(async()=>{const{res:g,err:r}=await L(()=>H.getProfessionHistoryList({...s.value,currentPage:f.pagination.current,pageSize:f.pagination.pageSize,pagingOrNot:"1"}));return r?[]:(f.pagination.total=g.data.totalCount,o(g==null?void 0:g.data.list))});return(g,r)=>{const d=m("a-select"),b=m("a-form-item"),z=m("a-grid-item"),M=m("a-input"),E=m("a-grid"),F=m("a-form"),W=m("icon-plus"),O=m("a-button"),G=m("icon-close"),J=m("a-space"),Q=m("a-table");return A(),Z("div",null,[e(te,{fold:"","table-columns":l(D),"table-size":l(f).size,onResetSearch:l(a),onSearch:l(w),onChangeTableSize:l(u),onChangeTableColumn:l(n)},{form:t(({collapsed:y})=>[e(F,{model:l(s),"label-align":"left",size:"large","auto-label-width":""},{default:t(()=>[e(E,{cols:{md:3,lg:3,xl:3,xxl:3},"col-gap":12,collapsed:!y},{default:t(()=>[e(z,null,{default:t(()=>[e(b,{field:"sf",label:"省份:"},{default:t(()=>[e(d,{modelValue:l(s).sf,"onUpdate:modelValue":r[0]||(r[0]=c=>l(s).sf=c),placeholder:"请输入省份","allow-search":"",options:[...l(q),...l(C).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{label:"年份:"},{default:t(()=>[e(M,{modelValue:l(s).nf,"onUpdate:modelValue":r[1]||(r[1]=c=>l(s).nf=c),modelModifiers:{trim:!0},placeholder:"请输入年份"},null,8,["modelValue"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{field:"wsf",label:"省份-招生数据:"},{default:t(()=>[e(d,{modelValue:l(s).wsf,"onUpdate:modelValue":r[2]||(r[2]=c=>l(s).wsf=c),placeholder:"请输入省份-招生数据","allow-search":"",options:[...l(q),...l(C).provinceList]},null,8,["modelValue","options"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{field:"wnf",label:"年份-招生数据:"},{default:t(()=>[e(M,{modelValue:l(s).wnf,"onUpdate:modelValue":r[3]||(r[3]=c=>l(s).wnf=c),modelModifiers:{trim:!0},placeholder:"请输入年份-招生数据"},null,8,["modelValue"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{label:"院校名称:"},{default:t(()=>[e(M,{modelValue:l(s).yxmc,"onUpdate:modelValue":r[4]||(r[4]=c=>l(s).yxmc=c),modelModifiers:{trim:!0},placeholder:"请输入院校名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{label:"科类:"},{default:t(()=>[e(M,{modelValue:l(s).kl,"onUpdate:modelValue":r[5]||(r[5]=c=>l(s).kl=c),modelModifiers:{trim:!0},placeholder:"请输入科类"},null,8,["modelValue"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{label:"批次:"},{default:t(()=>[e(M,{modelValue:l(s).pc,"onUpdate:modelValue":r[6]||(r[6]=c=>l(s).pc=c),modelModifiers:{trim:!0},placeholder:"请输入批次"},null,8,["modelValue"])]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(b,{label:"专业名称:"},{default:t(()=>[e(M,{modelValue:l(s).zymc,"onUpdate:modelValue":r[7]||(r[7]=c=>l(s).zymc=c),modelModifiers:{trim:!0},placeholder:"请输入专业名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),operate:t(()=>[e(J,null,{default:t(()=>[e(O,{type:"outline",onClick:r[8]||(r[8]=y=>l(k)("zsAddProHistoricalData"))},{icon:t(()=>[e(W)]),default:t(()=>[R(" 新增 ")]),_:1}),e(O,{type:"outline",status:"danger",disabled:!l(f).selectedKeys.length,loading:l(x)==="删除",onClick:T},{icon:t(()=>[e(G)]),default:t(()=>[R(" 删除 ")]),_:1},8,["disabled","loading"])]),_:1})]),table:t(()=>[e(Q,{"selected-keys":l(f).selectedKeys,"onUpdate:selectedKeys":r[9]||(r[9]=y=>l(f).selectedKeys=y),class:"zs-table","row-key":"id",data:l(p),"row-selection":l(f).rowSelection,bordered:l(f).bordered,pagination:l(f).pagination,size:l(f).size,columns:l(P),stripe:l(f).stripe,loading:l(K)},{operate:t(({record:y})=>[e(O,{type:"text",onClick:c=>l(V)(y,()=>l(k)("zsAddProHistoricalData"))},{default:t(()=>[R("编辑")]),_:2},1032,["onClick"])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"]),l(x)==="zsAddProHistoricalData"?(A(),B(de,{key:0,data:l(S),onSuccess:l(v),onClose:r[10]||(r[10]=y=>l(V)({},()=>l(k)(null)))},null,8,["data","onSuccess"])):h("",!0)])}}});export{fe as default};

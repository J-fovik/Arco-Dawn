import{d as g,u as N,C as S,b as C,k as D,r as d,o as i,l as _,w as e,g as a,i as p,t as n,c as t,f as c,O as f,h as y,e as w,j as B,F as O}from"./index-8a2cb146.js";import{Z as z}from"./index-2bbe694f.js";import{O as T}from"./order-70291d37.js";const $={class:"text-red text-price"},j={class:"text-red text-price"},I={class:"text-red text-price"},V={class:"text-red text-price"},E=c("div",{style:{height:"100px"}},null,-1),F={class:"orderSubmit-footer box-flex jc-fe"},P=g({name:"OrderFinanceSettlementExamineOperate"}),G=g({...P,setup(q){const A=N(),{jumpTabName:R}=S(),{data:o,loading:x}=C(async()=>{const{res:s,err:m}=await D(()=>T.getApplyListDetail({batchId:A.query.id}));if(m)return;const r=s!=null&&s.data.voucherMap?Object.keys(s==null?void 0:s.data.voucherMap):[];return{...s==null?void 0:s.data,invoiceMap:s==null?void 0:s.data.invoiceMap.all.map(l=>({name:l.attName,url:l.attPath,status:"done",uid:l.id,attSize:l.attSize})),voucherMap:r.map(l=>({key:l,list:s==null?void 0:s.data.voucherMap[l].map(u=>({name:u.attName,url:u.attPath,status:"done",uid:u.id,attSize:u.attSize}))}))}},{invoiceMap:[],settleRecordApply:{},voucherMap:[]});return(s,m)=>{const r=d("a-tag"),l=d("a-descriptions-item"),u=d("a-descriptions"),b=d("a-card"),v=d("a-upload"),k=d("a-button"),M=d("a-space");return i(),_(z,null,{default:e(()=>[a(b,{title:"结算详情",loading:t(x),bordered:!1,class:"general-card"},{default:e(()=>[a(u,{size:"large",column:3},{default:e(()=>[a(l,{label:"结算团号："},{default:e(()=>[a(r,null,{default:e(()=>[p(n(t(o).groupIds),1)]),_:1})]),_:1}),a(l,{label:"供应商："},{default:e(()=>[a(r,null,{default:e(()=>[p(n(t(o).settleRecordApply.supName),1)]),_:1})]),_:1}),a(l,{label:"订单同行总费用："},{default:e(()=>[c("span",$,n(t(f)(`${t(o).settleRecordApply.supsigCost??0}`)),1)]),_:1}),a(l,{label:"供应商结算费用："},{default:e(()=>[c("span",j,n(t(f)(`${t(o).settleRecordApply.moneyTotal??0}`)),1)]),_:1}),a(l,{label:"已结算金额："},{default:e(()=>[c("span",I,n(t(f)(`${t(o).settleRecordApply.totalSettledAmount??0}`)),1)]),_:1}),a(l,{label:"本次申请结算金额："},{default:e(()=>[c("span",V,n(t(f)(`${t(o).settleRecordApply.money??0}`)),1)]),_:1}),a(l,{label:"户名："},{default:e(()=>[a(r,null,{default:e(()=>[p(n(t(o).settleRecordApply.receiveUserName),1)]),_:1})]),_:1}),a(l,{label:"账号："},{default:e(()=>[a(r,null,{default:e(()=>[p(n(t(o).settleRecordApply.receiveNum),1)]),_:1})]),_:1}),a(l,{label:"开户行："},{default:e(()=>[a(r,null,{default:e(()=>[p(n(t(o).settleRecordApply.receiveBankName),1)]),_:1})]),_:1}),a(l,{label:"联行号："},{default:e(()=>[a(r,null,{default:e(()=>[p(n(t(o).settleRecordApply.receiveSettleBankNo),1)]),_:1})]),_:1}),t(o).settleRecordApply.applyDesc?(i(),_(l,{key:0,label:"平台经理审核备注："},{default:e(()=>[c("span",null,n(t(o).settleRecordApply.applyDesc),1)]),_:1})):y("",!0),t(o).settleRecordApply.applyDesc2?(i(),_(l,{key:1,label:"财务审核备注："},{default:e(()=>[c("span",null,n(t(o).settleRecordApply.applyDesc2),1)]),_:1})):y("",!0)]),_:1})]),_:1},8,["loading"]),t(o).invoiceMap.length?(i(),_(b,{key:0,title:"发票信息",bordered:!1,class:"general-card margin-top"},{default:e(()=>[a(v,{"file-list":t(o).invoiceMap,"auto-upload":!1,limit:1,"show-remove-button":!1,"show-retry-button":!1},null,8,["file-list"])]),_:1})):y("",!0),t(o).voucherMap.length?(i(!0),w(O,{key:1},B(t(o).voucherMap,h=>(i(),_(b,{key:h.key,title:`团号${h.key}汇款凭证`,bordered:!1,class:"general-card margin-top"},{default:e(()=>[a(v,{"file-list":h.list,"auto-upload":!1,limit:1,"show-remove-button":!1,"show-retry-button":!1},null,8,["file-list"])]),_:2},1032,["title"]))),128)):y("",!0),E,c("div",F,[a(M,null,{default:e(()=>[a(k,{onClick:m[0]||(m[0]=()=>t(R)())},{default:e(()=>[p("返回")]),_:1})]),_:1})])]),_:1})}}});export{G as default};

import{a as V,n as u,d as D,q as $,s as j,v as q,M as F,x as K,y as M,r as d,o as w,e as O,g as t,w as l,c as e,z as Y,l as G,i as H,f as J,k as v,Y as Q}from"./index-8a2cb146.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{S as X}from"./supplier-c338fe4b.js";import"./index-2bbe694f.js";const Z=()=>{const{getDictionaryItem:_}=V();return[{title:"线路名称",dataIndex:"routeName",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:a})=>u(a.routeName)},{title:"地区",dataIndex:"areaName",show:!0,align:"center",render:({record:a})=>u(a.areaName)},{title:"旅行分类",dataIndex:"travelType",show:!0,align:"center",render:({record:a})=>u(_("travelType",a.travelType).detailName)},{title:"成团类别",dataIndex:"groupType",show:!0,align:"center",render:({record:a})=>u(_("new_group_type",a.groupType).detailName)},{title:"天数",dataIndex:"travelDays",show:!0,align:"center",render:({record:a})=>u(a.travelDays)},{title:"供应商名称",dataIndex:"supName",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:a})=>u(a.supName)},{title:"状态",dataIndex:"state",show:!0,align:"center",render:({record:a})=>u(_("traveState",a.state).detailName)},{title:"出团日期开始",dataIndex:"startDate",show:!0,align:"center",render:({record:a})=>u(a.startDate)},{title:"出团日期截止",dataIndex:"endDate",show:!0,align:"center",render:({record:a})=>u(a.endDate)},{title:"操作",width:100,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}]},ee=J("span",{class:"mx-3"},"-",-1),te=D({name:"LineAdjustmentTourismExamine"}),se=D({...te,setup(_){const{vAuthority:a}=$(),{getDictionaryInfo:f}=V(),{form:o,resetForm:T}=j(()=>({routeName:"",travelType:"",supName:"",areaName:"",state:"",startDate:"",endDate:"",qrUrl:""}),()=>b()),{selectRow:ae,columnsData:h,visibleColumnsData:S,tableBaseOptions:s,resetData:b,extendTableList:C,changeTableColumn:I,changeTableSize:z}=q(Z(),()=>y()),{data:U}=F(async()=>{const{res:i}=await v(()=>Q.getSelectAreaList({cityFlag:"0"}));return(i==null?void 0:i.data)??[]}),{data:k,loading:A,initData:y}=K(async()=>{const{res:i,err:n}=await v(()=>X.getApplicationPriceExamineList({...o.value,currentPage:s.pagination.current,pageSize:s.pagination.pageSize,pagingOrNot:"1"}));return n?[]:(s.pagination.total=i.data.totalCount,C(i==null?void 0:i.data.travelRouteList))});return M(y),(i,n)=>{const N=d("a-input"),m=d("a-form-item"),p=d("a-grid-item"),g=d("a-select"),x=d("a-date-picker"),L=d("a-grid"),P=d("a-form"),B=d("a-button"),E=d("a-button-group"),R=d("a-table");return w(),O("div",null,[t(W,{fold:"","table-columns":e(h),"table-size":e(s).size,onResetSearch:e(T),onSearch:e(b),onChangeTableSize:e(z),onChangeTableColumn:e(I)},{form:l(({collapsed:c})=>[t(P,{model:e(o),"label-align":"left",size:"large","auto-label-width":""},{default:l(()=>[t(L,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12,collapsed:!c},{default:l(()=>[t(p,null,{default:l(()=>[t(m,{label:"线路:"},{default:l(()=>[t(N,{modelValue:e(o).routeName,"onUpdate:modelValue":n[0]||(n[0]=r=>e(o).routeName=r),modelModifiers:{trim:!0},placeholder:"请输入线路"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:l(()=>[t(m,{label:"旅行分类:"},{default:l(()=>[t(g,{modelValue:e(o).travelType,"onUpdate:modelValue":n[1]||(n[1]=r=>e(o).travelType=r),options:e(f)("travelType"),"field-names":{label:"detailName",value:"detailCode"},placeholder:"请选择旅行分类"},null,8,["modelValue","options"])]),_:1})]),_:1}),t(p,null,{default:l(()=>[t(m,{label:"供应商名称:"},{default:l(()=>[t(N,{modelValue:e(o).supName,"onUpdate:modelValue":n[2]||(n[2]=r=>e(o).supName=r),modelModifiers:{trim:!0},placeholder:"请输入供应商名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:l(()=>[t(m,{label:"地区:"},{default:l(()=>[t(g,{modelValue:e(o).areaName,"onUpdate:modelValue":n[3]||(n[3]=r=>e(o).areaName=r),"allow-search":"",options:e(U),"field-names":{label:"cityName",value:"cityName"},placeholder:"请选择地区"},null,8,["modelValue","options"])]),_:1})]),_:1}),t(p,null,{default:l(()=>[t(m,{label:"状态:"},{default:l(()=>[t(g,{modelValue:e(o).state,"onUpdate:modelValue":n[4]||(n[4]=r=>e(o).state=r),options:e(f)("traveState"),"field-names":{label:"detailName",value:"detailCode"},placeholder:"请选择状态"},null,8,["modelValue","options"])]),_:1})]),_:1}),t(p,null,{default:l(()=>[t(m,{label:"出团日期:"},{default:l(()=>[t(x,{modelValue:e(o).startDate,"onUpdate:modelValue":n[5]||(n[5]=r=>e(o).startDate=r),class:"flex1",placeholder:"出团开始日期"},null,8,["modelValue"]),ee,t(x,{modelValue:e(o).endDate,"onUpdate:modelValue":n[6]||(n[6]=r=>e(o).endDate=r),class:"flex1",placeholder:"出团截止日期"},null,8,["modelValue"])]),_:1})]),_:1})]),_:2},1032,["collapsed"])]),_:2},1032,["model"])]),table:l(()=>[t(R,{"selected-keys":e(s).selectedKeys,"onUpdate:selectedKeys":n[7]||(n[7]=c=>e(s).selectedKeys=c),class:"zs-table","row-key":"id",data:e(k),"row-selection":e(s).rowSelection,bordered:e(s).bordered,pagination:e(s).pagination,size:e(s).size,columns:e(S),stripe:e(s).stripe,loading:e(A)},{operate:l(({record:c})=>[t(E,null,{default:l(()=>[Y((w(),G(B,{type:"text",status:"warning",onClick:r=>i.$router.push(`/line/adjustmentTourism/operate?id=${c.id}`)},{default:l(()=>[H("审核")]),_:2},1032,["onClick"])),[[e(a),"LineAdjustmentTourismExamineExamine"]])]),_:2},1024)]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{se as default};

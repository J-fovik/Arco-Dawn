import{a as I,n as m,p as _,O as c,d as N,s as F,v as K,R as O,b as P,r as u,o as g,e as h,g as n,w as l,c as e,f as p,t as y,h as b,P as z,k as E}from"./index-8a2cb146.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{L as H}from"./limit-285f78d0.js";import"./index-2bbe694f.js";const J=()=>{const{getDictionaryItem:w}=I();return[{title:"充值账号",dataIndex:"zjzhh",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:t})=>m(t.zjzhh)},{title:"充值名称",dataIndex:"zjzhm",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:t})=>m(t.zjzhm)},{title:"营业部名称",dataIndex:"departName",show:!0,align:"center",render:({record:t})=>m(t.departName)},{title:"调整类型",dataIndex:"quoatType",show:!0,align:"center",width:100,render:({record:t})=>m(w("quoatType",t.quoatType).detailName)},{title:"充值总金额",dataIndex:"totalRechargeAmount",show:!0,align:"right",render:({record:t})=>_("span",{class:"text-red text-price"},c(`${t.totalRechargeAmount??"0"}`))},{title:"可用余额",dataIndex:"quota",show:!0,align:"right",render:({record:t})=>_("span",{class:"text-red text-price"},c(`${t.quota??"0"}`))},{title:"调整前额度",dataIndex:"beforeQuota",show:!0,align:"right",render:({record:t})=>_("span",{class:"text-red text-price"},c(`${t.beforeQuota??"0"}`))},{title:"调整额度",dataIndex:"changeQuoat",show:!0,align:"right",render:({record:t})=>_("span",{class:"text-red text-price"},c(`${t.changeQuoat??"0"}`))},{title:"调整后额度",dataIndex:"surplus",show:!0,align:"right",render:({record:t})=>_("span",{class:"text-red text-price"},c(`${t.surplus??"0"}`))},{title:"质量保证金",dataIndex:"retentionMoney",show:!0,ellipsis:!0,tooltip:!0,align:"right",render:({record:t})=>_("span",{class:"text-red text-price"},c(`${t.retentionMoney??"0"}`))},{title:"质量保证金备注",dataIndex:"retentionMoneyDesc",show:!0,align:"right",render:({record:t})=>m(t.retentionMoneyDesc)},{title:"调整额度说明",dataIndex:"quotaDesc",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:t})=>m(t.quotaDesc)},{title:"调整时间",dataIndex:"createTime",show:!0,align:"center",render:({record:t})=>m(t.createTime)}]},W=p("span",{class:"mx-3"},"-",-1),X={key:0},Y=p("span",null,"部门名称:",-1),Z={style:{"font-size":"20px"}},ee={key:1},te=p("span",{class:""},"充值总金额：",-1),ae={class:"text-red text-price",style:{"font-size":"20px"}},ne={key:2},oe=p("span",{class:""},"可用余额：",-1),le={class:"text-red text-price",style:{"font-size":"20px"}},re={key:3},se=p("span",{class:""},"质量保证金：",-1),ie={class:"text-red text-price",style:{"font-size":"20px"}},de=N({name:"LimitQuery"}),he=N({...de,setup(w){const{getDictionaryInfo:t}=I(),{form:s,resetForm:q}=F(()=>({departName:"",departNo:"",quoatType:"",startDate:"",endDate:""}),()=>v()),{selectRow:ue,columnsData:V,visibleColumnsData:C,tableBaseOptions:i,resetData:v,extendTableList:S,setSelectRow:ce,changeTableColumn:k,changeTableSize:R}=K(J(),()=>Q()),r=O({}),{data:M,loading:A,initData:Q}=P(async()=>{const{res:a,err:o}=await E(()=>H.getQuotaInquiry({...s.value,currentPage:i.pagination.current,pageSize:i.pagination.pageSize,pagingOrNot:"1"}));return o?[]:(i.pagination.total=a.data.totalCount,r.value.departName=a==null?void 0:a.data.departName,r.value.standardQuota=a==null?void 0:a.data.standardQuota,r.value.retentionMoney=a==null?void 0:a.data.retentionMoney,r.value.quota=a==null?void 0:a.data.quota,r.value.totalRechargeAmount=a==null?void 0:a.data.totalRechargeAmount,S(a==null?void 0:a.data.quotachangeList))});return(a,o)=>{const T=u("a-input"),x=u("a-form-item"),f=u("a-grid-item"),$=u("a-select"),D=u("a-date-picker"),U=u("a-grid"),L=u("a-form"),j=u("a-space"),B=u("a-table");return g(),h("div",null,[n(G,{"table-columns":e(V),"table-size":e(i).size,onResetSearch:e(q),onSearch:e(v),onChangeTableSize:e(R),onChangeTableColumn:e(k)},{form:l(()=>[n(L,{model:e(s),"label-align":"left",size:"large","auto-label-width":""},{default:l(()=>[n(U,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:l(()=>[n(f,null,{default:l(()=>[n(x,{label:"部门名称:"},{default:l(()=>[n(T,{modelValue:e(s).departName,"onUpdate:modelValue":o[0]||(o[0]=d=>e(s).departName=d),modelModifiers:{trim:!0},placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),n(f,null,{default:l(()=>[n(x,{label:"部门代码:"},{default:l(()=>[n(T,{modelValue:e(s).departNo,"onUpdate:modelValue":o[1]||(o[1]=d=>e(s).departNo=d),modelModifiers:{trim:!0},placeholder:"请输入部门代码"},null,8,["modelValue"])]),_:1})]),_:1}),n(f,null,{default:l(()=>[n(x,{label:"调整类型:"},{default:l(()=>[n($,{placeholder:"请选择调整类型",modelValue:e(s).quoatType,"onUpdate:modelValue":o[2]||(o[2]=d=>e(s).quoatType=d),options:e(t)("quoatType"),"field-names":{label:"detailName",value:"detailCode"}},null,8,["modelValue","options"])]),_:1})]),_:1}),n(f,null,{default:l(()=>[n(x,{label:"选择调整时间:"},{default:l(()=>[n(D,{modelValue:e(s).startDate,"onUpdate:modelValue":o[3]||(o[3]=d=>e(s).startDate=d),class:"flex1",placeholder:"调整时间开始"},null,8,["modelValue"]),W,n(D,{modelValue:e(s).endDate,"onUpdate:modelValue":o[4]||(o[4]=d=>e(s).endDate=d),class:"flex1",placeholder:"调整时间结束"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),statistics:l(()=>[n(j,{size:"large"},{default:l(()=>[r.value.departName?(g(),h("div",X,[Y,p("span",Z,y(r.value.departName),1)])):b("",!0),r.value.totalRechargeAmount?(g(),h("div",ee,[te,p("span",ae,y(e(c)(e(z)(r.value.totalRechargeAmount))),1)])):b("",!0),r.value.quota?(g(),h("div",ne,[oe,p("span",le,y(e(c)(e(z)(r.value.quota))),1)])):b("",!0),r.value.retentionMoney?(g(),h("div",re,[se,p("span",ie,y(e(c)(e(z)(r.value.retentionMoney))),1)])):b("",!0)]),_:1})]),table:l(()=>[n(B,{"selected-keys":e(i).selectedKeys,"onUpdate:selectedKeys":o[5]||(o[5]=d=>e(i).selectedKeys=d),class:"zs-table","row-key":"id",data:e(M),"row-selection":e(i).rowSelection,bordered:e(i).bordered,pagination:e(i).pagination,size:e(i).size,columns:e(C),stripe:e(i).stripe,loading:e(A)},null,8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{he as default};

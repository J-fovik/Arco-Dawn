import{n as c,p as U,O as q,P as j,d as C,q as G,s as H,v as J,x as Q,y as W,r as l,o as u,e as X,g as s,w as t,c as e,z as b,l as S,i as m,k as y,A as Y}from"./index-8a2cb146.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import{L as w}from"./landscape-a6fd59d7.js";import"./index-2bbe694f.js";const ee=()=>[{title:"景区编号",dataIndex:"scenicNo",show:!0,align:"center",render:({record:a})=>c(a.scenicNo)},{title:"购物项目名称",dataIndex:"shopName",show:!0,align:"center",render:({record:a})=>c(a.shopName)},{title:"购物项目简介",dataIndex:"shopDesc",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:a})=>c(a.shopDesc)},{title:"购物金额",dataIndex:"shopMoney",show:!0,align:"right",render:({record:a})=>U("span",{class:"text-price text-red"},q(j(`${a.shopMoney}`)))},{title:"购物时间",dataIndex:"shopTime",show:!0,align:"center",render:({record:a})=>c(a.shopTime)},{title:"购物项目其他注意事项",dataIndex:"shopInfo",show:!0,ellipsis:!0,tooltip:!0,align:"center",render:({record:a})=>c(a.shopInfo)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],te=C({name:"ScenicSpotShopManage"}),le=C({...te,setup(a){const{vAuthority:g}=G(),{warningModal:x}=Y(),{form:p,resetForm:T}=H(()=>({shopName:""}),()=>f()),{columnsData:N,visibleColumnsData:z,tableBaseOptions:o,resetData:f,extendTableList:k,changeTableColumn:v,changeTableSize:M}=J(ee(),()=>_()),$=i=>{x(`确定操作选中的${o.selectedKeys.length}数据吗？`,async n=>{const{res:h}=await y(()=>w[i]({idList:o.selectedKeys}),{successMsg:"操作成功"});n(!0),h&&(o.selectedKeys=[],_())})},{data:D,loading:I,initData:_}=Q(async()=>{const{res:i,err:n}=await y(()=>w.getScenicSpotShopList({...p.value,currentPage:o.pagination.current,pageSize:o.pagination.pageSize,pagingOrNot:"1"}));return n?[]:(o.pagination.total=i.data.totalCount,k(i==null?void 0:i.data.shopList))});return W(_),(i,n)=>{const h=l("a-input"),A=l("a-form-item"),K=l("a-grid-item"),L=l("a-grid"),R=l("a-form"),V=l("icon-plus"),d=l("a-button"),B=l("icon-close"),O=l("a-space"),P=l("a-button-group"),E=l("a-table");return u(),X("div",null,[s(Z,{"table-columns":e(N),"table-size":e(o).size,onResetSearch:e(T),onSearch:e(f),onChangeTableSize:e(M),onChangeTableColumn:e(v)},{form:t(()=>[s(R,{model:e(p),"label-align":"left",size:"large","auto-label-width":""},{default:t(()=>[s(L,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:t(()=>[s(K,null,{default:t(()=>[s(A,{field:"shopName",label:"购物项目名称:"},{default:t(()=>[s(h,{modelValue:e(p).shopName,"onUpdate:modelValue":n[0]||(n[0]=r=>e(p).shopName=r),placeholder:"请输入购物项目名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),operate:t(()=>[s(O,null,{default:t(()=>[b((u(),S(d,{type:"outline",onClick:n[1]||(n[1]=r=>i.$router.push("/scenicSpot/shopManage/operate"))},{icon:t(()=>[s(V)]),default:t(()=>[m(" 新增 ")]),_:1})),[[e(g),"ScenicSpotShopManageAdd"]]),b((u(),S(d,{type:"outline",status:"danger",disabled:!e(o).selectedKeys.length,onClick:n[2]||(n[2]=r=>$("deleteScenicSpotShop"))},{icon:t(()=>[s(B)]),default:t(()=>[m(" 删除 ")]),_:1},8,["disabled"])),[[e(g),"ScenicSpotShopManageDelete"]])]),_:1})]),table:t(()=>[s(E,{"selected-keys":e(o).selectedKeys,"onUpdate:selectedKeys":n[3]||(n[3]=r=>e(o).selectedKeys=r),class:"zs-table","row-key":"id",data:e(D),"row-selection":e(o).rowSelection,bordered:e(o).bordered,pagination:e(o).pagination,size:e(o).size,columns:e(z),stripe:e(o).stripe,loading:e(I)},{operate:t(({record:r})=>[s(P,null,{default:t(()=>[s(d,{type:"text",status:"success",onClick:F=>i.$router.push(`/scenicSpot/shopManage/operate?id=${r.id}&isReadOnly=true`)},{default:t(()=>[m("详情")]),_:2},1032,["onClick"]),b((u(),S(d,{type:"text",onClick:F=>i.$router.push(`/scenicSpot/shopManage/operate?id=${r.id}`)},{default:t(()=>[m("编辑")]),_:2},1032,["onClick"])),[[e(g),"ScenicSpotShopManageEdit"]])]),_:2},1024)]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{le as default};

import{n as c,d as y,E,s as O,v as q,b as B,r as o,o as L,e as P,g as a,w as t,c as e,i as g,k as F,A as G,S as Q,Q as Y}from"./index-8a2cb146.js";import{A as j}from"./options-aafac76d.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_name_ZsSearchTableMould_lang-54cd5f3e.js";import"./index-2bbe694f.js";const J=[{label:"男",value:"0"},{label:"女",value:"1"}],W=()=>[{title:"姓名",dataIndex:"userName",show:!0,align:"center",render:({record:n})=>c(n.userName)},{title:"性别",dataIndex:"userSex",show:!0,align:"center",render:({record:n})=>c("男")},{title:"手机号",dataIndex:"phoneNumber",show:!0,align:"center",render:({record:n})=>c(n.phoneNumber)},{title:"供应商",dataIndex:"userAge",show:!0,align:"center",render:({record:n})=>c(n.userAge)},{title:"客服类型",dataIndex:"cardType",show:!0,align:"center",render:({record:n})=>c(n.cardType)},{title:"qq",dataIndex:"cardNo",show:!0,align:"center",render:({record:n})=>c(n.cardNo)},{title:"微信",dataIndex:"cardNo",show:!0,align:"center",render:({record:n})=>c(n.cardNo)},{title:"邮箱",dataIndex:"cardNo",show:!0,align:"center",render:({record:n})=>c(n.cardNo)},{title:"操作",width:200,dataIndex:"operate",slotName:"operate",show:!0,align:"center"}],X=y({name:"SystemCustomerServiceManage"}),le=y({...X,setup(n){const{warningModal:x}=G(),[S,Z]=E(null),{form:i,resetForm:T}=O(()=>({userName:"",userSex:""}),()=>f()),{selectRow:ee,columnsData:h,visibleColumnsData:w,tableBaseOptions:r,resetData:f,extendTableList:C,setSelectRow:ae,changeTableColumn:U,changeTableSize:A}=q(W(),()=>N()),D=m=>{x(`确定操作选中的${r.selectedKeys.length}数据吗？`,async s=>{const{err:b}=await F(()=>Q[m]({idList:r.selectedKeys}),{successMsg:"操作成功"});b||(s(!0),r.selectedKeys=[],N())})},{data:I,loading:k,initData:N}=B(async()=>(await Y(1e3),r.pagination.total=10,C([{id:"baec8756f73749c8b05b5e915bee6dd7",loginName:"王某某",userName:"王某某",userAge:"18",userSex:"男",cardNo:"39992999333992293",isCancel:"1",createTime:"20231030100541",createUser:"1c5fe4a424394b7baac5c99b3c321629",isDelete:"0",cardType:"身份证",roleName:"操作员",createUserName:"admin"},{id:"fe6bfc3ae234413087733a43969445d6",loginName:"冷某某",userName:"冷某某",userSex:"男",userAge:"19",cardNo:"39992999333992293",isCancel:"1",createTime:"20231030100059",createUser:"1c5fe4a424394b7baac5c99b3c321629",isDelete:"0",roleName:"操作员",cardType:"身份证",createUserName:"admin"},{id:"aabfec4729554345aa6a370cc879678c",loginName:"limaoqiang",userName:"李某某",userSex:"女",cardNo:"39992999333992293",userAge:"20",isCancel:"1",createTime:"20231023094218",createUser:"1c5fe4a424394b7baac5c99b3c321629",isDelete:"0",roleName:"代理商",cardType:"身份证",createUserName:"admin"},{id:"fb15a7a9e9934bc68e5d048845038b8f",loginName:"test001",userName:"淘某某",userAge:"21",cardNo:"39992999333992293",userSex:"男",isCancel:"1",createTime:"20231017152418",createUser:"1c5fe4a424394b7baac5c99b3c321629",isDelete:"0",cardType:"身份证",roleName:"代理商",createUserName:"admin"},{id:"1c5fe4a424394b7baac5c99b3c321629",loginName:"admin",userName:"admin",isCancel:"1",userAge:"22",cardNo:"39992999333992293",cardType:"身份证",userSex:"男",createTime:"20190720151732",createUser:"1c5fe4a424394b7baac5c99b3c321629",isDelete:"0",roleName:"系统管理员",createUserName:"admin"}])));return(m,s)=>{const b=o("a-input"),d=o("a-form-item"),u=o("a-grid-item"),p=o("a-select"),v=o("a-grid"),z=o("a-form"),K=o("icon-plus"),_=o("a-button"),V=o("router-link"),M=o("icon-close"),R=o("a-space"),$=o("a-table");return L(),P("div",null,[a(H,{"table-columns":e(h),"table-size":e(r).size,onResetSearch:e(T),onSearch:e(f),onChangeTableSize:e(A),onChangeTableColumn:e(U)},{form:t(()=>[a(z,{model:e(i),"label-align":"left",size:"large","auto-label-width":""},{default:t(()=>[a(v,{cols:{md:3,lg:3,xl:3,xxl:4},"col-gap":12},{default:t(()=>[a(u,null,{default:t(()=>[a(d,{label:"姓名:"},{default:t(()=>[a(b,{modelValue:e(i).userName,"onUpdate:modelValue":s[0]||(s[0]=l=>e(i).userName=l),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(d,{label:"性别:"},{default:t(()=>[a(p,{modelValue:e(i).userSex,"onUpdate:modelValue":s[1]||(s[1]=l=>e(i).userSex=l),options:[...e(j),...e(J)]},null,8,["modelValue","options"])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(d,{label:"客服所属:"},{default:t(()=>[a(p,{placeholder:"请选择所属部门/供应商"})]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(d,{label:"客服类型:"},{default:t(()=>[a(p,{placeholder:"请选择客服类型"})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),operate:t(()=>[a(R,null,{default:t(()=>[a(V,{to:"/system/customerManage/operate"},{default:t(()=>[a(_,{type:"outline"},{icon:t(()=>[a(K)]),default:t(()=>[g(" 新增 ")]),_:1})]),_:1}),a(_,{type:"outline",status:"danger",disabled:!e(r).selectedKeys.length,loading:e(S)==="删除",onClick:s[2]||(s[2]=l=>D("batchDeleteUser"))},{icon:t(()=>[a(M)]),default:t(()=>[g(" 删除 ")]),_:1},8,["disabled","loading"])]),_:1})]),table:t(()=>[a($,{"selected-keys":e(r).selectedKeys,"onUpdate:selectedKeys":s[3]||(s[3]=l=>e(r).selectedKeys=l),class:"zs-table","row-key":"id",data:e(I),"row-selection":e(r).rowSelection,bordered:e(r).bordered,pagination:e(r).pagination,size:e(r).size,columns:e(w),stripe:e(r).stripe,loading:e(k)},{operate:t(({record:l})=>[a(_,{type:"text",onClick:te=>m.$router.push(`/system/customerManage/operate?id=${l.id}`)},{default:t(()=>[g("编辑")]),_:2},1032,["onClick"])]),_:1},8,["selected-keys","data","row-selection","bordered","pagination","size","columns","stripe","loading"])]),_:1},8,["table-columns","table-size","onResetSearch","onSearch","onChangeTableSize","onChangeTableColumn"])])}}});export{le as default};

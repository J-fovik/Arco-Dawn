import{n as v,p as n,O as r,P as s,d as A,u as B,C as D,R as w,r as i,o as x,l as V,w as t,g as a,i as p,t as o,c as u,e as h,h as I,f as N,k as j}from"./index-8a2cb146.js";import{Z as q}from"./index-2bbe694f.js";import{R as z}from"./reconciliation-6ca30c07.js";const E=[{title:"姓名",show:!0,dataIndex:"name",align:"center",render:({record:e})=>v(e.name)},{title:"证件号码",show:!0,dataIndex:"idNumber",align:"center",render:({record:e})=>v(e.idNumber)},{title:"调整前订单报名同行价(元)",show:!0,dataIndex:"signCost",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.signCost)))},{title:"调整前单房差价(元)",show:!0,dataIndex:"diffFree",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.diffFree)))},{title:"调整前其他价格(元)",show:!0,dataIndex:"otherFee",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.otherFee)))},{title:"调整前总计(元)",show:!0,dataIndex:"supSigCost",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.supSigCost)))},{title:"调整后订单报名同行价(元)",show:!0,dataIndex:"signCostAfter",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.signCostAfter)))},{title:"调整后单房差价(元)",show:!0,dataIndex:"diffFreeAfter",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.diffFreeAfter)))},{title:"调整后其他价格(元)",show:!0,dataIndex:"otherFeeAfter",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.otherFeeAfter)))},{title:"调整后总计(元)",show:!0,dataIndex:"supSigCostAfter",align:"right",render:({record:e})=>n("span",{class:"text-red text-price"},r(s(e.supSigCostAfter)))}],H={key:0,class:"text-red"},L={key:1,class:"text-red text-price"},P={key:2,style:{"text-align":"right"}},Z={class:"text-red text-price"},G={class:"box-flex jc-c margin-top"},J=A({name:"ReconciliationHistoryRecordOperate"}),W=A({...J,setup(e){const C=B(),{jumpTabName:S}=D(),b=w([]),c=w({}),F=async()=>{const{res:d,err:_}=await j(()=>z.getOrderHistoryDetail({id:C.query.id}));_||(b.value=d==null?void 0:d.data.hisCustomerInfoList,c.value=d==null?void 0:d.data.hisSignupRecord)};return C.query.id&&F(),(d,_)=>{const f=i("a-tag"),g=i("a-descriptions-item"),k=i("a-descriptions"),y=i("a-card"),R=i("a-table"),T=i("a-button"),O=i("a-space");return x(),V(q,null,{default:t(()=>[a(y,{title:"基本信息",bordered:!1,class:"general-card"},{default:t(()=>[a(k,{column:1},{default:t(()=>[a(g,{label:"线路名称："},{default:t(()=>[a(f,null,{default:t(()=>[p(o(c.value.routeName),1)]),_:1})]),_:1}),a(g,{label:"团号："},{default:t(()=>[a(f,null,{default:t(()=>[p(o(c.value.groupId),1)]),_:1})]),_:1}),a(g,{label:"旅行类型："},{default:t(()=>[a(f,null,{default:t(()=>[p(o(c.value.travelName),1)]),_:1})]),_:1}),a(g,{label:"成团类别："},{default:t(()=>[a(f,null,{default:t(()=>[p(o(c.value.signupType==1?"单团":"散客"),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(y,{title:"游客信息",bordered:!1,class:"general-card margin-top"},{default:t(()=>[a(R,{size:"large",columns:u(E),data:b.value,pagination:!1,bordered:!1,summary:!0,"summary-text":"总计"},{"summary-cell":t(({column:l,record:m,rowIndex:K})=>[l.dataIndex=="name"?(x(),h("div",H,o(m[l.dataIndex]),1)):I("",!0),l.dataIndex=="supSigCost"?(x(),h("div",L,o(u(r)(u(s)(m[l.dataIndex]))),1)):I("",!0),l.dataIndex=="supSigCostAfter"?(x(),h("div",P,[N("div",Z,o(u(r)(u(s)(m[l.dataIndex]))),1)])):I("",!0)]),_:1},8,["columns","data"]),N("div",G,[a(O,{class:"margin-top",size:"large"},{default:t(()=>[a(T,{size:"large",onClick:_[0]||(_[0]=()=>u(S)())},{default:t(()=>[p("返回")]),_:1})]),_:1})])]),_:1})]),_:1})}}});export{W as default};

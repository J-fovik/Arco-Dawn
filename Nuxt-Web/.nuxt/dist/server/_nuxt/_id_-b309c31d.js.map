{"version":3,"file":"_id_-b309c31d.js","sources":["../../../../composables/useRequest.ts","../../../../pages/jobLibrary/[id].vue"],"sourcesContent":["export default <T = any>(api: () => Promise<any>, defaultValue = {} as T) => {\n\t// 信息\n\tconst data = ref<T>(defaultValue);\n\t// loading\n\tconst [loading, setLoading] = useBasicsState(false);\n\t// 初始化\n\tconst initData = async () => {\n\t\t// loading\n\t\tsetLoading(true);\n\t\t// 获取数据\n\t\tconst res: any = await api();\n\t\t// 设置信息\n\t\tdata.value = res;\n\t\t// loading\n\t\tsetLoading(false);\n\t};\n\tinitData();\n\t// 暴露API\n\treturn { data, initData, loading };\n};\n","<template>\r\n\t<div class=\"max-w-container mx-auto min-h-[70vh]\">\r\n\t\t<div v-if=\"!error\">\r\n\t\t\t<a-list :bordered=\"false\" :loading=\"loading\">\r\n\t\t\t\t<div class=\"text-[32px] font-bold mt-[35px]\">{{ jobDetail.levelName }}</div>\r\n\t\t\t\t<div class=\"mt-[20px]\">\r\n\t\t\t\t\t<span class=\"bg-[#FFF7F0] text-[#FFA864] p-[5px]\"\r\n\t\t\t\t\t\t>{{ jobDetail.level1Name\r\n\t\t\t\t\t\t}}{{ jobDetail.level2Name ? '/' + jobDetail.level2Name : ''\r\n\t\t\t\t\t\t}}{{ jobDetail.level3Name ? '/' + jobDetail.level3Name : '' }}</span\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 职业介绍 -->\r\n\t\t\t\t<div v-if=\"jobDetail.introduce\" class=\"mt-[20px]\">\r\n\t\t\t\t\t<zs-title title=\"职业介绍\" size=\"small\" />\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"mt-[10px] p-[15px_20px] bg-[#F5F5F5] leading-[20px]\"\r\n\t\t\t\t\t\tv-html=\"jobDetail.introduce\"\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 匹配大学生专业 -->\r\n\t\t\t\t<div v-if=\"jobDetail.isBkMajor || jobDetail.isZkMajor\" class=\"mt-[20px]\">\r\n\t\t\t\t\t<zs-title title=\"匹配大学专业\" size=\"small\" />\r\n\t\t\t\t\t<!-- 本科专业 -->\r\n\t\t\t\t\t<div class=\"mt-[10px]\" v-if=\"jobDetail.isBkMajor\">\r\n\t\t\t\t\t\t本科专业：<span\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in jobDetail.bkMajorList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\tclass=\"mr-[20px] text-[#FFA864] cursor-pointer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<nuxt-link :to=\"`/major/${item.id}`\">\r\n\t\t\t\t\t\t\t\t{{ item.zymc }}\r\n\t\t\t\t\t\t\t</nuxt-link>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- 专科专业 -->\r\n\t\t\t\t\t<div class=\"mt-[10px]\" v-if=\"jobDetail.isZkMajor\">\r\n\t\t\t\t\t\t专科专业：<span\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in jobDetail.zkMajorList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\tclass=\"mr-[20px] text-[#FFA864] cursor-pointer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<nuxt-link :to=\"`/major/${item.id}`\">\r\n\t\t\t\t\t\t\t\t{{ item.zymc }}\r\n\t\t\t\t\t\t\t</nuxt-link>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</a-list>\r\n\t\t</div>\r\n\t\t<zs-no-data v-else>\r\n\t\t\t<div>糟糕，页面好像没找到</div>\r\n\t\t</zs-no-data>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n// 设置头信息\r\nuseHead({\r\n\ttitle: '职业库详情',\r\n});\r\n// 避免输入框输入\r\nconst error = ref(false);\r\n// 全局插件\r\nconst { $zsFetch } = useNuxtApp();\r\n// loading\r\nconst [loading, setLoading] = useBasicsState(false);\r\n// 路由信息\r\nconst route = useRoute();\r\n// 获取职业详情\r\nconst { data: jobDetail } = useRequest<any>(async () => {\r\n\t// loading 开启\r\n\tsetLoading(true);\r\n\tconst [err, res] = await $zsFetch(API_URLS.MORE.GET_PROFESSION_INFO, {\r\n\t\tbody: {\r\n\t\t\tid: route.params.id,\r\n\t\t},\r\n\t});\r\n\t// 处理错误\r\n\tif (res.data === '职业不存在') {\r\n\t\terror.value = true;\r\n\t\tsetLoading(false);\r\n\t\treturn;\r\n\t}\r\n\t// loading 开启\r\n\tsetLoading(false);\r\n\treturn {\r\n\t\t...res?.data,\r\n\t\tisBkMajor: res?.data?.bkMajorList?.length > 0 ? true : false,\r\n\t\tisZkMajor: res?.data?.zkMajorList?.length > 0 ? true : false,\r\n\t};\r\n});\r\n</script>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAA,aAAe,CAAU,KAAyB,eAAe,OAAY;AAEtE,QAAA,OAAO,IAAO,YAAY;AAEhC,QAAM,CAAC,SAAS,UAAU,IAAI,eAAe,KAAK;AAElD,QAAM,WAAW,YAAY;AAE5B,eAAW,IAAI;AAET,UAAA,MAAW,MAAM;AAEvB,SAAK,QAAQ;AAEb,eAAW,KAAK;AAAA,EAAA;AAER;AAEF,SAAA,EAAE,MAAM,UAAU;AAC1B;;;;;ACwCA,YAAA;AAAA,MAAQ,OAAA;AAAA,IACA,CAAA;AAGR,UAAA,QAAA,IAAA,KAAA;AAEA,UAAA,EAAA,aAAA;AAEA,UAAA,CAAA,SAAA,UAAA,IAAA,eAAA,KAAA;AAEA,UAAA,QAAA;AAEA,UAAA,EAAA,MAAA,UAAA,IAAA,WAAA,YAAA;;AAEC,iBAAA,IAAA;AACA,YAAA,CAAA,KAAA,GAAA,IAAA,MAAA,SAAA,SAAA,KAAA,qBAAA;AAAA,QAAqE,MAAA;AAAA,UAC9D,IAAA,MAAA,OAAA;AAAA,QACY;AAAA,MAClB,CAAA;AAGD,UAAA,IAAA,SAAA,SAAA;AACC,cAAA,QAAA;AACA,mBAAA,KAAA;AACA;AAAA,MAAA;AAGD,iBAAA,KAAA;AACA,aAAA;AAAA,QAAO,GAAA,2BAAA;AAAA,QACE,aAAA,sCAAA,SAAA,mBAAA,gBAAA,mBAAA,UAAA,IAAA,OAAA;AAAA,QAC+C,aAAA,sCAAA,SAAA,mBAAA,gBAAA,mBAAA,UAAA,IAAA,OAAA;AAAA,MACA;AAAA,IACxD,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
import{u as D,h as J,J as P,A as U,B as j,p as H,n as Q,f as q,C as K,s as W,T as X,G as Y,w as Z,_ as ee}from"./entry.1a40d7cc.js";import{_ as te}from"./index.vue.bf4eae92.js";import{_ as se}from"./nuxt-link.bd044dc4.js";import{C as oe}from"./index.c09b6156.js";import{_ as ae}from"./index.vue.52b77a9f.js";/* empty css              */import{u as ne}from"./useLoading.249b570c.js";import{m as le,a as ce,p as g,D as r,E as p,Q as o,L as l,M as n,u as t,R as f,N,O as w,P as b,I as re,_ as y,aa as ie,ab as de}from"./swiper-vue.1d76a0fa.js";const C=u=>(ie("data-v-ec566f23"),u=u(),de(),u),_e={class:"max-w-container mx-auto"},pe={class:"flex items-center mt-[20px]"},ue={class:"w-[150px]"},me={class:"w-full ml-[20px]"},fe={class:"w-[120px] ml-[20px]"},xe={class:"mt-[20px]"},ve={class:"mt-[10px]"},he={class:"flex items-center my-[20px]"},ge=C(()=>o("div",{class:"rounded-[0px_6px_6px_0px] bg-[#7C92FF] w-[8px] h-[20px]"},null,-1)),Ne={class:"ml-[10px] text-[18px] text-[#333] font-bold"},we={class:"flex items-center"},be={class:"w-[300px] truncate text-[16px] font-bold"},Le={class:"text-[#7c92ff] truncate w-[80%] text-[16px] cursor-pointer"},ye=C(()=>o("div",null,"糟糕，未查询到匹配职业",-1)),Ce=le({__name:"index",setup(u){D({title:"职业库"});const{setGlobalLoading:x}=ne(),{$zsFetch:k}=q(),{form:e}=J(()=>({perfectMatch:!1,professionName:"",levelName:"",selectList:[],show:!1})),I=a=>{e.value.levelName=a.levelName,e.value.selectList=P(v.value[0].options,a.levelName).children},v=ce([{title:"职业大类",key:"levelName",isShow:!0,multiple:!1,options:[]}]);(async()=>{var d,m;await x(!0);const[a,s]=await k(U.MORE.GET_PROFESSION,{body:{}});if(a)return x(!1);const i=s.data.map(_=>({..._,value:_.levelName,label:_.levelName}))??[];v.value[0].options=i,e.value.show=!0,e.value.levelName=(d=i[0])==null?void 0:d.levelName,e.value.selectList=(m=i[0])==null?void 0:m.children,x(!1)})();const V=g(()=>e.value.selectList.length),S=g(()=>e.value.selectList.reduce((a,s)=>a+s.children.length,0)),B=g(()=>e.value.selectList.reduce((a,s)=>a+s.children.reduce((i,d)=>i+d.children.length,0),0));return(a,s)=>{const i=K,d=j,m=W,_=H,F=te,G=X,T=se,$=Y,z=Z,M=oe,E=ae;return r(),p("div",_e,[o("div",pe,[o("div",ue,[l(d,{size:"large"},{default:n(()=>[l(i,{modelValue:t(e).perfectMatch,"onUpdate:modelValue":s[0]||(s[0]=c=>t(e).perfectMatch=c),onChange:s[1]||(s[1]=c=>!t(e).perfectMatch)},{default:n(()=>[y(" 完全匹配 ")]),_:1},8,["modelValue"])]),_:1})]),o("div",me,[l(_,{size:"large",modelValue:t(e).professionName,"onUpdate:modelValue":s[2]||(s[2]=c=>t(e).professionName=c),class:"rounded-lg h-[38px]",placeholder:"搜索你感兴趣的职业","allow-clear":""},{prefix:n(()=>[l(m)]),_:1},8,["modelValue"])]),o("div",fe,[l(d,{type:"primary",size:"large",class:"openButton w-[120px]",onClick:s[3]||(s[3]=c=>t(e).professionName?("navigateTo"in a?a.navigateTo:t(Q))(`/jobLibrary/search?keyword=${t(e).professionName}`):"")},{default:n(()=>[y(" 搜索 ")]),_:1})])]),l(F,{data:t(v),"default-values":t(e),onChange:I,class:"mt-[20px]"},null,8,["data","default-values"]),o("div",xe,[o("div",ve,f(t(V)+"个职业中类、"+t(S)+"个职业小类、"+t(B)+"个职业"),1),(r(!0),p(N,null,w(t(e).selectList,(c,O)=>(r(),p("div",{key:O},[o("div",he,[ge,o("div",Ne,f(c.levelName),1)]),(r(!0),p(N,null,w(c.children,(L,R)=>(r(),b(M,{key:R,class:"mb-[10px] card-box-shadow rounded-[8px]",hoverable:"",bordered:!1},{default:n(()=>[o("div",we,[o("div",be,f(L.levelName),1),l(z,{cols:3,colGap:12,rowGap:16,class:"flex-1"},{default:n(()=>[(r(!0),p(N,null,w(L.children,(h,A)=>(r(),b($,{key:A,class:"h-[35px] leading-[35px] px-[10px]"},{default:n(()=>[l(T,{to:`/jobLibrary/${h.id}`},{default:n(()=>[l(G,{content:h.levelName,position:"lt"},{default:n(()=>[o("div",Le,f(h.levelName),1)]),_:2},1032,["content"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024))),128))]))),128)),!t(e).selectList.length&&t(e).show?(r(),b(E,{key:0},{default:n(()=>[ye]),_:1})):re("",!0)])])}}});const ze=ee(Ce,[["__scopeId","data-v-ec566f23"]]);export{ze as default};

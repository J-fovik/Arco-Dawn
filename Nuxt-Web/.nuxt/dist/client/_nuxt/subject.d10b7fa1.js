import{a as De,b as Xe,g as ge,h as le,N as oe,A as W,J as et,ac as ae,aa as tt,ab as ot,e as Q,n as Be,t as w,a1 as $e,f as Je,d as He,x as at,C as lt,B as We,s as nt,p as Ge,Y as bt,z as xt,R as gt,S as st,a2 as vt,Z as kt,_ as it,r as Ct,K as Ye,c as Re,k as zt,u as wt}from"./entry.1a40d7cc.js";import{_ as ct}from"./index.vue.bf4eae92.js";import{_ as dt}from"./index.vue.316b2516.js";import{T as Ne}from"./index.112674ac.js";import{b as Ze,L as qe}from"./index.83d9b74c.js";import{_ as rt}from"./index.vue.372ac32c.js";import{P as ut}from"./index.a57cdc53.js";/* empty css              */import{u as ke}from"./usePagination.9cd68578.js";import{m as we,p as pt,a as Ke,D as u,E as C,Q as t,u as e,N as G,L as l,I as O,M as n,R as i,G as me,_ as k,O as ve,P as ne,aa as mt,ab as _t,H as ze,ad as Ae}from"./swiper-vue.1d76a0fa.js";import{_ as ft}from"./index.6045a630.js";import"./index.30d5eb30.js";const Le=D=>(mt("data-v-6feaa5d0"),D=D(),_t(),D),Lt={class:"bg-[#F9F9F9] p-[10px_20px] mt-[20px] rounded-[8px]"},Et=Le(()=>t("span",null,"选择科目：",-1)),It=Le(()=>t("span",null,"首选科目：",-1)),Ot={class:"mt-[5px]"},Tt=Le(()=>t("span",null,"次选科目：",-1)),Ft={class:"flex items-center"},jt={class:"w-[150px]"},$t={class:"w-full ml-[20px]"},Dt={class:"w-[120px] ml-[20px]"},Nt={class:"flex items-center justify-between"},Mt=["onClick"],Pt=["onClick"],Vt=Le(()=>t("i",{class:"iconfont icon-xiala text-[#FFA864] ml-[3px]"},null,-1)),Ut={key:0},Rt={class:"text-left"},At={class:"flex items-center"},Bt={class:"w-[150px]"},Ht={class:"w-full ml-[20px]"},Kt={class:"w-[120px] ml-[20px] rounded-[8px]"},Xt={key:0},Jt={key:1},Wt={key:2},Gt={key:3},Zt={class:"my-[10px] text-[#FFA864]"},qt={key:0},Qt={key:0},Yt={key:1},eo={key:2},to={key:3},oo={class:"flex items-center justify-between"},ao=["onClick"],lo={class:"text-[20px] text-[#333333] mb-[10px] font-bold"},no={class:"mt-[10px]"},so=Le(()=>t("span",{class:"w-[2px] h-[8px] text-[#999]"},"|",-1)),io={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},co={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},ro={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},uo={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},po={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},mo={class:"text-price"},_o=["onClick"],ho=Le(()=>t("i",{class:"iconfont icon-xiala text-[#FFA864] ml-[3px]"},null,-1)),xo={key:0},go={class:"mt-[20px]"},vo={class:"text-left flex items-center"},Co=["src"],fo={class:"ml-[10px]"},yo={class:"text-left"},So=we({__name:"index",setup(D){var xe;const{$zsFetch:v}=Je(),{userInfo:m}=De(),{provinceCityList:V,provinceList:N,getDictionValue:T}=Xe(),[Z,U]=ge(!1),[y,P]=ge(!1),[h,b]=ge(!1),{form:a}=le(()=>({province:"",gkms:"",subjectList:[],firstSubjectList:[],secondSubjectList:[],activeTabKey:"school",schoolList:[],majorList:[],matchRadioList:[{label:"高匹配",value:"3"},{label:"中匹配",value:"2"},{label:"低匹配",value:"1"}],curMajorMatchSchoolList:[],zydm:"",matchNum:{}})),X=pt(()=>[...a.value.firstSubjectList,...a.value.secondSubjectList]),ie=o=>{o==="3+3"?a.value.subjectList.length===3&&(z(),g()):o==="3+1+2"&&X.value.length===3&&(z(),g())},q=async(o,s,p)=>{o==="school"?s.collapsed?a.value.schoolList.forEach(I=>I.collapsed=!1):(a.value.schoolList.forEach(I=>I.collapsed=!1),a.value.schoolList[p].collapsed=!s.collapsed):o==="major"&&(a.value.zydm=s.zydm,s.collapsed?a.value.majorList.forEach(I=>I.collapsed=!1):(a.value.majorList.forEach(I=>I.collapsed=!1),a.value.majorList[p].collapsed=!s.collapsed,await Ie(),re()))},{form:F}=le(()=>({sf:"",yxlx:"",cc:"",bxxz:"",slbq:"",tsbq:"",isMatch:!1,yxmc:""})),{pagination:x,resetData:z,onPageChange:Y,onPageSizeChange:ee}=ke(()=>{window.scrollTo(0,0),j()}),Ce=Ke([{title:"所在地区",key:"sf",isShow:!0,multiple:!1,options:[...oe,...V.value]},{title:"院校类型",key:"yxlx",isShow:!0,multiple:!1,options:[...oe,...T("YXLX")]},{title:"院校层次",key:"cc",isShow:!0,multiple:!1,options:[...oe,...T("BXCC")]},{title:"办学性质",key:"bxxz",isShow:!0,multiple:!1,options:[...oe,...T("BXXZ")]},{title:"实力标签",key:"slbq",isShow:!0,multiple:!1,isCollapse:!0,options:[...oe,...T("SLBQ")]},{title:"特色标签",key:"tsbq",isShow:!0,multiple:!1,isCollapse:!0,options:[...oe,...T("TSBQ")]}]),_e=()=>[{title:"专业名",dataIndex:"zymc",align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"zymc"},{title:"选科要求",dataIndex:"xk",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},bodyCellStyle:{color:"#FFA864"},render:({record:o})=>w(o.xk)}],ce=o=>{F.value={...F.value,...o},z()},j=async()=>{U(!0);const[o,s]=await v(W.CHECK.XK_CHECK_SCHOOL,{body:{...F.value,isMatch:F.value.isMatch?"1":"0",province:m.value.province,xk:a.value.gkms==="3+3"?a.value.subjectList.join("/"):X.value.join("/"),currentPage:x.value.current,pageSize:x.value.pageSize,pagingOrNot:1}});if(o)return U(!1);U(!1),x.value.total=s.data.totalCount,a.value.schoolList=s.data.list.map(p=>({...p,collapsed:!1}))},{form:_}=le(()=>({levelCode:"1",xkmldm:"",zyldm:"",isMatch:!1,zymc:"",matching:"3"})),{form:$,resetForm:Ie}=le(()=>({sf:"",cc:"",yxmc:""})),R=Ke([{title:"专业层次",key:"levelCode",isShow:!0,multiple:!1,options:[]},{title:"专业门类",key:"xkmldm",isShow:!0,multiple:!1,options:[]},{title:"专业大类",key:"zyldm",isShow:!0,multiple:!1,options:[]}]),{pagination:se,resetData:g,onPageChange:f,onPageSizeChange:J}=ke(()=>{window.scrollTo(0,0),he(),ue()}),{pagination:H,resetData:te,onPageChange:c,onPageSizeChange:r}=ke(()=>{re()}),M=()=>[{title:"院校名称",dataIndex:"yxmc",align:"center",width:350,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"yxmc"},{title:"匹配专业",dataIndex:"zymc",align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"zymc"},{title:"选科要求",dataIndex:"xk",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},bodyCellStyle:{color:"#FFA864"},render:({record:o})=>w(o.xk)}],L=async o=>{o.levelCode!==_.value.levelCode?(_.value.levelCode=o.levelCode,_.value.xkmldm="",_.value.zyldm="",await A()):o.xkmldm!==_.value.xkmldm?(_.value.xkmldm=o.xkmldm,_.value.zyldm="",await de()):_.value={..._.value,...o},o.xkmldm===""?R.value[2].isShow=!1:R.value[2].isShow=!0,g()},E=async()=>{const[o,s]=await v(W.MAJOR.GET_CC_LIST,{});if(o)return;const p=s.data.map(I=>({...I,value:I.levelCode,label:I.levelName}));R.value[0].options=p,_.value.levelCode=p[0].levelCode,A()},A=async()=>{const[o,s]=await v(W.MAJOR.GET_X_KML_LIST,{body:{levelCode:_.value.levelCode}});if(o)return;const p=s.data.map(I=>({...I,value:I.xkmldm,label:I.xkml}));R.value[1].options=[...He,...p],_.value.xkmldm="",_.value.xkmldm===""?R.value[2].isShow=!1:R.value[2].isShow=!0,de()},de=async()=>{const[o,s]=await v(W.MAJOR.GET_ZYL_LIST,{body:{xkmldm:_.value.xkmldm}});if(o)return;const p=s.data.map(I=>({...I,value:I.zyldm,label:I.zyl}));R.value[2].options=[...He,...p]},re=async()=>{var p;b(!0);const[o,s]=await v(W.CHECK.XK_CHECK_MAJOR_SCHOOL,{body:{...$.value,province:m.value.province,xk:a.value.gkms==="3+3"?a.value.subjectList.join("/"):X.value.join("/"),zydm:a.value.zydm,currentPage:H.value.current,pageSize:H.value.pageSize,pagingOrNot:1}});if(o)return U(!1);b(!1),H.value.total=s.data.totalCount,a.value.curMajorMatchSchoolList=(p=s==null?void 0:s.data)==null?void 0:p.list},ue=async()=>{const[o,s]=await v(W.CHECK.QUERY_MAJOR_SUM_BY_MATCH,{body:{province:m.value.province,xk:a.value.gkms==="3+3"?a.value.subjectList.join("/"):X.value.join("/"),zymc:_.value.zymc,isMatch:_.value.isMatch?"1":"0",cc:_.value.levelCode,xkml:_.value.xkmldm,zyl:_.value.zyldm},timeout:5e4});o||(a.value.matchNum=s.data)},he=async()=>{P(!0);const[o,s]=await v(W.CHECK.XK_CHECK_MAJOR,{body:{zymc:_.value.zymc,isMatch:_.value.isMatch?"1":"0",province:m.value.province,xk:a.value.gkms==="3+3"?a.value.subjectList.join("/"):X.value.join("/"),cc:_.value.levelCode,matching:_.value.matching,xkml:_.value.xkmldm,zyl:_.value.zyldm,currentPage:se.value.current,pageSize:se.value.pageSize,pagingOrNot:1},timeout:50*1e3});if(o)return P(!1);P(!1),se.value.total=s.data.totalCount,a.value.majorList=s.data.list.map(p=>({...p,collapsed:!1,list:[{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"},{zymc:"11",xk:"22",yxmc:"清华大学",logo:"/images/avatar.png"}]}))};if(m.value.score){const o=m.value.xk.split("/"),s=m.value.gkms==="3+1+2"&&["物","史"].includes(o[0]);a.value={...a.value,...m.value,subjectList:s?[]:o,firstSubjectList:s?[o[0]]:[],secondSubjectList:s?[...o.slice(1,3)]:[]},E(),j(),he(),ue()}else a.value.province=m.value.province,a.value.gkms=(xe=et(N.value,m.value.province))==null?void 0:xe.gkms;return(o,s)=>{const p=at,I=lt,Se=We,Oe=nt,be=Ge,Te=ct,Me=dt,pe=Ne,fe=Ze,Pe=rt,ye=qe,Ve=ut,B=bt,Qe=xt,Ue=gt,Fe=st,S=vt,ht=kt;return u(),C("div",null,[t("div",Lt,[e(a).gkms==="3+3"?(u(),C(G,{key:0},[Et,l(p,{max:3,modelValue:e(a).subjectList,"onUpdate:modelValue":s[0]||(s[0]=d=>e(a).subjectList=d),options:e(a).province==="浙江"?"SUBJECT_OPTIONS"in o?o.SUBJECT_OPTIONS:e(ae):("SUBJECT_OPTIONS"in o?o.SUBJECT_OPTIONS:e(ae)).slice(0,6),onChange:s[1]||(s[1]=d=>ie("3+3"))},null,8,["modelValue","options"])],64)):O("",!0),e(a).gkms==="3+1+2"?(u(),C(G,{key:1},[t("div",null,[It,l(p,{max:1,modelValue:e(a).firstSubjectList,"onUpdate:modelValue":s[2]||(s[2]=d=>e(a).firstSubjectList=d),options:"FIRST_CHOICE_SCIENCES_OPTIONS"in o?o.FIRST_CHOICE_SCIENCES_OPTIONS:e(tt),onChange:s[3]||(s[3]=d=>ie("3+1+2"))},null,8,["modelValue","options"])]),t("div",Ot,[Tt,l(p,{max:2,modelValue:e(a).secondSubjectList,"onUpdate:modelValue":s[4]||(s[4]=d=>e(a).secondSubjectList=d),options:"SECOND_CHOICE_SCIENCES_OPTIONS"in o?o.SECOND_CHOICE_SCIENCES_OPTIONS:e(ot),onChange:s[5]||(s[5]=d=>ie("3+1+2"))},null,8,["modelValue","options"])])],64)):O("",!0)]),l(ht,{"active-key":e(a).activeTabKey,"onUpdate:activeKey":s[14]||(s[14]=d=>e(a).activeTabKey=d),animation:""},{default:n(()=>[l(B,{key:"school"},{title:n(()=>[t("div",{class:me(["text-[18px]",e(a).activeTabKey==="school"?"text-[#657fff] font-bold":""])}," 院校匹配（"+i(("turnThousandth"in o?o.turnThousandth:e(Q))(e(x).total,"0"))+"） ",3)]),default:n(()=>[t("div",null,[t("div",Ft,[t("div",jt,[l(Se,{size:"large"},{default:n(()=>[l(I,{modelValue:e(F).isMatch,"onUpdate:modelValue":s[6]||(s[6]=d=>e(F).isMatch=d),onChange:e(z)},{default:n(()=>[k(" 完全匹配 ")]),_:1},8,["modelValue","onChange"])]),_:1})]),t("div",$t,[l(be,{modelValue:e(F).yxmc,"onUpdate:modelValue":s[7]||(s[7]=d=>e(F).yxmc=d),modelModifiers:{trim:!0},size:"large",class:"rounded-lg h-[38px]",placeholder:"搜索你感兴趣的院校","allow-clear":"",onClear:e(z)},{prefix:n(()=>[l(Oe)]),_:1},8,["modelValue","onClear"])]),t("div",Dt,[l(Se,{type:"primary",size:"large",class:"openButton w-[120px]",onClick:e(z)},{default:n(()=>[k(" 搜索 ")]),_:1},8,["onClick"])])]),l(Te,{data:e(Ce),"default-values":e(F),onChange:ce,class:"mt-[20px]"},null,8,["data","default-values"]),l(ye,{class:"list-border mt-[20px]",bordered:!1,loading:e(Z)},{empty:n(()=>[l(Pe)]),default:n(()=>[(u(!0),C(G,null,ve(e(a).schoolList,(d,je)=>(u(),ne(fe,{key:d.id},{default:n(()=>[t("div",Nt,[t("div",{class:"flex-1",onClick:K=>("navigateTo"in o?o.navigateTo:e(Be))(`/college/${d.id}`,{open:{target:"_blank"}})},[l(Me,{school:d},null,8,["school"])],8,Mt),t("div",{class:"w-[150px] text-[#FFA864] text-right cursor-pointer",onClick:K=>q("school",d,je)},[k(" 专业匹配："+i(("turnThousandth"in o?o.turnThousandth:e(Q))(d==null?void 0:d.planMajorEntities.length,"0"))+"个",1),Vt],8,Pt)]),d.collapsed?(u(),C("div",Ut,[l(pe,{class:"mt-[20px] cursor-pointer","table-layout-fixed":"",columns:_e(),data:d==null?void 0:d.planMajorEntities,bordered:{wrapper:!0,cell:!0},"page-position":"bottom"},{zymc:n(({record:K})=>[t("div",Rt,i(("textFormat"in o?o.textFormat:e(w))(K.zymc)),1)]),_:2},1032,["columns","data"])])):O("",!0)]),_:2},1024))),128))]),_:1},8,["loading"]),l(Ve,{class:"justify-end mt-[20px]",total:e(x).total,current:e(x).current,"page-size":e(x).pageSize,onChange:e(Y),onPageSizeChange:e(ee),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size","onChange","onPageSizeChange"])])]),_:1}),l(B,{key:"major"},{title:n(()=>[t("div",{class:me(["text-[18px]",e(a).activeTabKey==="major"?"text-[#657fff] font-bold":""])}," 专业匹配（"+i(("turnThousandth"in o?o.turnThousandth:e(Q))(e(a).matchNum.total,"0"))+"） ",3)]),default:n(()=>[t("div",null,[t("div",At,[t("div",Bt,[l(Se,{size:"large"},{default:n(()=>[l(I,{modelValue:e(_).isMatch,"onUpdate:modelValue":s[8]||(s[8]=d=>e(_).isMatch=d),onChange:e(g)},{default:n(()=>[k(" 完全匹配 ")]),_:1},8,["modelValue","onChange"])]),_:1})]),t("div",Ht,[l(be,{size:"large",modelValue:e(_).zymc,"onUpdate:modelValue":s[9]||(s[9]=d=>e(_).zymc=d),modelModifiers:{trim:!0},class:"rounded-[8px] h-[38px]",placeholder:"搜索专业名称",onClear:e(g),"allow-clear":""},{prefix:n(()=>[l(Oe)]),_:1},8,["modelValue","onClear"])]),t("div",Kt,[l(Se,{type:"primary",class:"openButton w-[120px]",size:"large",onClick:e(g)},{default:n(()=>[k(" 搜索 ")]),_:1},8,["onClick"])])]),l(Te,{data:e(R),"default-values":e(_),onChange:L,class:"mt-[20px]"},null,8,["data","default-values"]),l(Ue,{modelValue:e(_).matching,"onUpdate:modelValue":s[10]||(s[10]=d=>e(_).matching=d),class:"mt-[20px]",onChange:e(g)},{default:n(()=>[(u(!0),C(G,null,ve(e(a).matchRadioList,d=>(u(),ne(Qe,{key:d.value,value:d.value},{radio:n(({checked:je})=>[t("div",{class:me(["text-center w-[145px] leading-[44px] border-solid border border-[#EDEDED] rounded-[8px]",{"bg-[#7C92FF] text-white":je}])},[k(i(d.label)+" ",1),d.value==="3"?(u(),C("span",Xt,i(e(a).matchNum.highSum),1)):O("",!0),d.value==="2"?(u(),C("span",Jt,i(e(a).matchNum.mediumSum),1)):O("",!0),d.value==="1"?(u(),C("span",Wt,i(e(a).matchNum.lowSum),1)):O("",!0),d.value==="0"?(u(),C("span",Gt,i(e(a).matchNum.noSum),1)):O("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"]),t("div",Zt,[e(a).gkms=="3+3"?(u(),C("div",qt,[e(_).matching==="3"?(u(),C("span",Qt," * 专业选科匹配度较高，若报考以下专业建议选择"+i(e(a).gkms=="3+3"?e(a).subjectList.join(""):e(X).join(""))+"组合! ",1)):O("",!0),e(_).matching==="2"?(u(),C("span",Yt," * 专业选科匹配度不高，若报考以下专业请慎重选择"+i(e(a).gkms=="3+3"?e(a).subjectList.join(""):e(X).join(""))+"组合! ",1)):O("",!0),e(_).matching==="1"?(u(),C("span",eo," * 专业选科匹配度较低，若报考以下专业不建议选择"+i(e(a).gkms=="3+3"?e(a).subjectList.join(""):e(X).join(""))+"组合! ",1)):O("",!0),e(_).matching==="0"?(u(),C("span",to," * 专业选科无匹配，"+i(e(a).gkms=="3+3"?e(a).subjectList.join(""):e(X).join(""))+"组合无法报考以下专业! ",1)):O("",!0)])):O("",!0)]),l(ye,{bordered:!1,loading:e(y)},{empty:n(()=>[l(Pe)]),default:n(()=>[(u(!0),C(G,null,ve(e(a).majorList,(d,je)=>(u(),ne(fe,{key:d.id,class:"border-solid border border-[#EDEDED] mb-[10px] rounded-[8px]"},{default:n(()=>[t("div",oo,[t("div",{class:"flex-1 cursor-pointer",onClick:K=>("navigateTo"in o?o.navigateTo:e(Be))(`/major/${d.id}`,{open:{target:"_blank"}})},[t("div",lo,i(d.zymc),1),t("div",no,[l(Fe,{class:"flex flex-wrap items-center text-[#999]"},{split:n(()=>[so]),default:n(()=>[t("span",io," 专业代码："+i(("textFormat"in o?o.textFormat:e(w))(d.zydm)),1),t("span",co," 修业年限："+i(("textFormat"in o?o.textFormat:e(w))(d.xyNx)),1),t("span",ro," 授予学位："+i(("textFormat"in o?o.textFormat:e(w))(d.syxw)),1),t("span",uo," 男女比例："+i(("textFormat"in o?o.textFormat:e(w))(d.xbBl)),1),t("span",po,[k(" 平均薪酬："),t("span",mo,i(("textFormat"in o?o.textFormat:e(w))(("turnThousandth"in o?o.turnThousandth:e(Q))(d.pjxz))),1)])]),_:2},1024)])],8,ao),t("div",{class:"w-[190px] text-[#FFA864] text-right cursor-pointer",onClick:K=>q("major",d,je)},[k(" 院校及专业匹配："+i(("turnThousandth"in o?o.turnThousandth:e(Q))(d==null?void 0:d.planSum,"0"))+"个",1),ho],8,_o)]),d.collapsed?(u(),C("div",xo,[t("div",go,[l(Fe,null,{default:n(()=>[l(S,{style:{width:"150px"},modelValue:e($).sf,"onUpdate:modelValue":s[11]||(s[11]=K=>e($).sf=K),options:[..."NO_LIMIT_NULL_OPTIONS"in o?o.NO_LIMIT_NULL_OPTIONS:e($e),...e(V)],placeholder:"所在地区","allow-clear":"",onChange:e(te)},null,8,["modelValue","options","onChange"]),l(S,{style:{width:"150px"},modelValue:e($).cc,"onUpdate:modelValue":s[12]||(s[12]=K=>e($).cc=K),options:[..."NO_LIMIT_NULL_OPTIONS"in o?o.NO_LIMIT_NULL_OPTIONS:e($e),...e(T)("BXCC")],"allow-clear":"",placeholder:"专业层次",onChange:e(te)},null,8,["modelValue","options","onChange"]),l(be,{style:{width:"260px"},modelValue:e($).yxmc,"onUpdate:modelValue":s[13]||(s[13]=K=>e($).yxmc=K),modelModifiers:{trim:!0},placeholder:"请输入院校名称","allow-clear":"",onChange:e(te)},{prefix:n(()=>[l(Oe)]),_:1},8,["modelValue","onChange"])]),_:1})]),l(pe,{class:"mt-[20px] cursor-pointer","table-layout-fixed":"",columns:M(),data:e(a).curMajorMatchSchoolList,loading:e(h),pagination:{...e(H),showTotal:!1,showPageSize:!1},onPageChange:e(c),onPageSizeChange:e(r),bordered:{wrapper:!0,cell:!0},"page-position":"bottom"},{yxmc:n(({record:K})=>[t("div",vo,[t("img",{src:K.logo,class:"w-[42px] h-[42px] rounded-[50%]",alt:""},null,8,Co),t("div",fo,i(("textFormat"in o?o.textFormat:e(w))(K.yxmc)),1)])]),zymc:n(({record:K})=>[t("div",yo,i(("textFormat"in o?o.textFormat:e(w))(K.zymc)),1)]),_:1},8,["columns","data","loading","pagination","onPageChange","onPageSizeChange"])])):O("",!0)]),_:2},1024))),128))]),_:1},8,["loading"]),l(Ve,{class:"justify-end mt-[20px]",total:e(se).total,current:e(se).current,"page-size":e(se).pageSize,onChange:e(f),onPageSizeChange:e(J),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size","onChange","onPageSizeChange"])])]),_:1})]),_:1},8,["active-key"])])}}});const bo=it(So,[["__scopeId","data-v-6feaa5d0"]]),ko={class:"max-h-[90vh] overflow-auto no-scrollbar"},zo={class:"flex items-center justify-between cursor-pointer"},wo={class:"flex-1"},Lo={class:"text-[#FFA864]"},Eo={class:"text-[#FFA864]"},Io={class:"text-left"},Oo=we({__name:"index",props:{data:{default:()=>{}}},setup(D){const v=()=>[{title:"专业名称",dataIndex:"zymc",align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"zymc"},{title:"专业层次",dataIndex:"cc",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},render:({record:m})=>w(m.cc)},{title:"专业类",dataIndex:"zyl",align:"center",width:250,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},render:({record:m})=>w(m.zyl)},{title:"选科要求",dataIndex:"xk",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},render:({record:m})=>w(m.xk)}];return(m,V)=>{const N=dt,T=Ze,Z=qe,U=Ne,y=Ct;return u(),ne(y,{"content-class":"w-[1100px]",title:"","align-center":"",onCancel:V[0]||(V[0]=P=>m.$emit("cancel"))},{default:n(()=>[t("div",ko,[l(Z,{class:"list-border mt-[10px]",bordered:!1},{default:n(()=>[l(T,null,{default:n(()=>[t("div",zo,[t("div",wo,[l(N,{school:m.data},null,8,["school"])])])]),_:1})]),_:1}),t("div",null,[k(" 符合"),t("span",Lo,"【"+i(m.data.codeName.split("/").join("+"))+"】",1),k("选科组合的专业 "),t("span",Eo,"【"+i(m.data.ppsum)+"】",1),k(" 个 ")]),l(U,{class:"mt-[20px] cursor-pointer","table-layout-fixed":"",columns:v(),data:m.data.planList,bordered:{wrapper:!0,cell:!0},"page-position":"bottom"},{zymc:n(({record:P})=>[t("div",Io,i(("textFormat"in m?m.textFormat:e(w))(P.zymc)),1)]),_:1},8,["columns","data"])])]),_:1})}}}),yt=(D,v={defaultValue:{},isInit:!0})=>{const m=Ke((v==null?void 0:v.defaultValue)??{}),[V,N]=ge(!1),T=async()=>{N(!0);const Z=await D();m.value=Z,N(!1)};return v!=null&&v.isInit&&T(),{data:m,initData:T,loading:V}},Ee=D=>(mt("data-v-1d0310ec"),D=D(),_t(),D),To={class:"flex items-center mt-[20px]"},Fo={class:"w-[150px]"},jo={class:"w-full ml-[20px]"},$o={class:"w-[120px] ml-[20px]"},Do={class:"flex items-center justify-between"},No=["onClick"],Mo=["onClick"],Po=Ee(()=>t("i",{class:"iconfont icon-xiala text-[#FFA864] ml-[3px]"},null,-1)),Vo={key:0},Uo={class:"bg-[#F9F9F9] p-[10px_20px] mt-[20px] rounded-[8px]"},Ro=Ee(()=>t("span",null,"选择科目：",-1)),Ao=Ee(()=>t("span",null,"首选科目：",-1)),Bo={class:"mt-[5px]"},Ho=Ee(()=>t("span",null,"次选科目：",-1)),Ko={class:"my-[5px]"},Xo={class:"text-[#FFA864]"},Jo=Ee(()=>t("span",{class:"mx-[5px]"},"+",-1)),Wo=Ee(()=>t("span",{class:"mx-[5px]"},"+",-1)),Go=["onClick"],Zo={class:"flex items-center"},qo={class:"w-[50px] text-center ml-[10px]"},Qo=we({__name:"index",setup(D){var se;const{$zsFetch:v}=Je(),{userInfo:m}=De(),{provinceCityList:V,provinceList:N,getDictionValue:T}=Xe(),[Z,U]=ge(!1),[y,P]=ge(null),{form:h}=le(()=>({province:"",gkms:"",curSchoolMatchMajorList:[],selectRow:{},curSchoolName:""})),{form:b}=le(()=>({sf:"",yxlx:"",cc:"",bxxz:"",strengthTags:"",featuresTags:"",isMatch:!1,yxmc:""})),{form:a,resetForm:X}=le(()=>({subjectList:[],firstSubjectList:[],secondSubjectList:[]})),ie=pt(()=>[...a.value.firstSubjectList,...a.value.secondSubjectList]),q=Ke([{title:"所在地区",key:"sf",isShow:!0,multiple:!1,options:[...oe,...V.value]},{title:"院校类型",key:"yxlx",isShow:!0,multiple:!1,options:[...oe,...T("YXLX")]},{title:"院校层次",key:"cc",isShow:!0,multiple:!1,options:[...oe,...T("BXCC")]},{title:"办学性质",key:"bxxz",isShow:!0,multiple:!1,options:[...oe,...T("BXXZ")]},{title:"实力标签",key:"strengthTags",isShow:!0,multiple:!1,isCollapse:!0,options:[...oe,...T("SLBQ")]},{title:"特色标签",key:"featuresTags",isShow:!0,multiple:!1,isCollapse:!0,options:[...oe,...T("TSBQ")]}]),{pagination:F,resetData:x,onPageChange:z,onPageSizeChange:Y}=ke(()=>{window.scrollTo(0,0),R()}),ee=()=>[{title:"选科组合",dataIndex:"xk",align:"center",width:300,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"xk"},{title:"当前选科匹配专业",dataIndex:"ppsum",align:"center",width:300,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"ppsum"},{title:"专业匹配率",dataIndex:"ppl",align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"ppl"}],Ce=async(g,f)=>{h.value.curSchoolName=g.yxmc,g.collapsed?$.value.forEach(J=>J.collapsed=!1):($.value.forEach(J=>J.collapsed=!1),$.value[f].collapsed=!g.collapsed,await X(),_())},_e=g=>{b.value={...b.value,...g},x()},ce=(g,f)=>{h.value.selectRow=g,f&&f()},j=g=>{_()},_=async()=>{var J;U(!0);const[g,f]=await v(W.CHECK.COLLEGE_CHECK_XK_MAJOR_MATCH,{body:{sf:h.value.province,yxmc:h.value.curSchoolName,xk:h.value.gkms==="3+3"?a.value.subjectList.join("/"):ie.value.join("/")}});if(g)return U(!1);U(!1),h.value.curSchoolMatchMajorList=((J=f==null?void 0:f.data)==null?void 0:J.map(H=>{const[te,c,r]=H.codeName.split("/"),M=ae.find(A=>A.label===te),L=ae.find(A=>A.label===c),E=ae.find(A=>A.label===r);return{...H,oneData:M,twoData:L,threeData:E}}))??[]},{data:$,loading:Ie,initData:R}=yt(async()=>{var J,H;const[g,f]=await v(W.CHECK.COLLEGE_CHECK_XK,{body:{...b.value,isMatch:b.value.isMatch?"1":"0",province:m.value.province,currentPage:F.value.current,pageSize:F.value.pageSize,pagingOrNot:1}});if(!g)return F.value.total=f.data.totalCount,(H=(J=f==null?void 0:f.data)==null?void 0:J.list)==null?void 0:H.map(te=>({...te,collapsed:!1}))},{defaultValue:[],isInit:!1});return m.value.score?(h.value={...h.value,...m.value},R()):(h.value.province=m.value.province,h.value.gkms=(se=et(N.value,m.value.province))==null?void 0:se.gkms),(g,f)=>{const J=lt,H=We,te=nt,c=Ge,r=ct,M=dt,L=at,E=ft,A=Ne,de=Ze,re=rt,ue=qe,he=ut,xe=Oo;return u(),C("div",null,[t("div",To,[t("div",Fo,[l(H,{size:"large"},{default:n(()=>[l(J,{modelValue:e(b).isMatch,"onUpdate:modelValue":f[0]||(f[0]=o=>e(b).isMatch=o),onChange:e(x)},{default:n(()=>[k(" 完全匹配 ")]),_:1},8,["modelValue","onChange"])]),_:1})]),t("div",jo,[l(c,{modelValue:e(b).yxmc,"onUpdate:modelValue":f[1]||(f[1]=o=>e(b).yxmc=o),modelModifiers:{trim:!0},size:"large",class:"rounded-lg h-[38px]",placeholder:"搜索你感兴趣的院校","allow-clear":"",onClear:e(x)},{prefix:n(()=>[l(te)]),_:1},8,["modelValue","onClear"])]),t("div",$o,[l(H,{type:"primary",size:"large",class:"openButton w-[120px]",onClick:e(x)},{default:n(()=>[k(" 搜索 ")]),_:1},8,["onClick"])])]),l(r,{data:e(q),"default-values":e(b),onChange:_e,class:"mt-[20px]"},null,8,["data","default-values"]),l(ue,{class:"list-border mt-[20px]",bordered:!1,loading:e(Ie)},{empty:n(()=>[l(re)]),default:n(()=>[(u(!0),C(G,null,ve(e($),(o,s)=>(u(),ne(de,{key:o.id},{default:n(()=>[t("div",Do,[t("div",{class:"flex-1",onClick:p=>("navigateTo"in g?g.navigateTo:e(Be))(`/college/${o.id}`,{open:{target:"_blank"}})},[l(M,{school:o},null,8,["school"])],8,No),t("div",{class:"w-[150px] text-[#FFA864] text-right cursor-pointer",onClick:p=>Ce(o,s)},[k(" 专业匹配："+i(("turnThousandth"in g?g.turnThousandth:e(Q))(o.planSum,"0"))+"个",1),Po],8,Mo)]),o.collapsed?(u(),C("div",Vo,[t("div",Uo,[e(h).gkms==="3+3"?(u(),C(G,{key:0},[Ro,l(L,{max:3,modelValue:e(a).subjectList,"onUpdate:modelValue":f[2]||(f[2]=p=>e(a).subjectList=p),options:e(h).province==="浙江"?"SUBJECT_OPTIONS"in g?g.SUBJECT_OPTIONS:e(ae):("SUBJECT_OPTIONS"in g?g.SUBJECT_OPTIONS:e(ae)).slice(0,6),onChange:f[3]||(f[3]=p=>j("3+3"))},null,8,["modelValue","options"])],64)):O("",!0),e(h).gkms==="3+1+2"?(u(),C(G,{key:1},[t("div",null,[Ao,l(L,{max:1,modelValue:e(a).firstSubjectList,"onUpdate:modelValue":f[4]||(f[4]=p=>e(a).firstSubjectList=p),options:"FIRST_CHOICE_SCIENCES_OPTIONS"in g?g.FIRST_CHOICE_SCIENCES_OPTIONS:e(tt),onChange:f[5]||(f[5]=p=>j("3+1+2"))},null,8,["modelValue","options"])]),t("div",Bo,[Ho,l(L,{max:2,modelValue:e(a).secondSubjectList,"onUpdate:modelValue":f[6]||(f[6]=p=>e(a).secondSubjectList=p),options:"SECOND_CHOICE_SCIENCES_OPTIONS"in g?g.SECOND_CHOICE_SCIENCES_OPTIONS:e(ot),onChange:f[7]||(f[7]=p=>j("3+1+2"))},null,8,["modelValue","options"])])],64)):O("",!0)]),t("div",Ko,[k(" 共开设"),t("span",Xo,"【"+i(("turnThousandth"in g?g.turnThousandth:e(Q))(o.planSum,"0"))+"】",1),k("个专业，选科要求匹配如下 ")]),l(A,{class:"mt-[20px] cursor-pointer","table-layout-fixed":"",columns:ee(),data:e(h).curSchoolMatchMajorList,loading:e(Z),bordered:{wrapper:!0,cell:!0},"page-position":"bottom"},{xk:n(({record:p})=>[t("div",null,[t("span",null,[t("i",{class:me(["iconfont",p.oneData.icon]),style:ze({color:p.oneData.color})},null,6),t("span",null,i(p.oneData.label),1)]),Jo,t("span",null,[t("i",{class:me(["iconfont",p.twoData.icon]),style:ze({color:p.twoData.color})},null,6),t("span",null,i(p.twoData.label),1)]),Wo,t("span",null,[t("i",{class:me(["iconfont",p.threeData.icon]),style:ze({color:p.threeData.color})},null,6),t("span",null,i(p.threeData.label),1)])])]),ppsum:n(({record:p})=>[t("div",{class:"text-center text-[#FFA864]",onClick:I=>p.ppsum?ce({...o,...p},()=>e(P)("ZsSubjectCurXkCollegeMatchMajor")):""},i(("textCompany"in g?g.textCompany:e(Ye))(("turnThousandth"in g?g.turnThousandth:e(Q))(p.ppsum,""),"个")),9,Go)]),ppl:n(({record:p})=>[t("div",Zo,[(u(),ne(E,{width:p.ppl,background:"#7C92FF",class:"flex-1",key:p.ppl},null,8,["width"])),t("div",qo,i(p.ppl+"%"),1)])]),_:2},1032,["columns","data","loading"])])):O("",!0)]),_:2},1024))),128))]),_:1},8,["loading"]),l(he,{class:"justify-end mt-[20px]",total:e(F).total,current:e(F).current,"page-size":e(F).pageSize,onChange:e(z),onPageSizeChange:e(Y),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size","onChange","onPageSizeChange"]),e(y)==="ZsSubjectCurXkCollegeMatchMajor"?(u(),ne(xe,{key:0,data:e(h).selectRow,onCancel:f[8]||(f[8]=o=>ce({},()=>e(P)(null)))},null,8,["data"])):O("",!0)])}}});const Yo=it(Qo,[["__scopeId","data-v-1d0310ec"]]),ea={class:"max-h-[90vh] overflow-auto no-scrollbar"},ta={class:"flex-1 cursor-pointer"},oa={class:"text-[20px] text-[#333333] mb-[10px] font-bold"},aa={class:"mt-[10px]"},la=t("span",{class:"w-[2px] h-[8px] text-[#999]"},"|",-1),na={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},sa={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},ia={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},ca={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},da={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},ra={class:"text-price"},ua={class:"text-[#FFA864]"},pa={class:"text-[#FFA864]"},ma={class:"text-[#FFA864]"},_a={class:"mt-[20px]"},ha={class:"text-left flex items-center"},xa=["src"],ga={class:"ml-[10px]"},va={class:"text-left"},Ca=we({__name:"index",props:{data:{default:()=>{}}},async setup(D){let v,m;const V=D,{$zsFetch:N}=Je(),{userInfo:T}=De(),{provinceCityList:Z,getDictionValue:U}=Xe(),{form:y}=le(()=>({...V.data,yxsf:"",cc:"",slbq:"",yxmc:""})),{pagination:P,resetData:h,onPageChange:b,onPageSizeChange:a}=ke(()=>{window.scrollTo(0,0),F()}),X=()=>[{title:"院校名称",dataIndex:"yxmc",align:"center",width:350,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"yxmc"},{title:"院校层次",dataIndex:"cc",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},render:({record:x})=>w(x.cc)},{title:"匹配专业",dataIndex:"zymc",align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"zymc"},{title:"选科要求",dataIndex:"xk",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},bodyCellStyle:{color:"#FFA864"},render:({record:x})=>w(x.xk)}],{data:ie,status:q,refresh:F}=([v,m]=Ae(async()=>Re("collegeList",async()=>{var Y,ee;const[x,z]=await N(W.CHECK.MAJOR_CHECK_XK_SCHOOL_MATCH_LIST,{body:{sf:T.value.province,code:y.value.code,zydm:y.value.zydm,yxsf:y.value.yxsf,cc:y.value.cc,slbq:y.value.slbq,yxmc:y.value.yxmc,currentPage:P.value.current,pageSize:P.value.pageSize,pagingOrNot:1}});return{total:((Y=z==null?void 0:z.data)==null?void 0:Y.totalCount)??0,schoolList:((ee=z==null?void 0:z.data)==null?void 0:ee.list)??[]}},{default:()=>({total:0,schoolList:[]})})),v=await v,m(),v);return(x,z)=>{const Y=st,ee=vt,Ce=Ge,_e=Ne,ce=Ct;return u(),ne(ce,{"content-class":"w-[1100px] ",title:"",top:"5%","align-center":"",onCancel:z[4]||(z[4]=j=>x.$emit("cancel"))},{default:n(()=>[t("div",ea,[t("div",ta,[t("div",oa,i(e(y).zymc),1),t("div",aa,[l(Y,{class:"flex flex-wrap items-center text-[#999]"},{split:n(()=>[la]),default:n(()=>[t("span",na," 专业代码："+i(("textFormat"in x?x.textFormat:e(w))(e(y).zydm)),1),t("span",sa," 修业年限："+i(("textFormat"in x?x.textFormat:e(w))(e(y).xyNx)),1),t("span",ia," 授予学位："+i(("textFormat"in x?x.textFormat:e(w))(e(y).syxw)),1),t("span",ca," 男女比例："+i(("textFormat"in x?x.textFormat:e(w))(e(y).xbBl)),1),t("span",da,[k(" 平均薪酬："),t("span",ra,i(("textFormat"in x?x.textFormat:e(w))(("turnThousandth"in x?x.turnThousandth:e(Q))(e(y).pjxz))),1)])]),_:1})])]),t("div",null,[k(" 符合"),t("span",ua,"【"+i(e(y).codeName.split("/").join("+"))+"】",1),k("选科组共 "),t("span",pa,"【"+i(e(y).schoolCountByxk)+"】",1),k(" 所院校， 开设"),t("span",ma,"【"+i(e(y).majorCountByxk)+"】",1),k(" 个专业 ")]),t("div",_a,[l(Y,null,{default:n(()=>[l(ee,{style:{width:"150px"},modelValue:e(y).yxsf,"onUpdate:modelValue":z[0]||(z[0]=j=>e(y).yxsf=j),options:[..."NO_LIMIT_NULL_OPTIONS"in x?x.NO_LIMIT_NULL_OPTIONS:e($e),...e(Z)],placeholder:"所在地区","allow-clear":"",onChange:e(h)},null,8,["modelValue","options","onChange"]),l(ee,{style:{width:"150px"},modelValue:e(y).cc,"onUpdate:modelValue":z[1]||(z[1]=j=>e(y).cc=j),options:[..."NO_LIMIT_NULL_OPTIONS"in x?x.NO_LIMIT_NULL_OPTIONS:e($e),...e(U)("BXCC")],placeholder:"院校层次","allow-clear":"",onChange:e(h)},null,8,["modelValue","options","onChange"]),l(ee,{style:{width:"150px"},modelValue:e(y).slbq,"onUpdate:modelValue":z[2]||(z[2]=j=>e(y).slbq=j),options:[..."NO_LIMIT_NULL_OPTIONS"in x?x.NO_LIMIT_NULL_OPTIONS:e($e),...e(U)("SLBQONE")],placeholder:"实力标签","allow-clear":"",onChange:e(h)},null,8,["modelValue","options","onChange"]),l(Ce,{style:{width:"300px"},modelValue:e(y).yxmc,"onUpdate:modelValue":z[3]||(z[3]=j=>e(y).yxmc=j),modelModifiers:{trim:!0},placeholder:"请输入院校名称","allow-clear":"",onChange:e(h)},null,8,["modelValue","onChange"])]),_:1})]),l(_e,{class:"mt-[20px] cursor-pointer","table-layout-fixed":"",columns:X(),data:e(ie).schoolList,loading:e(q)==="pending",bordered:{wrapper:!0,cell:!0},pagination:{...e(P),total:e(ie).total},onPageChange:e(b),onPageSizeChange:e(a),"page-position":"bottom"},{yxmc:n(({record:j})=>[t("div",ha,[t("img",{src:j.logo,class:"w-[42px] h-[42px] rounded-[50%]",alt:""},null,8,xa),t("div",ga,i(("textFormat"in x?x.textFormat:e(w))(j.yxmc)),1)])]),zymc:n(({record:j})=>[t("div",va,i(("textFormat"in x?x.textFormat:e(w))(j.zymc)),1)]),_:1},8,["columns","data","loading","pagination","onPageChange","onPageSizeChange"])])]),_:1})}}}),fa={class:"flex items-center mt-[20px]"},ya={class:"w-[150px]"},Sa={class:"w-full ml-[20px]"},ba={class:"w-[120px] ml-[20px] rounded-[8px]"},ka={class:"flex items-center m-[20px_0px_10px]"},za=t("div",{class:"rounded-[0px_6px_6px_0px] bg-[#7C92FF] w-[8px] h-[20px]"},null,-1),wa={class:"ml-[10px] text-[18px] text-[#333] font-bold"},La={class:"text-[#FFA864] font-bold"},Ea={class:"flex items-center justify-between"},Ia=["onClick"],Oa={class:"text-[16px] text-[#333333] mb-[10px] font-[500]"},Ta={class:"mt-[10px]"},Fa=t("span",{class:"w-[2px] h-[8px] text-[#999]"},"|",-1),ja={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},$a={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},Da={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},Na={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},Ma={class:"leading-[16px] rounded-[4px] p-[5px] mb-[4px]"},Pa={class:"text-price"},Va=["onClick"],Ua=t("i",{class:"iconfont icon-xiala text-[#FFA864] ml-[3px]"},null,-1),Ra={key:0},Aa={class:"bg-[#F9F9F9] p-[10px_20px] mt-[20px] rounded-[8px]"},Ba=t("span",null,"选择科目：",-1),Ha=t("span",null,"首选科目：",-1),Ka={class:"mt-[5px]"},Xa=t("span",null,"次选科目：",-1),Ja={class:"text-[#FFA864]"},Wa={class:"text-[#FFA864]"},Ga=t("span",{class:"mx-[5px]"},"+",-1),Za=t("span",{class:"mx-[5px]"},"+",-1),qa=["onClick"],Qa={class:"text-[#FFA864]"},Ya={class:"flex items-center"},el={class:"w-[50px] text-center ml-[10px]"},tl={key:1},ol=we({__name:"index",async setup(D){var te;let v,m;const{$zsFetch:V}=Je(),{userInfo:N}=De(),{provinceList:T}=Xe(),[Z,U]=ge(null),[y,P]=ge(!1),{form:h}=le(()=>({province:"",gkms:"",curMajorMatchSchoolInfo:{list:[]},selectRow:{},zydm:""})),{form:b}=le(()=>({isMatch:!1,zymc:""})),{form:a,resetForm:X}=le(()=>({subjectList:[],firstSubjectList:[],secondSubjectList:[]})),ie=pt(()=>[...a.value.firstSubjectList,...a.value.secondSubjectList]),{pagination:q,resetData:F,onPageChange:x,onPageSizeChange:z}=ke(()=>{window.scrollTo(0,0),H()}),Y=()=>{f.value.forEach(c=>{c.childs.forEach(r=>{r.childs.forEach(M=>{M.collapsed=!1})})})},ee=async(c,r)=>{h.value.zydm=c.zydm,c.collapsed?Y():(Y(),c.collapsed=!c.collapsed,await X(),j())},Ce=async c=>{c.levelCode!==_.value.levelCode&&(_.value.levelCode=c.levelCode,$.value.xkmldm="",R.value.zyldm=[""],await Ie()),c.xkmldm!==$.value.xkmldm&&($.value.xkmldm=c.xkmldm,R.value.zyldm=[""],await se()),F()},_e=(c,r)=>{h.value.selectRow=c,r&&r()},ce=c=>{j()},j=async()=>{var M,L;P(!0);const[c,r]=await V(W.CHECK.MAJOR_CHECK_XK_MATCH_SCHOOL,{body:{sf:h.value.province,zydm:h.value.zydm,xk:h.value.gkms==="3+3"?a.value.subjectList.join("/"):ie.value.join("/")}});if(c)return P(!1);P(!1),h.value.curMajorMatchSchoolInfo={...r.data,list:((L=(M=r==null?void 0:r.data)==null?void 0:M.list)==null?void 0:L.map(E=>{const[A,de,re]=E.codeName.split("/"),ue=ae.find(o=>o.label===A),he=ae.find(o=>o.label===de),xe=ae.find(o=>o.label===re);return{...E,oneData:ue,twoData:he,threeData:xe}}))??[]}},{data:_}=([v,m]=Ae(async()=>Re("ccList",async()=>{var L;const[c,r]=await V(W.MAJOR.GET_CC_LIST,{}),M=((L=r==null?void 0:r.data)==null?void 0:L.map(E=>({...E,value:E.levelCode,label:E.levelName})))??[];return{title:"专业层次",key:"levelCode",isShow:!0,multiple:!1,options:M,levelCode:M[0].value??""}})),v=await v,m(),v),{data:$,refresh:Ie}=([v,m]=Ae(async()=>Re("mlList",async()=>{var L;const[c,r]=await V(W.MAJOR.GET_X_KML_LIST,{body:{levelCode:_.value.levelCode}}),M=((L=r==null?void 0:r.data)==null?void 0:L.map(E=>({...E,value:E.xkmldm,label:E.xkml})))??[];return{title:"专业门类",key:"xkmldm",isShow:!0,multiple:!1,options:[...He,...M],xkmldm:""}})),v=await v,m(),v),{data:R,refresh:se}=([v,m]=Ae(async()=>Re("zylList",async()=>{var L;const[c,r]=await V(W.MAJOR.GET_ZYL_LIST,{body:{xkmldm:$.value.xkmldm}}),M=((L=r==null?void 0:r.data)==null?void 0:L.map(E=>({...E,value:E.zyldm,label:E.zyl})))??[];return{title:"专业大类",key:"zyldm",isShow:!!$.value.xkmldm,multiple:!0,options:[...He,...M],zyldm:[""]}})),v=await v,m(),v),g=()=>[{title:"选科组合",dataIndex:"xk",width:300,align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"xk"},{title:"当前选科匹配院校",dataIndex:"schoolCountByxk",align:"center",width:160,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"schoolCountByxk"},{title:"开设专业",dataIndex:"majorCountByxk",align:"center",width:150,headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"majorCountByxk"},{title:"专业匹配率",dataIndex:"ppl",align:"center",headerCellStyle:{fontSize:"14px",backgroundColor:"#EDEDED",color:"#333333",fontWeight:"bold"},slotName:"ppl"}],{data:f,loading:J,initData:H}=yt(async()=>{var L,E;const[c,r]=await V(W.CHECK.MAJOR_CHECK_XK,{body:{sf:h.value.province,zymc:b.value.zymc,isMatch:b.value.isMatch?"1":"0",cc:_.value.levelCode,xkml:$.value.xkmldm,zyl:R.value.zyldm.join("/"),currentPage:q.value.current,pageSize:q.value.pageSize,pagingOrNot:1}});return c?void 0:(q.value.total=r.data.totalCount,(E=(L=r==null?void 0:r.data)==null?void 0:L.list)==null?void 0:E.map(A=>(A.childs.forEach(de=>{de.childs.forEach(re=>{re.collapsed=!1})}),{...A})))},{defaultValue:[],isInit:!1});return N.value.score?(h.value={...h.value,...N.value},H()):(h.value.province=N.value.province,h.value.gkms=(te=et(T.value,N.value.province))==null?void 0:te.gkms),(c,r)=>{var be,Te,Me;const M=lt,L=We,E=nt,A=Ge,de=ct,re=st,ue=at,he=ft,xe=Ne,o=Ze,s=rt,p=qe,I=ut,Se=zt,Oe=Ca;return u(),C("div",null,[t("div",fa,[t("div",ya,[l(L,{size:"large"},{default:n(()=>[l(M,{modelValue:e(b).isMatch,"onUpdate:modelValue":r[0]||(r[0]=pe=>e(b).isMatch=pe),onChange:e(F)},{default:n(()=>[k(" 完全匹配 ")]),_:1},8,["modelValue","onChange"])]),_:1})]),t("div",Sa,[l(A,{size:"large",modelValue:e(b).zymc,"onUpdate:modelValue":r[1]||(r[1]=pe=>e(b).zymc=pe),modelModifiers:{trim:!0},class:"rounded-[8px] h-[38px]",placeholder:"搜索专业名称",onClear:e(F),"allow-clear":""},{prefix:n(()=>[l(E)]),_:1},8,["modelValue","onClear"])]),t("div",ba,[l(L,{type:"primary",class:"openButton w-[120px]",size:"large",onClick:e(F)},{default:n(()=>[k(" 搜索 ")]),_:1},8,["onClick"])])]),l(de,{data:[e(_),e($),e(R)],"default-values":{...e(b),levelCode:(be=e(_))==null?void 0:be.levelCode,xkmldm:(Te=e($))==null?void 0:Te.xkmldm,zyldm:(Me=e(R))==null?void 0:Me.zyldm},onChange:Ce,class:"mt-[20px]"},null,8,["data","default-values"]),l(Se,{loading:e(J),class:"w-full"},{default:n(()=>{var pe;return[(pe=e(f))!=null&&pe.length?(u(),C(G,{key:0},[(u(!0),C(G,null,ve(e(f),(fe,Pe)=>(u(),C("div",{key:Pe},[t("div",ka,[za,t("div",wa,i(fe.xkml),1)]),(u(!0),C(G,null,ve(fe==null?void 0:fe.childs,(ye,Ve)=>(u(),C("div",{key:Ve},[t("div",La,i(ye.zyl),1),l(p,{bordered:!1,class:"mt-[10px]"},{empty:n(()=>[l(s)]),default:n(()=>[(u(!0),C(G,null,ve(ye==null?void 0:ye.childs,(B,Qe)=>(u(),ne(o,{key:B.id,class:"border-solid border border-[#EDEDED] mb-[10px] rounded-[8px]"},{default:n(()=>{var Ue,Fe;return[t("div",Ea,[t("div",{class:"flex-1 cursor-pointer",onClick:S=>("navigateTo"in c?c.navigateTo:e(Be))(`/major/${B.id}`,{open:{target:"_blank"}})},[t("div",Oa,i(B.zymc),1),t("div",Ta,[l(re,{class:"flex flex-wrap items-center text-[#999]"},{split:n(()=>[Fa]),default:n(()=>[t("span",ja," 专业代码："+i(("textFormat"in c?c.textFormat:e(w))(B.zydm)),1),t("span",$a," 修业年限："+i(("textFormat"in c?c.textFormat:e(w))(B.xyNx)),1),t("span",Da," 授予学位："+i(("textFormat"in c?c.textFormat:e(w))(B.syxw)),1),t("span",Na," 男女比例："+i(("textFormat"in c?c.textFormat:e(w))(B.xbBl)),1),t("span",Ma,[k(" 平均薪酬："),t("span",Pa,i(("textFormat"in c?c.textFormat:e(w))(("turnThousandth"in c?c.turnThousandth:e(Q))(B.pjxz))),1)])]),_:2},1024)])],8,Ia),t("div",{class:"w-[150px] text-[#FFA864] text-right cursor-pointer",onClick:S=>ee(B,Qe)},[k(" 院校匹配："+i(("turnThousandth"in c?c.turnThousandth:e(Q))(B==null?void 0:B.yxsum,"0"))+"个",1),Ua],8,Va)]),B.collapsed?(u(),C("div",Ra,[t("div",Aa,[e(h).gkms==="3+3"?(u(),C(G,{key:0},[Ba,l(ue,{max:3,modelValue:e(a).subjectList,"onUpdate:modelValue":r[2]||(r[2]=S=>e(a).subjectList=S),options:e(h).province==="浙江"?"SUBJECT_OPTIONS"in c?c.SUBJECT_OPTIONS:e(ae):("SUBJECT_OPTIONS"in c?c.SUBJECT_OPTIONS:e(ae)).slice(0,6),onChange:r[3]||(r[3]=S=>ce("3+3"))},null,8,["modelValue","options"])],64)):O("",!0),e(h).gkms==="3+1+2"?(u(),C(G,{key:1},[t("div",null,[Ha,l(ue,{max:1,modelValue:e(a).firstSubjectList,"onUpdate:modelValue":r[4]||(r[4]=S=>e(a).firstSubjectList=S),options:"FIRST_CHOICE_SCIENCES_OPTIONS"in c?c.FIRST_CHOICE_SCIENCES_OPTIONS:e(tt),onChange:r[5]||(r[5]=S=>ce("3+1+2"))},null,8,["modelValue","options"])]),t("div",Ka,[Xa,l(ue,{max:2,modelValue:e(a).secondSubjectList,"onUpdate:modelValue":r[6]||(r[6]=S=>e(a).secondSubjectList=S),options:"SECOND_CHOICE_SCIENCES_OPTIONS"in c?c.SECOND_CHOICE_SCIENCES_OPTIONS:e(ot),onChange:r[7]||(r[7]=S=>ce("3+1+2"))},null,8,["modelValue","options"])])],64)):O("",!0)]),t("div",null,[k(" 共 "),t("span",Ja,"【"+i(("turnThousandth"in c?c.turnThousandth:e(Q))((Ue=e(h).curMajorMatchSchoolInfo)==null?void 0:Ue.schoolCount,"0"))+"】",1),k("所院校开设"),t("span",Wa,"【"+i(("turnThousandth"in c?c.turnThousandth:e(Q))((Fe=e(h).curMajorMatchSchoolInfo)==null?void 0:Fe.majorCount,"0"))+"】",1),k("个专业 ")]),l(xe,{class:"mt-[20px] cursor-pointer","table-layout-fixed":"",columns:g(),data:e(h).curMajorMatchSchoolInfo.list,loading:e(y),bordered:{wrapper:!0,cell:!0},"page-position":"bottom"},{xk:n(({record:S})=>[t("div",null,[t("span",null,[t("i",{class:me(["iconfont",S.oneData.icon]),style:ze({color:S.oneData.color})},null,6),t("span",null,i(S.oneData.label),1)]),Ga,t("span",null,[t("i",{class:me(["iconfont",S.twoData.icon]),style:ze({color:S.twoData.color})},null,6),t("span",null,i(S.twoData.label),1)]),Za,t("span",null,[t("i",{class:me(["iconfont",S.threeData.icon]),style:ze({color:S.threeData.color})},null,6),t("span",null,i(S.threeData.label),1)])])]),schoolCountByxk:n(({record:S})=>[t("div",{class:"text-[#FFA864]",onClick:ht=>S.schoolCountByxk?_e({...B,...S},()=>e(U)("ZsSubjectCurXkMajorMatchCollege")):""},i(("textCompany"in c?c.textCompany:e(Ye))(S.schoolCountByxk,"个")),9,qa)]),majorCountByxk:n(({record:S})=>[t("div",Qa,i(("textCompany"in c?c.textCompany:e(Ye))(S.majorCountByxk,"个")),1)]),ppl:n(({record:S})=>[t("div",Ya,[(u(),ne(he,{width:S.ppl,background:"#7C92FF",class:"flex-1",key:S.ppl},null,8,["width"])),t("div",el,i(S.ppl+"%"),1)])]),_:2},1032,["columns","data","loading"])])):O("",!0)]}),_:2},1024))),128))]),_:2},1024)]))),128))]))),128)),l(I,{class:"justify-end mt-[20px]",total:e(q).total,current:e(q).current,"page-size":e(q).pageSize,onChange:e(x),onPageSizeChange:e(z),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size","onChange","onPageSizeChange"])],64)):(u(),C("div",tl,[l(s)]))]}),_:1},8,["loading"]),e(Z)==="ZsSubjectCurXkMajorMatchCollege"?(u(),ne(Oe,{key:0,data:e(h).selectRow,onCancel:r[8]||(r[8]=pe=>_e({},()=>e(U)(null)))},null,8,["data"])):O("",!0)])}}}),St=D=>(mt("data-v-7f32e40a"),D=D(),_t(),D),al={class:"max-w-container mx-auto"},ll=St(()=>t("div",{class:"border-solid border border-[#EDEDED]"},null,-1)),nl={key:0,class:"max-w-container mx-auto"},sl={key:0},il={key:1},cl={key:2},dl={key:1,class:"flex items-center justify-center flex-col min-h-[60vh]"},rl=St(()=>t("h1",{class:"font-bold"},"完善信息后，尊享选科特权",-1)),ul=we({__name:"subject",setup(D){wt({title:"新高考选科"});const{userInfo:v}=De(),{form:m}=le(()=>({tabRadio:"选科查院校/查专业",tabRadioList:["选科查院校/查专业","大学查选科","专业查选科"]}));return(V,N)=>{const T=xt,Z=gt,U=bo,y=Yo,P=ol,h=We;return u(),C("div",null,[t("div",al,[l(Z,{modelValue:e(m).tabRadio,"onUpdate:modelValue":N[0]||(N[0]=b=>e(m).tabRadio=b),class:"my-[10px]"},{default:n(()=>[(u(!0),C(G,null,ve(e(m).tabRadioList,b=>(u(),ne(T,{key:b,value:b},{radio:n(({checked:a})=>[t("div",{class:me(["text-center p-[8px_10px] bg-[#F2F5FF] text-[#7C92FF] rounded-[40px]",{"bg-[#7C92FF] radio-checked text-white":a}])},i(b),3)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),ll,e(v).score?(u(),C("div",nl,[e(m).tabRadio==="选科查院校/查专业"?(u(),C("div",sl,[l(U)])):O("",!0),e(m).tabRadio==="大学查选科"?(u(),C("div",il,[l(y)])):O("",!0),e(m).tabRadio==="专业查选科"?(u(),C("div",cl,[l(P)])):O("",!0)])):(u(),C("div",dl,[rl,l(h,{type:"primary",onClick:N[1]||(N[1]=b=>e(v).userInfoModal=!0)},{default:n(()=>[k("完善信息")]),_:1})]))])}}});const kl=it(ul,[["__scopeId","data-v-7f32e40a"]]);export{kl as default};

import{D as N,E as M,H as X,aM as ot,aN as nt,T as Ee,af as ge,ag as ye,Q as rt,aW as it,a7 as _e,at as st,al as qe,aX as ke,aY as at,aZ as lt,a_ as re,M as Q,aq as ut,aG as ct,a$ as dt,ah as vt,V as ft,W as pt}from"./entry.1a40d7cc.js";import{I as mt}from"./index.85ae3de8.js";import{m as L,p as u,D as f,E as k,G as v,H as Z,Q as b,R as de,I as w,F as R,U as O,L as B,A as ve,a3 as gt,C as x,N as He,O as yt,P as se,M as J,a as D,w as we,b as Me,n as Ye,r as q,o as kt,q as ie,X as wt,Y as $t,T as Te,a6 as bt,Z as ht,W as Ct,i as St,a1 as Ke,x as It}from"./swiper-vue.1d76a0fa.js";const Pt=L({name:"IconRotateLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=M("icon"),r=u(()=>[o,`${o}-rotate-left`,{[`${o}-spin`]:e.spin}]),i=u(()=>{const n={};return e.size&&(n.fontSize=X(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{t("click",n)}}}}),Lt=["stroke-width","stroke-linecap","stroke-linejoin"],zt=b("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"},null,-1),Ot=[zt];function Bt(e,t,o,r,i,a){return f(),k("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},Ot,14,Lt)}var Ce=N(Pt,[["render",Bt]]);const jt=Object.assign(Ce,{install:(e,t)=>{var o;const r=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(r+Ce.name,Ce)}}),Nt=L({name:"IconRotateRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=M("icon"),r=u(()=>[o,`${o}-rotate-right`,{[`${o}-spin`]:e.spin}]),i=u(()=>{const n={};return e.size&&(n.fontSize=X(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{t("click",n)}}}}),Mt=["stroke-width","stroke-linecap","stroke-linejoin"],At=b("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"},null,-1),Et=[At];function Tt(e,t,o,r,i,a){return f(),k("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},Et,14,Mt)}var Se=N(Nt,[["render",Tt]]);const Vt=Object.assign(Se,{install:(e,t)=>{var o;const r=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(r+Se.name,Se)}}),Wt=L({name:"IconOriginalSize",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=M("icon"),r=u(()=>[o,`${o}-original-size`,{[`${o}-spin`]:e.spin}]),i=u(()=>{const n={};return e.size&&(n.fontSize=X(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{t("click",n)}}}}),Ft=["stroke-width","stroke-linecap","stroke-linejoin"],Rt=b("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"},null,-1),Dt=b("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z",fill:"currentColor",stroke:"none"},null,-1),Zt=b("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"},null,-1),Gt=[Rt,Dt,Zt];function Ut(e,t,o,r,i,a){return f(),k("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},Gt,14,Ft)}var Ie=N(Wt,[["render",Ut]]);const _t=Object.assign(Ie,{install:(e,t)=>{var o;const r=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(r+Ie.name,Ie)}}),qt=L({name:"IconZoomIn",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=M("icon"),r=u(()=>[o,`${o}-zoom-in`,{[`${o}-spin`]:e.spin}]),i=u(()=>{const n={};return e.size&&(n.fontSize=X(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{t("click",n)}}}}),Ht=["stroke-width","stroke-linecap","stroke-linejoin"],Yt=b("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"},null,-1),Kt=[Yt];function Xt(e,t,o,r,i,a){return f(),k("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},Kt,14,Ht)}var Pe=N(qt,[["render",Xt]]);const Qt=Object.assign(Pe,{install:(e,t)=>{var o;const r=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(r+Pe.name,Pe)}}),Jt=L({name:"IconZoomOut",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=M("icon"),r=u(()=>[o,`${o}-zoom-out`,{[`${o}-spin`]:e.spin}]),i=u(()=>{const n={};return e.size&&(n.fontSize=X(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{t("click",n)}}}}),xt=["stroke-width","stroke-linecap","stroke-linejoin"],eo=b("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"},null,-1),to=[eo];function oo(e,t,o,r,i,a){return f(),k("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},to,14,xt)}var Le=N(Jt,[["render",oo]]);const no=Object.assign(Le,{install:(e,t)=>{var o;const r=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(r+Le.name,Le)}}),ro=L({name:"IconFullscreen",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=M("icon"),r=u(()=>[o,`${o}-fullscreen`,{[`${o}-spin`]:e.spin}]),i=u(()=>{const n={};return e.size&&(n.fontSize=X(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{t("click",n)}}}}),io=["stroke-width","stroke-linecap","stroke-linejoin"],so=b("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"},null,-1),ao=[so];function lo(e,t,o,r,i,a){return f(),k("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},ao,14,io)}var ze=N(ro,[["render",lo]]);const uo=Object.assign(ze,{install:(e,t)=>{var o;const r=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(r+ze.name,ze)}});var co=L({name:"RenderFunction",props:{renderFunc:{type:Function,required:!0}},render(){return this.renderFunc(this.$attrs)}});const vo=L({name:"ImageFooter",props:{title:{type:String},description:{type:String}},setup(){return{prefixCls:M("image-footer")}}}),fo=["title"],po=["title"];function mo(e,t,o,r,i,a){return f(),k("div",{class:v(e.prefixCls)},[e.title||e.description?(f(),k("div",{key:0,class:v(`${e.prefixCls}-caption`)},[e.title?(f(),k("div",{key:0,class:v(`${e.prefixCls}-caption-title`),title:e.title},de(e.title),11,fo)):w("v-if",!0),e.description?(f(),k("div",{key:1,class:v(`${e.prefixCls}-caption-description`),title:e.description},de(e.description),11,po)):w("v-if",!0)],2)):w("v-if",!0),e.$slots.extra?(f(),k("div",{key:1,class:v(`${e.prefixCls}-extra`)},[R(e.$slots,"extra")],2)):w("v-if",!0)],2)}var go=N(vo,[["render",mo]]);const yo=L({name:"ImagePreviewArrow",components:{IconLeft:ot,IconRight:nt},props:{onPrev:{type:Function},onNext:{type:Function}},setup(){return{prefixCls:M("image-preview-arrow")}}});function ko(e,t,o,r,i,a){const n=O("icon-left"),p=O("icon-right");return f(),k("div",{class:v(e.prefixCls)},[b("div",{class:v([`${e.prefixCls}-left`,{[`${e.prefixCls}-disabled`]:!e.onPrev}]),onClick:t[0]||(t[0]=s=>{s.preventDefault(),e.onPrev&&e.onPrev()})},[B(n)],2),b("div",{class:v([`${e.prefixCls}-right`,{[`${e.prefixCls}-disabled`]:!e.onNext}]),onClick:t[1]||(t[1]=s=>{s.preventDefault(),e.onNext&&e.onNext()})},[B(p)],2)],2)}var wo=N(yo,[["render",ko]]);function $o(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gt(e)}var Ne=L({name:"ImagePreviewAction",components:{Tooltip:Ee},inheritAttrs:!1,props:{name:{type:String},disabled:{type:Boolean}},setup(e,{slots:t,attrs:o}){const r=M("image-preview-toolbar-action");return()=>{var i;const{name:a,disabled:n}=e,p=(i=t.default)==null?void 0:i.call(t);if(!p||!p.length)return null;const s=B("div",ve({class:[`${r}`,{[`${r}-disabled`]:n}],onMousedown:g=>{g.preventDefault()}},o),[B("span",{class:`${r}-content`},[p])]);return a?B(Ee,{class:`${r}-tooltip`,content:a},$o(s)?s:{default:()=>[s]}):s}}}),bo=L({name:"ImagePreviewToolbar",components:{RenderFunction:co,PreviewAction:Ne},props:{actions:{type:Array,default:()=>[]},actionsLayout:{type:Array,default:()=>[]}},setup(e){const{actions:t,actionsLayout:o}=x(e),r=M("image-preview-toolbar"),i=u(()=>{const a=new Set(o.value),n=s=>a.has(s.key);return t.value.filter(n).sort((s,g)=>{const l=o.value.indexOf(s.key),$=o.value.indexOf(g.key);return l>$?1:-1})});return{prefixCls:r,resultActions:i}}});function ho(e,t,o,r,i,a){const n=O("RenderFunction"),p=O("PreviewAction");return f(),k("div",{class:v(e.prefixCls)},[(f(!0),k(He,null,yt(e.resultActions,s=>(f(),se(p,{key:s.key,name:s.name,disabled:s.disabled,onClick:s.onClick},{default:J(()=>[B(n,{"render-func":s.content},null,8,["render-func"])]),_:2},1032,["name","disabled","onClick"]))),128)),R(e.$slots,"default")],2)}var Co=N(bo,[["render",ho]]);function Xe(e){const t=D(e||"beforeLoad"),o=u(()=>t.value==="beforeLoad"),r=u(()=>t.value==="loading"),i=u(()=>t.value==="error"),a=u(()=>t.value==="loaded");return{status:t,isBeforeLoad:o,isLoading:r,isError:i,isLoaded:a,setLoadStatus:n=>{t.value=n}}}function So(e,t,o,r,i){let a=o,n=r;return o&&(e.width>t.width?a=0:(t.left>e.left&&(a-=Math.abs(e.left-t.left)/i),t.right<e.right&&(a+=Math.abs(e.right-t.right)/i))),r&&(e.height>t.height?n=0:(t.top>e.top&&(n-=Math.abs(e.top-t.top)/i),t.bottom<e.bottom&&(n+=Math.abs(e.bottom-t.bottom)/i))),[a,n]}function Io(e){const{wrapperEl:t,imageEl:o,scale:r}=x(e),i=D([0,0]),a=D(!1);let n=0,p=0,s=[0,0];const g=()=>{if(!t.value||!o.value)return;const c=t.value.getBoundingClientRect(),V=o.value.getBoundingClientRect(),[y,C]=So(c,V,i.value[0],i.value[1],r.value);(y!==i.value[0]||C!==i.value[1])&&(i.value=[y,C])},l=c=>{c.preventDefault&&c.preventDefault();const V=s[0]+(c.pageX-n)/r.value,y=s[1]+(c.pageY-p)/r.value;i.value=[V,y]},$=c=>{c.preventDefault&&c.preventDefault(),a.value=!1,g(),P()},S=c=>{c.target===c.currentTarget&&(c.preventDefault&&c.preventDefault(),a.value=!0,n=c.pageX,p=c.pageY,s=[...i.value],ge(window,"mousemove",l,!1),ge(window,"mouseup",$,!1))};function P(){ye(window,"mousemove",l,!1),ye(window,"mouseup",$,!1)}return we(c=>{o.value&&ge(o.value,"mousedown",S),c(()=>{o.value&&ye(o.value,"mousedown",S),P()})}),Me([r],()=>{Ye(()=>g())}),{translate:i,moving:a,resetTranslate(){i.value=[0,0]}}}function Po(e){const{container:t,hidden:o}=x(e);let r=!1,i={};const a=s=>s.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):s.offsetWidth-s.clientWidth,n=()=>{if(t.value&&t.value.style.overflow!=="hidden"){const s=t.value.style;r=!0;const g=a(t.value);g&&(i.width=s.width,t.value.style.width=`calc(${t.value.style.width||"100%"} - ${g}px)`),i.overflow=s.overflow,t.value.style.overflow="hidden"}},p=()=>{if(t.value&&r){const s=i;Object.keys(s).forEach(g=>{t.value.style[g]=s[g]})}r=!1,i={}};return we(s=>{o.value?n():p(),s(()=>{p()})}),[p,n]}function Lo(e,t){const{popupContainer:o}=x(t);return u(()=>(rt(o.value)?it(o.value):o.value)||e)}const T=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map(e=>+(e/100).toFixed(2)),Qe=T[0],Je=T[T.length-1];function zo(e=1,t="zoomIn"){let o=T.indexOf(e);return o===-1&&(o=Bo(e)),t==="zoomIn"?o===T.length-1?e:T[o+1]:o===0?e:T[o-1]}function Oo(e,t=1.1,o="zoomIn"){const r=o==="zoomIn"?t:1/t,i=Number.parseFloat((e*r).toFixed(3));return Math.min(Je,Math.max(Qe,i))}function Bo(e){let t=T.length-1;for(let o=0;o<T.length;o++){const r=T[o];if(e===r){t=o;break}if(e<r){const i=T[o-1];t=i===void 0||Math.abs(i-e)<=Math.abs(r-e)?o-1:o;break}}return t}var jo=Object.defineProperty,Ve=Object.getOwnPropertySymbols,No=Object.prototype.hasOwnProperty,Mo=Object.prototype.propertyIsEnumerable,We=(e,t,o)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Ao=(e,t)=>{for(var o in t||(t={}))No.call(t,o)&&We(e,o,t[o]);if(Ve)for(var o of Ve(t))Mo.call(t,o)&&We(e,o,t[o]);return e};const Oe=90;var Eo=L({name:"ImagePreview",components:{PreviewArrow:wo,PreviewToolbar:Co,IconLoading:_e,IconClose:st},props:{renderToBody:{type:Boolean,default:!0},src:{type:String},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]},inGroup:{type:Boolean,default:!1},groupArrowProps:{type:Object,default:()=>({})},escToClose:{type:Boolean,default:!0},wheelZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},defaultScale:{type:Number,default:1},zoomRate:{type:Number,default:1.1}},emits:["close","update:visible"],setup(e,{emit:t}){const{t:o}=qe(),{src:r,popupContainer:i,visible:a,defaultVisible:n,maskClosable:p,actionsLayout:s,defaultScale:g,zoomRate:l}=x(e),$=D(),S=D(),P=M("image-preview"),[c,V]=ke(n.value,q({value:a})),y=u(()=>[P,{[`${P}-hide`]:!c.value}]),C=Lo(document.body,q({popupContainer:i})),G=u(()=>C.value===document.body),{zIndex:H}=at("dialog",{visible:c}),ee=u(()=>{const m=G.value?{zIndex:H.value,position:"fixed"}:{zIndex:"inherit",position:"absolute"};return Ao({},m)}),{isLoading:te,isLoaded:W,setLoadStatus:A}=Xe(),F=D(0),I=D(g.value),{translate:d,moving:h,resetTranslate:U}=Io(q({wrapperEl:$,imageEl:S,visible:c,scale:I})),E=D(!1);let j=null;const z=()=>{!E.value&&(E.value=!0),j&&clearTimeout(j),j=setTimeout(()=>{E.value=!1},1e3)};Po(q({container:C,hidden:c}));function Y(){F.value=0,I.value=g.value,U()}const ae=m=>s.value.includes(m),fe=m=>{switch(m.stopPropagation(),m.preventDefault(),m.key){case re.ESC:e.escToClose&&ne();break;case re.ARROW_LEFT:e.groupArrowProps.onPrev&&e.groupArrowProps.onPrev();break;case re.ARROW_RIGHT:e.groupArrowProps.onNext&&e.groupArrowProps.onNext();break;case re.ARROW_UP:ae("zoomIn")&&me("zoomIn");break;case re.ARROW_DOWN:ae("zoomOut")&&me("zoomOut");break;case re.SPACE:ae("originalSize")&&K(1);break}},$e=lt(m=>{if(m.preventDefault(),m.stopPropagation(),!e.wheelZoom)return;const ue=(m.deltaY||m.deltaX)>0?"zoomOut":"zoomIn",he=Oo(I.value,l.value,ue);K(he)});let oe=!1;const be=()=>{Ye(()=>{var m;(m=$==null?void 0:$.value)==null||m.focus()}),e.keyboard&&!oe&&(oe=!0,ge(C.value,"keydown",fe))},le=()=>{oe&&(oe=!1,ye(C.value,"keydown",fe))};Me([r,c],()=>{c.value?(Y(),A("loading"),be()):le()});function ne(){c.value&&(t("close"),t("update:visible",!1),V(!1))}function pe(m){var _;(_=$==null?void 0:$.value)==null||_.focus(),p.value&&m.target===m.currentTarget&&ne()}function K(m){I.value!==m&&(I.value=m,z())}function et(){const m=$.value.getBoundingClientRect(),_=S.value.getBoundingClientRect(),ue=m.height/(_.height/I.value),he=m.width/(_.width/I.value),tt=Math.max(ue,he);K(tt)}function Ae(m){const ue=m==="clockwise"?(F.value+Oe)%360:F.value===0?360-Oe:F.value-Oe;F.value=ue}function me(m){const _=zo(I.value,m);K(_)}return kt(()=>{le()}),{prefixCls:P,classNames:y,container:C,wrapperStyles:ee,scale:I,translate:d,rotate:F,moving:h,mergedVisible:c,isLoading:te,isLoaded:W,scaleValueVisible:E,refWrapper:$,refImage:S,onWheel:$e,onMaskClick:pe,onCloseClick:ne,onImgLoad(){A("loaded")},onImgError(){A("error")},actions:u(()=>[{key:"fullScreen",name:o("imagePreview.fullScreen"),content:()=>ie(uo),onClick:()=>et()},{key:"rotateRight",name:o("imagePreview.rotateRight"),content:()=>ie(Vt),onClick:()=>Ae("clockwise")},{key:"rotateLeft",name:o("imagePreview.rotateLeft"),content:()=>ie(jt),onClick:()=>Ae("counterclockwise")},{key:"zoomIn",name:o("imagePreview.zoomIn"),content:()=>ie(Qt),onClick:()=>me("zoomIn"),disabled:I.value===Je},{key:"zoomOut",name:o("imagePreview.zoomOut"),content:()=>ie(no),onClick:()=>me("zoomOut"),disabled:I.value===Qe},{key:"originalSize",name:o("imagePreview.originalSize"),content:()=>ie(_t),onClick:()=>K(1)}])}}});const To=["src"];function Vo(e,t,o,r,i,a){const n=O("IconLoading"),p=O("PreviewToolbar"),s=O("IconClose"),g=O("PreviewArrow");return f(),se(Ct,{to:e.container,disabled:!e.renderToBody},[b("div",{class:v(e.classNames),style:Z(e.wrapperStyles)},[B(Te,{name:"image-fade",onBeforeEnter:t[0]||(t[0]=l=>l.parentElement&&(l.parentElement.style.display="block")),onAfterLeave:t[1]||(t[1]=l=>l.parentElement&&(l.parentElement.style.display=""))},{default:J(()=>[wt(b("div",{class:v(`${e.prefixCls}-mask`)},null,2),[[$t,e.mergedVisible]])]),_:1}),e.mergedVisible?(f(),k("div",{key:0,ref:"refWrapper",tabindex:"0",class:v(`${e.prefixCls}-wrapper`),onClick:t[6]||(t[6]=(...l)=>e.onMaskClick&&e.onMaskClick(...l)),onWheel:t[7]||(t[7]=ht((...l)=>e.onWheel&&e.onWheel(...l),["prevent","stop"]))},[w(" img "),b("div",{class:v(`${e.prefixCls}-img-container`),style:Z({transform:`scale(${e.scale}, ${e.scale})`}),onClick:t[4]||(t[4]=(...l)=>e.onMaskClick&&e.onMaskClick(...l))},[(f(),k("img",{ref:"refImage",key:e.src,src:e.src,class:v([`${e.prefixCls}-img`,{[`${e.prefixCls}-img-moving`]:e.moving}]),style:Z({transform:`translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg)`}),onLoad:t[2]||(t[2]=(...l)=>e.onImgLoad&&e.onImgLoad(...l)),onError:t[3]||(t[3]=(...l)=>e.onImgError&&e.onImgError(...l))},null,46,To))],6),w(" loading "),e.isLoading?(f(),k("div",{key:0,class:v(`${e.prefixCls}-loading`)},[B(n)],2)):w("v-if",!0),w(" scale value "),B(Te,{name:"image-fade"},{default:J(()=>[e.scaleValueVisible?(f(),k("div",{key:0,class:v(`${e.prefixCls}-scale-value`)},de((e.scale*100).toFixed(0))+"% ",3)):w("v-if",!0)]),_:1}),w(" toolbar "),e.isLoaded&&e.actionsLayout.length?(f(),se(p,{key:1,actions:e.actions,"actions-layout":e.actionsLayout},{default:J(()=>[R(e.$slots,"actions")]),_:3},8,["actions","actions-layout"])):w("v-if",!0),w(" close btn "),e.closable?(f(),k("div",{key:2,class:v(`${e.prefixCls}-close-btn`),onClick:t[5]||(t[5]=(...l)=>e.onCloseClick&&e.onCloseClick(...l))},[B(s)],2)):w("v-if",!0),w(" group arrow "),e.inGroup?(f(),se(g,bt(ve({key:3},e.groupArrowProps)),null,16)):w("v-if",!0)],34)):w("v-if",!0)],6)],8,["to","disabled"])}var ce=N(Eo,[["render",Vo]]);function Fe(e){if(Q(e))return;if(!X(e)&&/^\d+(%)$/.test(e))return e;const t=parseInt(e,10);return X(t)?`${t}px`:void 0}const xe=Symbol("PreviewGroupInjectionKey");var Wo=Object.defineProperty,Re=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,Ro=Object.prototype.propertyIsEnumerable,De=(e,t,o)=>t in e?Wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Ze=(e,t)=>{for(var o in t||(t={}))Fo.call(t,o)&&De(e,o,t[o]);if(Re)for(var o of Re(t))Ro.call(t,o)&&De(e,o,t[o]);return e};let Do=0;const Zo=L({name:"Image",components:{IconImageClose:mt,IconLoading:_e,ImageFooter:go,ImagePreview:ce},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},src:{type:String},width:{type:[String,Number]},height:{type:[String,Number]},title:{type:String},description:{type:String},fit:{type:String},alt:{type:String},hideFooter:{type:[Boolean,String],default:!1},footerPosition:{type:String,default:"inner"},showLoader:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},previewVisible:{type:Boolean,default:void 0},defaultPreviewVisible:{type:Boolean,default:!1},previewProps:{type:Object},footerClass:{type:[String,Array,Object]}},emits:["preview-visible-change","update:previewVisible"],setup(e,{attrs:t,slots:o,emit:r}){const{t:i}=qe(),{height:a,width:n,hideFooter:p,title:s,description:g,src:l,footerPosition:$,defaultPreviewVisible:S,previewVisible:P,preview:c,previewProps:V}=x(e),y=St(xe,void 0),C=M("image"),G=D(),{isLoaded:H,isError:ee,isLoading:te,setLoadStatus:W}=Xe(),A=u(()=>({width:Fe(n==null?void 0:n.value),height:Fe(a==null?void 0:a.value)})),F=u(()=>e.fit?{objectFit:e.fit}:{}),I=u(()=>[`${C}`,{[`${C}-loading`]:te.value,[`${C}-loading-error`]:ee.value,[`${C}-with-footer-inner`]:H&&h&&$.value==="inner",[`${C}-with-footer-outer`]:H&&h&&$.value==="outer"},t.class]),d=u(()=>[A.value,t.style]),h=u(()=>s!=null&&s.value||g!=null&&g.value||o.extra?ut(p.value)?!p.value&&H.value:p.value==="never":!1),U=u(()=>ct(t,["class","style"])),[E,j]=ke(S.value,q({value:P})),z=u(()=>!(y!=null&&y.preview)&&c.value);we(()=>{dt||!G.value||(G.value.src=l==null?void 0:l.value,W("loading"))});const Y=Do++;we(be=>{var le,ne,pe;const K=(pe=y==null?void 0:y.registerImageUrl)==null?void 0:pe.call(y,Y,((ne=(le=V==null?void 0:V.value)==null?void 0:le.src)!=null?ne:l==null?void 0:l.value)||"",c.value);be(()=>{K==null||K()})});function ae(){W("loaded")}function fe(){W("error")}function $e(){c.value&&(y!=null&&y.preview?y.preview(Y):(r("preview-visible-change",!0),j(!0)))}function oe(){r("preview-visible-change",!1),j(!1)}return{t:i,refImg:G,prefixCls:C,wrapperClassNames:I,wrapperStyles:d,showFooter:h,imgProps:U,imgStyle:A,isLoaded:H,isError:ee,isLoading:te,mergedPreviewVisible:E,mergePreview:z,onImgLoaded:ae,onImgLoadError:fe,onImgClick:$e,onPreviewClose:oe,fitStyle:F}}}),Go=["title","alt"];function Uo(e,t,o,r,i,a){const n=O("IconImageClose"),p=O("IconLoading"),s=O("ImageFooter"),g=O("ImagePreview");return f(),k("div",{class:v(e.wrapperClassNames),style:Z(e.wrapperStyles)},[b("img",ve({ref:"refImg",class:`${e.prefixCls}-img`},e.imgProps,{style:Ze(Ze({},e.imgStyle),e.fitStyle),title:e.title,alt:e.alt,onLoad:t[0]||(t[0]=(...l)=>e.onImgLoaded&&e.onImgLoaded(...l)),onError:t[1]||(t[1]=(...l)=>e.onImgLoadError&&e.onImgLoadError(...l)),onClick:t[2]||(t[2]=(...l)=>e.onImgClick&&e.onImgClick(...l))}),null,16,Go),e.isLoaded?w("v-if",!0):(f(),k("div",{key:0,class:v(`${e.prefixCls}-overlay`)},[e.isError?R(e.$slots,"error",{key:0},()=>[b("div",{class:v(`${e.prefixCls}-error`)},[b("div",{class:v(`${e.prefixCls}-error-icon`)},[R(e.$slots,"error-icon",{},()=>[B(n)])],2),e.alt||e.description?(f(),k("div",{key:0,class:v(`${e.prefixCls}-error-alt`)},de(e.alt||e.description),3)):w("v-if",!0)],2)]):w("v-if",!0),e.isLoading&&(e.showLoader||e.$slots.loader)?R(e.$slots,"loader",{key:1},()=>[b("div",{class:v([`${e.prefixCls}-loader`])},[b("div",{class:v(`${e.prefixCls}-loader-spin`)},[B(p),b("div",{class:v(`${e.prefixCls}-loader-spin-text`)},de(e.t("image.loading")),3)],2)],2)]):w("v-if",!0)],2)),e.showFooter?(f(),se(s,{key:1,class:v(e.footerClass),"prefix-cls":e.prefixCls,title:e.title,description:e.description},Ke({_:2},[e.$slots.extra?{name:"extra",fn:J(()=>[R(e.$slots,"extra")])}:void 0]),1032,["class","prefix-cls","title","description"])):w("v-if",!0),e.isLoaded&&e.mergePreview?(f(),se(g,ve({key:2,src:e.src},e.previewProps,{visible:e.mergedPreviewVisible,"render-to-body":e.renderToBody,onClose:e.onPreviewClose}),{actions:J(()=>[R(e.$slots,"preview-actions")]),_:3},16,["src","visible","render-to-body","onClose"])):w("v-if",!0)],6)}var Be=N(Zo,[["render",Uo]]),_o=L({name:"ImagePreviewGroup",components:{ImagePreview:ce},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},srcList:{type:Array},current:{type:Number},defaultCurrent:{type:Number,default:0},infinite:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[String,Object]}},emits:["change","update:current","visible-change","update:visible"],setup(e,{emit:t}){const{srcList:o,visible:r,defaultVisible:i,current:a,defaultCurrent:n,infinite:p}=x(e),[s,g]=ke(i.value,q({value:r})),l=d=>{d!==s.value&&(t("visible-change",d),t("update:visible",d),g(d))},$=u(()=>new Map(vt(o==null?void 0:o.value)?o==null?void 0:o.value.map((d,h)=>[h,{url:d,canPreview:!0}]):[])),S=D(new Map($.value||[])),P=u(()=>Array.from(S.value.keys())),c=u(()=>P.value.length);function V(d,h,U){return $.value.has(d)||S.value.set(d,{url:h,canPreview:U}),function(){$.value.has(d)||S.value.delete(d)}}Me($,()=>{S.value=new Map($.value||[])});const[y,C]=ke(n.value,q({value:a})),G=d=>{d!==y.value&&(t("change",d),t("update:current",d),C(d))},H=u(()=>P.value[y.value]),ee=d=>{const h=P.value.indexOf(d);h!==y.value&&G(h)},te=u(()=>{var d;return(d=S.value.get(H.value))==null?void 0:d.url});It(xe,q({registerImageUrl:V,preview:d=>{l(!0),ee(d)}}));const W=u(()=>{const d=(U,E)=>{var j;for(let z=U;z<=E;z++){const Y=P.value[z];if((j=S.value.get(Y))!=null&&j.canPreview)return z}},h=d(y.value+1,c.value-1);return Q(h)&&p.value?d(0,y.value-1):h}),A=u(()=>{const d=(U,E)=>{var j;for(let z=U;z>=E;z--){const Y=P.value[z];if((j=S.value.get(Y))!=null&&j.canPreview)return z}},h=d(y.value-1,0);return Q(h)&&p.value?d(c.value-1,y.value+1):h}),F=u(()=>Q(A.value)?void 0:()=>{!Q(A.value)&&G(A.value)}),I=u(()=>Q(W.value)?void 0:()=>{!Q(W.value)&&G(W.value)});return{mergedVisible:s,currentUrl:te,prevIndex:A,nextIndex:W,onClose(){l(!1)},groupArrowProps:q({onPrev:F,onNext:I})}}}),qo=Object.defineProperty,Ho=Object.defineProperties,Yo=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Ue=(e,t,o)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Qo=(e,t)=>{for(var o in t||(t={}))Ko.call(t,o)&&Ue(e,o,t[o]);if(Ge)for(var o of Ge(t))Xo.call(t,o)&&Ue(e,o,t[o]);return e},Jo=(e,t)=>Ho(e,Yo(t));function xo(e,t,o,r,i,a){const n=O("ImagePreview");return f(),k(He,null,[R(e.$slots,"default"),B(n,ve(Jo(Qo({},e.$attrs),{groupArrowProps:e.groupArrowProps}),{"in-group":"",src:e.currentUrl,visible:e.mergedVisible,"mask-closable":e.maskClosable,closable:e.closable,"actions-layout":e.actionsLayout,"popup-container":e.popupContainer,"render-to-body":e.renderToBody,onClose:e.onClose}),Ke({_:2},[e.$slots.actions?{name:"actions",fn:J(()=>[R(e.$slots,"actions",{url:e.currentUrl})])}:void 0]),1040,["src","visible","mask-closable","closable","actions-layout","popup-container","render-to-body","onClose"])],64)}var je=N(_o,[["render",xo]]);const nn=Object.assign(Be,{Preview:ce,PreviewGroup:je,install:(e,t)=>{ft(e,t);const o=pt(t);e.component(o+Be.name,Be),e.component(o+ce.name,ce),e.component(o+je.name,je),e.component(o+Ne.name,Ne)}});export{nn as I,je as a};

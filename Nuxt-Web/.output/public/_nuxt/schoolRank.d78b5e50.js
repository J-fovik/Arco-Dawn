import{u as I,b as M,h as O,N as B,c as F,A as D,B as $,p as E,n as K,f as j,C as U,s as H,_ as X}from"./entry.1a40d7cc.js";import{_ as G}from"./index.vue.bf4eae92.js";import{_ as Q}from"./index.vue.316b2516.js";import{L as W,b as Y}from"./index.83d9b74c.js";import{_ as q}from"./index.vue.372ac32c.js";import{P as J}from"./index.a57cdc53.js";import{u as Z}from"./usePagination.9cd68578.js";import{m as ee,a as te,ad as ae,D as f,E as x,Q as l,L as o,M as i,u as e,_ as y,N as se,O as oe,P as ne,R as le}from"./swiper-vue.1d76a0fa.js";import"./index.30d5eb30.js";const ie={class:"max-w-container mx-auto"},re={class:"flex items-center mt-[20px]"},ce={class:"w-[150px]"},_e={class:"w-full ml-[20px]"},pe={class:"w-[120px] ml-[20px]"},ue={class:"flex items-center"},me={class:"flex items-center justify-center w-[40px] h-[40px] bg-[#F5F5F5] rounded-[40px] mr-[30px]"},de=["onClick"],fe=ee({__name:"schoolRank",async setup(ge){let c,g;I({title:"大学排名"});const{$zsFetch:v}=j(),{getDictionValue:_}=M(),{form:a}=O(()=>({yxmc:"",isMatch:!1,rankType:_("RANK")[0].value,sortType:""})),{pagination:p,resetData:u,onPageChange:k,onPageSizeChange:C}=Z(()=>{window.scrollTo(0,0),z()}),d=te([{title:"排名类型",key:"rankType",isShow:!0,multiple:!1,options:_("RANK")},{title:"院校类型",key:"sortType",isShow:!0,multiple:!1,options:[...B,..._("YXLX")]}]),w=n=>{var t;a.value.rankType!==n.rankType?(a.value.rankType=n.rankType,a.value.sortType=""):a.value.sortType=n.sortType,a.value.rankType!==((t=_("RANK")[0])==null?void 0:t.value)?d.value[1].isShow=!1:d.value[1].isShow=!0,u()},{data:h,status:T,refresh:z}=([c,g]=ae(async()=>F("schoolRankList",async()=>{var m,r;const[n,t]=await v(D.MORE.GET_SCHOOL_RANK,{body:{...a.value,isMatch:a.value.isMatch?"1":"0",currentPage:p.value.current,pageSize:p.value.pageSize,pagingOrNot:1}});return{total:((m=t==null?void 0:t.data)==null?void 0:m.totalCount)??0,schoolList:((r=t==null?void 0:t.data)==null?void 0:r.list)??[]}},{default:()=>({total:0,schoolList:[]})})),c=await c,g(),c);return(n,t)=>{const m=U,r=$,S=H,L=E,N=G,P=Q,R=Y,b=q,V=W,A=J;return f(),x("div",ie,[l("div",re,[l("div",ce,[o(r,{size:"large"},{default:i(()=>[o(m,{modelValue:e(a).isMatch,"onUpdate:modelValue":t[0]||(t[0]=s=>e(a).isMatch=s),onChange:e(u)},{default:i(()=>[y(" 完全匹配 ")]),_:1},8,["modelValue","onChange"])]),_:1})]),l("div",_e,[o(L,{modelValue:e(a).yxmc,"onUpdate:modelValue":t[1]||(t[1]=s=>e(a).yxmc=s),modelModifiers:{trim:!0},size:"large",class:"rounded-lg h-[38px]",placeholder:"搜索你感兴趣的院校","allow-clear":"",onClear:e(u)},{prefix:i(()=>[o(S)]),_:1},8,["modelValue","onClear"])]),l("div",pe,[o(r,{type:"primary",size:"large",class:"openButton w-[120px] rounded-[4px]",onClick:e(u)},{default:i(()=>[y(" 搜索 ")]),_:1},8,["onClick"])])]),o(N,{data:e(d),"default-values":e(a),onChange:w,class:"mt-[20px]"},null,8,["data","default-values"]),o(V,{class:"list-border mt-[20px]",bordered:!1,loading:e(T)==="pending"},{empty:i(()=>[o(b)]),default:i(()=>[(f(!0),x(se,null,oe(e(h).schoolList,(s,he)=>(f(),ne(R,{key:s.id},{default:i(()=>[l("div",ue,[l("div",me,le(s==null?void 0:s.rankOut),1),l("div",{class:"flex-1",onClick:xe=>("navigateTo"in n?n.navigateTo:e(K))(`/college/${s.id}`)},[o(P,{school:s},null,8,["school"])],8,de)])]),_:2},1024))),128))]),_:1},8,["loading"]),o(A,{class:"justify-end mt-[20px]",total:e(h).total,current:e(p).current,"page-size":e(p).pageSize,onChange:e(k),onPageSizeChange:e(C),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size","onChange","onPageSizeChange"])])}}});const Ne=X(fe,[["__scopeId","data-v-357f9a96"]]);export{Ne as default};

import{D as M,T as oe,E as w,af as j,ag as Y,P as z,m as re,L as se,ah as D,M as ue,V as de,W as me}from"./entry.1a40d7cc.js";import{m as B,a as k,p as h,U as C,D as u,P as $,M as ve,Q as q,A as fe,Z as ce,E as g,N as L,O as H,G as p,H as V,R as ge,L as G,I as S,C as pe,t as ye,b as he}from"./swiper-vue.1d76a0fa.js";const be=B({name:"SliderButton",components:{Tooltip:oe},inheritAttrs:!1,props:{direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},formatTooltip:{type:Function},value:[String,Number],tooltipPosition:{type:String},showTooltip:{type:Boolean,default:!0}},emits:["movestart","moving","moveend"],setup(e,{emit:n}){const r=w("slider-btn"),o=k(!1),d=s=>{e.disabled||(s.preventDefault(),o.value=!0,j(window,"mousemove",f),j(window,"mouseup",a),j(window,"contextmenu",a),n("movestart"))},f=s=>{n("moving",s.clientX,s.clientY)},a=()=>{o.value=!1,Y(window,"mousemove",f),Y(window,"mouseup",a),n("moveend")},l=h(()=>[r]),y=h(()=>{var s;return((s=e.tooltipPosition)!=null?s:e.direction==="vertical")?"right":"top"}),c=h(()=>{var s,A;return(A=(s=e.formatTooltip)==null?void 0:s.call(e,e.value))!=null?A:`${e.value}`}),m=h(()=>e.showTooltip?o.value?!0:void 0:!1);return{prefixCls:r,cls:l,tooltipContent:c,mergedTooltipPosition:y,popupVisible:m,handleMouseDown:d}}}),Ce=["aria-disabled","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"];function ke(e,n,r,o,d,f){const a=C("tooltip");return u(),$(a,{"popup-visible":e.popupVisible,position:e.mergedTooltipPosition,content:e.tooltipContent},{default:ve(()=>[q("div",fe(e.$attrs,{tabindex:"0",role:"slider","aria-disabled":e.disabled,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":e.value,"aria-valuetext":e.tooltipContent,class:e.cls,onMousedown:n[0]||(n[0]=(...l)=>e.handleMouseDown&&e.handleMouseDown(...l)),onClick:n[1]||(n[1]=ce(()=>{},["stop"]))}),null,16,Ce)]),_:1},8,["popup-visible","position","content"])}var $e=M(be,[["render",ke]]);const b=(e,[n,r])=>{const o=Math.max((e-n)/(r-n),0);return`${z.round(o*100,2)}%`},R=(e,n)=>n==="vertical"?{bottom:e}:{left:e},Se=B({name:"SliderDots",props:{data:{type:Array,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},direction:{type:String,default:"horizontal"}},setup(e){return{prefixCls:w("slider"),getStyle:o=>R(b(o,[e.min,e.max]),e.direction)}}});function Ve(e,n,r,o,d,f){return u(),g("div",{class:p(`${e.prefixCls}-dots`)},[(u(!0),g(L,null,H(e.data,(a,l)=>(u(),g("div",{key:l,class:p(`${e.prefixCls}-dot-wrapper`),style:V(e.getStyle(a.key))},[q("div",{class:p([`${e.prefixCls}-dot`,{[`${e.prefixCls}-dot-active`]:a.isActive}])},null,2)],6))),128))],2)}var Me=M(Se,[["render",Ve]]);const we=B({name:"SliderMarks",props:{data:{type:Array,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},direction:{type:String,default:"horizontal"}},setup(e){return{prefixCls:w("slider"),getStyle:o=>R(b(o,[e.min,e.max]),e.direction)}}});function Be(e,n,r,o,d,f){return u(),g("div",{class:p(`${e.prefixCls}-marks`)},[(u(!0),g(L,null,H(e.data,(a,l)=>(u(),g("div",{key:l,"aria-hidden":"true",class:p(`${e.prefixCls}-mark`),style:V(e.getStyle(a.key))},ge(a.content),7))),128))],2)}var Ne=M(we,[["render",Be]]);const Te=B({name:"SliderTicks",props:{value:{type:Array,required:!0},step:{type:Number,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},direction:{type:String,default:"horizontal"}},setup(e){const n=w("slider"),r=h(()=>{const d=[],f=Math.floor((e.max-e.min)/e.step);for(let a=0;a<=f;a++){const l=z.plus(a*e.step,e.min);l<=e.min||l>=e.max||d.push({key:l,isActive:l>=e.value[0]&&l<=e.value[1]})}return d});return{prefixCls:n,steps:r,getStyle:d=>R(b(d,[e.min,e.max]),e.direction)}}});function De(e,n,r,o,d,f){return u(),g("div",{class:p(`${e.prefixCls}-ticks`)},[(u(!0),g(L,null,H(e.steps,(a,l)=>(u(),g("div",{key:l,class:p([`${e.prefixCls}-tick`,{[`${e.prefixCls}-tick-active`]:a.isActive}]),style:V(e.getStyle(a.key))},null,6))),128))],2)}var qe=M(Te,[["render",De]]);const Ae=B({name:"SliderInput",components:{InputNumber:re},props:{modelValue:{type:Array,required:!0},min:{type:Number},max:{type:Number},step:{type:Number},disabled:{type:Boolean},range:{type:Boolean}},emits:["startChange","endChange"],setup(e,{emit:n}){return{prefixCls:w("slider")}}});function Ee(e,n,r,o,d,f){const a=C("input-number");return u(),g("div",{class:p(`${e.prefixCls}-input`)},[e.range?(u(),g(L,{key:0},[G(a,{min:e.min,max:e.max,step:e.step,disabled:e.disabled,"model-value":e.modelValue[0],"hide-button":"",onChange:n[0]||(n[0]=l=>e.$emit("startChange",l))},null,8,["min","max","step","disabled","model-value"]),q("div",{class:p(`${e.prefixCls}-input-hyphens`)},null,2)],64)):S("v-if",!0),G(a,{min:e.min,max:e.max,step:e.step,disabled:e.disabled,"model-value":e.modelValue[1],"hide-button":"",onChange:n[1]||(n[1]=l=>e.$emit("endChange",l))},null,8,["min","max","step","disabled","model-value"])],2)}var Pe=M(Ae,[["render",Ee]]);const ze=B({name:"Slider",components:{SliderButton:$e,SliderDots:Me,SliderMarks:Ne,SliderTicks:qe,SliderInput:Pe},props:{modelValue:{type:[Number,Array],default:void 0},defaultValue:{type:[Number,Array],default:0},step:{type:Number,default:1},min:{type:Number,default:0},marks:{type:Object},max:{type:Number,default:100},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},showTicks:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},range:{type:Boolean,default:!1},formatTooltip:{type:Function},showTooltip:{type:Boolean,default:!0}},emits:{"update:modelValue":e=>!0,change:e=>!0},setup(e,{emit:n}){const{modelValue:r}=pe(e),o=w("slider"),{mergedDisabled:d,eventHandlers:f}=se({disabled:ye(e,"disabled")}),a=k(null),l=k(),y=e.modelValue?e.modelValue:e.defaultValue,c=k(D(y)?y[0]:0),m=k(D(y)?y[1]:y);he(r,t=>{var i,v,E,P,N;D(t)?(c.value=(v=(i=t[0])!=null?i:e.min)!=null?v:0,m.value=(P=(E=t[1])!=null?E:e.min)!=null?P:0):m.value=(N=t??e.min)!=null?N:0});const s=()=>{var t,i;e.range?(n("update:modelValue",[c.value,m.value]),n("change",[c.value,m.value])):(n("update:modelValue",m.value),n("change",m.value)),(i=(t=f.value)==null?void 0:t.onChange)==null||i.call(t)},A=t=>{t=t??e.min,c.value=t,s()},Q=t=>{t=t??e.min,m.value=t,s()},I=h(()=>{var t,i,v;return e.range?D(e.modelValue)?e.modelValue:[c.value,(t=e.modelValue)!=null?t:m.value]:ue(e.modelValue)?[c.value,m.value]:D(e.modelValue)?[(i=e.min)!=null?i:0,e.modelValue[1]]:[(v=e.min)!=null?v:0,e.modelValue]}),W=h(()=>Object.keys(e.marks||{}).map(t=>{var i;const v=Number(t);return{key:v,content:(i=e.marks)==null?void 0:i[v],isActive:v>=I.value[0]&&v<=I.value[1]}})),Z=t=>R(b(t,[e.min,e.max]),e.direction),X=k(!1),J=()=>{X.value=!0,a.value&&(l.value=a.value.getBoundingClientRect())};function O(t,i){if(!l.value)return 0;const{left:v,top:E,width:P,height:N}=l.value,F=e.direction==="horizontal"?P:N,le=F*e.step/(e.max-e.min);let T=e.direction==="horizontal"?t-v:E+N-i;T<0&&(T=0),T>F&&(T=F);const ie=Math.round(T/le);return z.plus(e.min,z.times(ie,e.step))}const K=(t,i)=>{m.value=O(t,i),s()},x=t=>{if(d.value)return;const{clientX:i,clientY:v}=t;a.value&&(l.value=a.value.getBoundingClientRect()),m.value=O(i,v),s()};function _([t,i]){return t>i&&([t,i]=[i,t]),e.direction==="vertical"?{bottom:b(t,[e.min,e.max]),top:b(e.max+e.min-i,[e.min,e.max])}:{left:b(t,[e.min,e.max]),right:b(e.max+e.min-i,[e.min,e.max])}}const ee=(t,i)=>{c.value=O(t,i),s()},te=()=>{X.value=!1},ne=h(()=>[o,{[`${o}-vertical`]:e.direction==="vertical",[`${o}-with-marks`]:!!e.marks}]),ae=h(()=>[`${o}-track`,{[`${o}-track-disabled`]:d.value,[`${o}-track-vertical`]:e.direction==="vertical"}]);return{prefixCls:o,cls:ne,trackCls:ae,trackRef:a,computedValue:I,mergedDisabled:d,markList:W,getBtnStyle:Z,getBarStyle:_,handleClick:x,handleMoveStart:J,handleEndMoving:K,handleMoveEnd:te,handleStartMoving:ee,handleStartChange:A,handleEndChange:Q}}});function Le(e,n,r,o,d,f){const a=C("slider-ticks"),l=C("slider-dots"),y=C("slider-marks"),c=C("slider-button"),m=C("slider-input");return u(),g("div",{class:p(e.cls)},[q("div",{ref:"trackRef",class:p(e.trackCls),onClick:n[0]||(n[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[q("div",{class:p(`${e.prefixCls}-bar`),style:V(e.getBarStyle(e.computedValue))},null,6),e.showTicks?(u(),$(a,{key:0,value:e.computedValue,step:e.step,min:e.min,max:e.max,direction:e.direction},null,8,["value","step","min","max","direction"])):S("v-if",!0),e.marks?(u(),$(l,{key:1,data:e.markList,min:e.min,max:e.max,direction:e.direction},null,8,["data","min","max","direction"])):S("v-if",!0),e.marks?(u(),$(y,{key:2,data:e.markList,min:e.min,max:e.max,direction:e.direction},null,8,["data","min","max","direction"])):S("v-if",!0),e.range?(u(),$(c,{key:3,style:V(e.getBtnStyle(e.computedValue[0])),value:e.computedValue[0],direction:e.direction,disabled:e.mergedDisabled,min:e.min,max:e.max,"format-tooltip":e.formatTooltip,"show-tooltip":e.showTooltip,onMovestart:e.handleMoveStart,onMoving:e.handleStartMoving,onMoveend:e.handleMoveEnd},null,8,["style","value","direction","disabled","min","max","format-tooltip","show-tooltip","onMovestart","onMoving","onMoveend"])):S("v-if",!0),G(c,{style:V(e.getBtnStyle(e.computedValue[1])),value:e.computedValue[1],direction:e.direction,disabled:e.mergedDisabled,min:e.min,max:e.max,"format-tooltip":e.formatTooltip,"show-tooltip":e.showTooltip,onMovestart:e.handleMoveStart,onMoving:e.handleEndMoving,onMoveend:e.handleMoveEnd},null,8,["style","value","direction","disabled","min","max","format-tooltip","show-tooltip","onMovestart","onMoving","onMoveend"])],2),e.showInput?(u(),$(m,{key:0,"model-value":e.computedValue,min:e.min,max:e.max,step:e.step,range:e.range,disabled:e.disabled,onStartChange:e.handleStartChange,onEndChange:e.handleEndChange},null,8,["model-value","min","max","step","range","disabled","onStartChange","onEndChange"])):S("v-if",!0)],2)}var U=M(ze,[["render",Le]]);const Oe=Object.assign(U,{install:(e,n)=>{de(e,n);const r=me(n);e.component(r+U.name,U)}});export{Oe as S};

import{u as G,b as W,h as j,N as u,c as Q,A as R,B as U,p as H,S as Y,e as Z,n as q,f as J,C as K,s as ee,_ as te}from"./entry.1a40d7cc.js";import{_ as oe}from"./index.vue.bf4eae92.js";import{_ as se}from"./index.vue.316b2516.js";import{L as ae,b as ne}from"./index.83d9b74c.js";import{_ as le}from"./index.vue.372ac32c.js";import{P as ie}from"./index.a57cdc53.js";import{u as re}from"./usePagination.9cd68578.js";import{I as ce,a as pe}from"./index.7069583a.js";import{m as ue,a as _e,ad as de,D as i,E as k,Q as a,L as n,M as r,u as e,_ as c,G as w,P as p,R as me,N as fe,O as ge}from"./swiper-vue.1d76a0fa.js";import"./index.30d5eb30.js";const he={class:"max-w-container mx-auto min-h-[70vh]"},xe={class:"flex items-center mt-[20px]"},ve={class:"w-[150px]"},Ce={class:"w-full ml-[20px]"},ye={class:"w-[120px] ml-[20px]"},we={class:"mt-[20px] flex flex-col"},be={class:"text-[#FFA864]"},ke=["onClick"],Se=ue({__name:"index",async setup(Le){let f,b;G({title:"查大学"});const{$zsFetch:S}=J(),{provinceCityList:L,getDictionValue:_}=W(),{form:t}=j(()=>({location:[""],type:"",cc:"",properties:"",strengthTags:"",featuresTags:"",sort:"",isMatch:!1,yxmc:""})),{pagination:g,resetData:d,onPageChange:z,onPageSizeChange:T}=re(()=>{window.scrollTo(0,0),I()}),E=_e([{title:"所在地区",key:"location",isShow:!0,multiple:!0,options:[...u,...L.value]},{title:"院校类型",key:"type",isShow:!0,multiple:!1,options:[...u,..._("YXLX")]},{title:"院校层次",key:"cc",isShow:!0,multiple:!1,options:[...u,..._("BXCC")]},{title:"办学性质",key:"properties",isShow:!0,multiple:!1,options:[...u,..._("BXXZ")]},{title:"实力标签",key:"strengthTags",isShow:!0,multiple:!1,isCollapse:!0,options:[...u,..._("SLBQ")]},{title:"特色标签",key:"featuresTags",isShow:!0,multiple:!1,isCollapse:!0,options:[...u,..._("TSBQ")]}]),x=s=>{t.value.sort===`${s} desc`?t.value.sort=`${s} asc`:t.value.sort===`${s} asc`?t.value.sort="":t.value.sort=`${s} desc`,d()},D=s=>{t.value={...t.value,...s},d()},{data:v,status:F,refresh:I}=([f,b]=de(async()=>Q("collegeList",async()=>{var h,m;const[s,o]=await S(R.COLLEGE.GET_COLLEGE_LIST,{body:{...t.value,isMatch:t.value.isMatch?"1":"0",location:t.value.location.join("/"),currentPage:g.value.current,pageSize:g.value.pageSize,pagingOrNot:1}});return{total:((h=o==null?void 0:o.data)==null?void 0:h.totalCount)??0,schoolList:((m=o==null?void 0:o.data)==null?void 0:m.list)??[]}},{default:()=>({total:0,schoolList:[]})})),f=await f,b(),f);return(s,o)=>{const h=K,m=U,$=ee,B=H,P=oe,C=ce,y=pe,V=Y,N=se,A=ne,M=le,O=ae,X=ie;return i(),k("div",he,[a("div",xe,[a("div",ve,[n(m,{size:"large"},{default:r(()=>[n(h,{modelValue:e(t).isMatch,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).isMatch=l),onChange:e(d)},{default:r(()=>[c(" 完全匹配 ")]),_:1},8,["modelValue","onChange"])]),_:1})]),a("div",Ce,[n(B,{modelValue:e(t).yxmc,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).yxmc=l),modelModifiers:{trim:!0},size:"large",class:"rounded-lg h-[38px]",placeholder:"搜索你感兴趣的院校","allow-clear":"",onClear:e(d)},{prefix:r(()=>[n($)]),_:1},8,["modelValue","onClear"])]),a("div",ye,[n(m,{type:"primary",size:"large",class:"openButton w-[120px]",onClick:e(d)},{default:r(()=>[c(" 搜索 ")]),_:1},8,["onClick"])])]),n(P,{data:e(E),"default-values":e(t),onChange:D,class:"mt-[20px]"},null,8,["data","default-values"]),a("div",we,[n(V,{class:"h-[40px]"},{default:r(()=>[a("div",{class:w(["p-[5px_10px] border-solid border border-[#EDEDED] rounded cursor-pointer",{"bg-[#7C92FF] text-white":e(t).sort.startsWith("sf")}]),onClick:o[2]||(o[2]=l=>x("sf"))},[c(" 省份 "),e(t).sort==="sf asc"?(i(),p(C,{key:0})):(i(),p(y,{key:1}))],2),a("div",{class:w(["p-[5px_10px] border-solid border border-[#EDEDED] rounded cursor-pointer",{"bg-[#7C92FF] text-white":e(t).sort.startsWith("score")}]),onClick:o[3]||(o[3]=l=>x("score"))},[c(" 录取分数 "),e(t).sort==="score asc"?(i(),p(C,{key:0})):(i(),p(y,{key:1}))],2),a("div",{class:w(["p-[5px_10px] border-solid border border-[#EDEDED] rounded cursor-pointer",{"bg-[#7C92FF] text-white":e(t).sort.startsWith("strength")}]),onClick:o[4]||(o[4]=l=>x("strength"))},[c(" 院校实力 "),e(t).sort==="strength asc"?(i(),p(C,{key:0})):(i(),p(y,{key:1}))],2),a("div",null,[c(" 共找到符合条件的院校 "),a("span",be,me(("turnThousandth"in s?s.turnThousandth:e(Z))(e(v).total)),1),c(" 所 ")])]),_:1}),n(O,{class:"list-border",bordered:!1,loading:e(F)==="pending"},{empty:r(()=>[n(M)]),default:r(()=>[(i(!0),k(fe,null,ge(e(v).schoolList,l=>(i(),p(A,{key:l.id},{default:r(()=>[a("div",{onClick:ze=>("navigateTo"in s?s.navigateTo:e(q))(`/college/${l.id}`,{open:{target:"_blank"}})},[n(N,{school:l},null,8,["school"])],8,ke)]),_:2},1024))),128))]),_:1},8,["loading"]),n(X,{class:"justify-end mt-[20px]",total:e(v).total,current:e(g).current,"page-size":e(g).pageSize,onChange:e(z),onPageSizeChange:e(T),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size","onChange","onPageSizeChange"])])])}}});const Ae=te(Se,[["__scopeId","data-v-48b7fffd"]]);export{Ae as default};

{
  "version": 3,
  "sources": ["../../../../@arco-design/web-vue/es/_hooks/use-cursor.js"],
  "sourcesContent": ["import { ref } from \"vue\";\nfunction useCursor(input) {\n  const selectionRef = ref();\n  function recordCursor() {\n    if (!input.value)\n      return;\n    const { selectionStart, selectionEnd, value } = input.value;\n    if (selectionStart == null || selectionEnd == null)\n      return;\n    const beforeTxt = value.slice(0, Math.max(0, selectionStart));\n    const afterTxt = value.slice(Math.max(0, selectionEnd));\n    selectionRef.value = {\n      selectionStart,\n      selectionEnd,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  }\n  function setCursor() {\n    if (!input.value || !selectionRef.value)\n      return;\n    const { value } = input.value;\n    const { beforeTxt, afterTxt, selectionStart } = selectionRef.value;\n    if (!beforeTxt || !afterTxt || !selectionStart)\n      return;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else {\n      const beforeLastChar = beforeTxt[selectionStart - 1];\n      const newIndex = value.indexOf(beforeLastChar, selectionStart - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    input.value.setSelectionRange(startPos, startPos);\n  }\n  return [recordCursor, setCursor];\n}\nexport { useCursor };\n"],
  "mappings": ";;;;;AACA,SAAS,UAAU,OAAO;AACxB,QAAM,eAAe,IAAI;AACzB,WAAS,eAAe;AACtB,QAAI,CAAC,MAAM;AACT;AACF,UAAM,EAAE,gBAAgB,cAAc,MAAM,IAAI,MAAM;AACtD,QAAI,kBAAkB,QAAQ,gBAAgB;AAC5C;AACF,UAAM,YAAY,MAAM,MAAM,GAAG,KAAK,IAAI,GAAG,cAAc,CAAC;AAC5D,UAAM,WAAW,MAAM,MAAM,KAAK,IAAI,GAAG,YAAY,CAAC;AACtD,iBAAa,QAAQ;AAAA,MACnB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACA,WAAS,YAAY;AACnB,QAAI,CAAC,MAAM,SAAS,CAAC,aAAa;AAChC;AACF,UAAM,EAAE,MAAM,IAAI,MAAM;AACxB,UAAM,EAAE,WAAW,UAAU,eAAe,IAAI,aAAa;AAC7D,QAAI,CAAC,aAAa,CAAC,YAAY,CAAC;AAC9B;AACF,QAAI,WAAW,MAAM;AACrB,QAAI,MAAM,SAAS,QAAQ,GAAG;AAC5B,iBAAW,MAAM,SAAS,SAAS;AAAA,IACrC,WAAW,MAAM,WAAW,SAAS,GAAG;AACtC,iBAAW,UAAU;AAAA,IACvB,OAAO;AACL,YAAM,iBAAiB,UAAU,iBAAiB,CAAC;AACnD,YAAM,WAAW,MAAM,QAAQ,gBAAgB,iBAAiB,CAAC;AACjE,UAAI,aAAa,IAAI;AACnB,mBAAW,WAAW;AAAA,MACxB;AAAA,IACF;AACA,UAAM,MAAM,kBAAkB,UAAU,QAAQ;AAAA,EAClD;AACA,SAAO,CAAC,cAAc,SAAS;AACjC;",
  "names": []
}

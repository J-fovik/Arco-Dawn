{
  "version": 3,
  "sources": ["../../../../@arco-design/web-vue/es/_hooks/use-popup-manager.js", "../../../../@arco-design/web-vue/es/_components/client-only.js", "../../../../@arco-design/web-vue/es/_hooks/use-teleport-container.js"],
  "sourcesContent": ["import { ref, watch, onMounted, onBeforeUnmount, readonly } from \"vue\";\nconst POPUP_BASE_Z_INDEX = 1e3;\nconst MESSAGE_BASE_Z_INDEX = 5e3;\nconst Z_INDEX_STEP = 1;\nclass PopupManager {\n  constructor() {\n    this.popupStack = {\n      popup: new Set(),\n      dialog: new Set(),\n      message: new Set()\n    };\n    this.getNextZIndex = (type) => {\n      const current = type === \"message\" ? Array.from(this.popupStack.message).pop() || MESSAGE_BASE_Z_INDEX : Array.from(this.popupStack.popup).pop() || POPUP_BASE_Z_INDEX;\n      return current + Z_INDEX_STEP;\n    };\n    this.add = (type) => {\n      const zIndex = this.getNextZIndex(type);\n      this.popupStack[type].add(zIndex);\n      if (type === \"dialog\") {\n        this.popupStack.popup.add(zIndex);\n      }\n      return zIndex;\n    };\n    this.delete = (zIndex, type) => {\n      this.popupStack[type].delete(zIndex);\n      if (type === \"dialog\") {\n        this.popupStack.popup.delete(zIndex);\n      }\n    };\n    this.isLastDialog = (zIndex) => {\n      if (this.popupStack.dialog.size > 1) {\n        return zIndex === Array.from(this.popupStack.dialog).pop();\n      }\n      return true;\n    };\n  }\n}\nconst popupManager = new PopupManager();\nfunction usePopupManager(type, {\n  visible,\n  runOnMounted\n} = {}) {\n  const zIndex = ref(0);\n  const open = () => {\n    zIndex.value = popupManager.add(type);\n  };\n  const close = () => {\n    popupManager.delete(zIndex.value, type);\n  };\n  const isLastDialog = () => {\n    if (type === \"dialog\") {\n      return popupManager.isLastDialog(zIndex.value);\n    }\n    return false;\n  };\n  watch(() => visible == null ? void 0 : visible.value, (visible2) => {\n    if (visible2) {\n      open();\n    } else {\n      close();\n    }\n  }, {\n    immediate: true\n  });\n  if (runOnMounted) {\n    onMounted(() => {\n      open();\n    });\n    onBeforeUnmount(() => {\n      close();\n    });\n  }\n  return {\n    zIndex: readonly(zIndex),\n    open,\n    close,\n    isLastDialog\n  };\n}\nexport { usePopupManager as default };\n", "import { defineComponent, ref, onMounted } from \"vue\";\nvar ClientOnly = defineComponent({\n  name: \"ClientOnly\",\n  setup(_, {\n    slots\n  }) {\n    const mounted = ref(false);\n    onMounted(() => mounted.value = true);\n    return () => {\n      var _a;\n      if (mounted.value) {\n        return (_a = slots.default) == null ? void 0 : _a.call(slots);\n      }\n      return null;\n    };\n  }\n});\nexport { ClientOnly as default };\n", "import { ref, onMounted, watch } from \"vue\";\nimport { getElement } from \"../_utils/dom.js\";\nconst useTeleportContainer = ({\n  popupContainer,\n  visible,\n  defaultContainer = \"body\",\n  documentContainer\n}) => {\n  const teleportContainer = ref(popupContainer.value);\n  const containerRef = ref();\n  const getContainer = () => {\n    const element = getElement(popupContainer.value);\n    const _teleportContainer = element ? popupContainer.value : defaultContainer;\n    const _containerElement = element != null ? element : documentContainer ? document.documentElement : getElement(defaultContainer);\n    if (_teleportContainer !== teleportContainer.value) {\n      teleportContainer.value = _teleportContainer;\n    }\n    if (_containerElement !== containerRef.value) {\n      containerRef.value = _containerElement;\n    }\n  };\n  onMounted(() => getContainer());\n  watch(visible, (visible2) => {\n    if (teleportContainer.value !== popupContainer.value && visible2) {\n      getContainer();\n    }\n  });\n  return {\n    teleportContainer,\n    containerRef\n  };\n};\nexport { useTeleportContainer };\n"],
  "mappings": "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",
  "names": []
}

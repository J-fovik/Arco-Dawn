{
  "version": 3,
  "sources": ["../../../../@arco-design/web-vue/es/_utils/dom.js", "../../../../@arco-design/web-vue/es/_hooks/use-popup-manager.js", "../../../../@arco-design/web-vue/es/_components/client-only.js", "../../../../@arco-design/web-vue/es/_hooks/use-teleport-container.js"],
  "sourcesContent": ["import { isString } from \"./is.js\";\r\nconst NOOP = () => {\r\n  return void 0;\r\n};\r\nconst getDocumentSize = () => {\r\n  const { body } = document;\r\n  const html = document.documentElement;\r\n  let topBody;\r\n  try {\r\n    const topWindow = window.top || window.self || window;\r\n    topBody = topWindow.document.body;\r\n  } catch {\r\n  }\r\n  return {\r\n    height: Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight, (topBody == null ? void 0 : topBody.scrollHeight) || 0, (topBody == null ? void 0 : topBody.clientHeight) || 0),\r\n    width: Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth, (topBody == null ? void 0 : topBody.scrollWidth) || 0, (topBody == null ? void 0 : topBody.clientWidth) || 0)\r\n  };\r\n};\r\nconst isServerRendering = (() => {\r\n  try {\r\n    return !(typeof window !== \"undefined\" && document !== void 0);\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\nconst on = (() => {\r\n  if (isServerRendering) {\r\n    return NOOP;\r\n  }\r\n  return (element, event, handler, options = false) => {\r\n    element.addEventListener(event, handler, options);\r\n  };\r\n})();\r\nconst off = (() => {\r\n  if (isServerRendering) {\r\n    return NOOP;\r\n  }\r\n  return (element, type, handler, options = false) => {\r\n    element.removeEventListener(type, handler, options);\r\n  };\r\n})();\r\nconst contains = (root, ele) => {\r\n  if (!root || !ele) {\r\n    return false;\r\n  }\r\n  let node = ele;\r\n  while (node) {\r\n    if (node === root) {\r\n      return true;\r\n    }\r\n    node = node.parentNode;\r\n  }\r\n  return false;\r\n};\r\nconst getOverlay = (type) => {\r\n  const popper = document.createElement(\"div\");\r\n  popper.setAttribute(\"class\", `arco-overlay arco-overlay-${type}`);\r\n  return popper;\r\n};\r\nconst querySelector = (selectors, container) => {\r\n  var _a;\r\n  if (isServerRendering) {\r\n    return NOOP();\r\n  }\r\n  return (_a = (container != null ? container : document).querySelector(selectors)) != null ? _a : void 0;\r\n};\r\nconst getElement = (target, container) => {\r\n  if (isString(target)) {\r\n    const selector = target[0] === \"#\" ? `[id='${target.slice(1)}']` : target;\r\n    return querySelector(selector, container);\r\n  }\r\n  return target;\r\n};\r\nconst getRelativeRect = (target, relative) => {\r\n  const targetRect = target.getBoundingClientRect();\r\n  const relativeRect = relative.getBoundingClientRect();\r\n  return {\r\n    top: targetRect.top - relativeRect.top,\r\n    bottom: relativeRect.bottom - targetRect.bottom,\r\n    left: targetRect.left - relativeRect.left,\r\n    right: relativeRect.right - targetRect.right,\r\n    width: targetRect.width,\r\n    height: targetRect.height\r\n  };\r\n};\r\nconst isScroll = (element) => {\r\n  return element.tagName === \"BODY\" ? document.documentElement.scrollHeight > window.innerHeight : element.scrollHeight > element.offsetHeight;\r\n};\r\nconst getScrollBarWidth = (element) => {\r\n  return element.tagName === \"BODY\" ? window.innerWidth - getDocumentSize().width : element.offsetWidth - element.clientWidth;\r\n};\r\nexport { NOOP, contains, getDocumentSize, getElement, getOverlay, getRelativeRect, getScrollBarWidth, isScroll, isServerRendering, off, on, querySelector };\r\n", "import { ref, watch, onMounted, onBeforeUnmount, readonly } from \"vue\";\r\nconst POPUP_BASE_Z_INDEX = 1e3;\r\nconst MESSAGE_BASE_Z_INDEX = 5e3;\r\nconst Z_INDEX_STEP = 1;\r\nclass PopupManager {\r\n  constructor() {\r\n    this.popupStack = {\r\n      popup: new Set(),\r\n      dialog: new Set(),\r\n      message: new Set()\r\n    };\r\n    this.getNextZIndex = (type) => {\r\n      const current = type === \"message\" ? Array.from(this.popupStack.message).pop() || MESSAGE_BASE_Z_INDEX : Array.from(this.popupStack.popup).pop() || POPUP_BASE_Z_INDEX;\r\n      return current + Z_INDEX_STEP;\r\n    };\r\n    this.add = (type) => {\r\n      const zIndex = this.getNextZIndex(type);\r\n      this.popupStack[type].add(zIndex);\r\n      if (type === \"dialog\") {\r\n        this.popupStack.popup.add(zIndex);\r\n      }\r\n      return zIndex;\r\n    };\r\n    this.delete = (zIndex, type) => {\r\n      this.popupStack[type].delete(zIndex);\r\n      if (type === \"dialog\") {\r\n        this.popupStack.popup.delete(zIndex);\r\n      }\r\n    };\r\n    this.isLastDialog = (zIndex) => {\r\n      if (this.popupStack.dialog.size > 1) {\r\n        return zIndex === Array.from(this.popupStack.dialog).pop();\r\n      }\r\n      return true;\r\n    };\r\n  }\r\n}\r\nconst popupManager = new PopupManager();\r\nfunction usePopupManager(type, {\r\n  visible,\r\n  runOnMounted\r\n} = {}) {\r\n  const zIndex = ref(0);\r\n  const open = () => {\r\n    zIndex.value = popupManager.add(type);\r\n  };\r\n  const close = () => {\r\n    popupManager.delete(zIndex.value, type);\r\n  };\r\n  const isLastDialog = () => {\r\n    if (type === \"dialog\") {\r\n      return popupManager.isLastDialog(zIndex.value);\r\n    }\r\n    return false;\r\n  };\r\n  watch(() => visible == null ? void 0 : visible.value, (visible2) => {\r\n    if (visible2) {\r\n      open();\r\n    } else {\r\n      close();\r\n    }\r\n  }, {\r\n    immediate: true\r\n  });\r\n  if (runOnMounted) {\r\n    onMounted(() => {\r\n      open();\r\n    });\r\n    onBeforeUnmount(() => {\r\n      close();\r\n    });\r\n  }\r\n  return {\r\n    zIndex: readonly(zIndex),\r\n    open,\r\n    close,\r\n    isLastDialog\r\n  };\r\n}\r\nexport { usePopupManager as default };\r\n", "import { defineComponent, ref, onMounted } from \"vue\";\r\nvar ClientOnly = defineComponent({\r\n  name: \"ClientOnly\",\r\n  setup(_, {\r\n    slots\r\n  }) {\r\n    const mounted = ref(false);\r\n    onMounted(() => mounted.value = true);\r\n    return () => {\r\n      var _a;\r\n      if (mounted.value) {\r\n        return (_a = slots.default) == null ? void 0 : _a.call(slots);\r\n      }\r\n      return null;\r\n    };\r\n  }\r\n});\r\nexport { ClientOnly as default };\r\n", "import { ref, onMounted, watch } from \"vue\";\r\nimport { getElement } from \"../_utils/dom.js\";\r\nconst useTeleportContainer = ({\r\n  popupContainer,\r\n  visible,\r\n  defaultContainer = \"body\",\r\n  documentContainer\r\n}) => {\r\n  const teleportContainer = ref(popupContainer.value);\r\n  const containerRef = ref();\r\n  const getContainer = () => {\r\n    const element = getElement(popupContainer.value);\r\n    const _teleportContainer = element ? popupContainer.value : defaultContainer;\r\n    const _containerElement = element != null ? element : documentContainer ? document.documentElement : getElement(defaultContainer);\r\n    if (_teleportContainer !== teleportContainer.value) {\r\n      teleportContainer.value = _teleportContainer;\r\n    }\r\n    if (_containerElement !== containerRef.value) {\r\n      containerRef.value = _containerElement;\r\n    }\r\n  };\r\n  onMounted(() => getContainer());\r\n  watch(visible, (visible2) => {\r\n    if (teleportContainer.value !== popupContainer.value && visible2) {\r\n      getContainer();\r\n    }\r\n  });\r\n  return {\r\n    teleportContainer,\r\n    containerRef\r\n  };\r\n};\r\nexport { useTeleportContainer };\r\n"],
  "mappings": "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",
  "names": []
}
